(self.modernJsonp=self.modernJsonp||[]).push([["40231"],{167666:function(e,t,a){a.r(t),a.d(t,{default:()=>r});let o={fragment:{argumentDefinitions:n=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:l=[{alias:null,args:[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:n,kind:"Operation",name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",selections:l},params:{id:"6312848b4bb08588587683a04a42e4d0333e2e986fcab0cef4ed200786d3f5d9",metadata:{},name:"AllShareOptionsUtility_CreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};o.hash="08ff9e5b3aeff18d0d8d4d9f872bd8ba";let r=o;var n,l,i=o.default||o;if("query"===i.params.operationKind)if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(i);else{let e=[i.params.name,i.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[e]=i}},333127:function(e,t,a){a.r(t),a.d(t,{default:()=>r});let o={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardHeaderOverflowMenuFragment_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null}],storageKey:null}],type:"V3GetBoard",abstractKey:null};o.hash="5eb01f50884761ae6dfcf21978f9b0cd";let r=o},184242:function(e,t,a){var o,r,n,l;a.r(t),a.d(t,{default:()=>s});let i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BoardRep_board",selections:[{alias:"boardAccess",args:null,kind:"ScalarField",name:"access",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"archivedByMeAt",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"boardOrderModifiedAt",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:r=[o={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CoverPin",kind:"LinkedField",name:"coverPin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"hasCustomCover",storageKey:null},{alias:"images170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:l=[n={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"170x")'},{alias:"images236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!0,selections:l,storageKey:'images(spec:"236x")'},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"owner",plural:!1,selections:r,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pinThumbnailUrls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sectionCount",storageKey:null},{alias:null,args:null,concreteType:"SensitivityScreen",kind:"LinkedField",name:"sensitivityScreen",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showWarning",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldShowBoardCollaborators",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},n,{args:null,kind:"FragmentSpread",name:"BoardCard_board"},{args:null,kind:"FragmentSpread",name:"useGetCoverPhoto_board"}],type:"Board",abstractKey:null};i.hash="3e837db15a9e9f5a0377c7ab62c7401e";let s=i},608747:function(e,t,a){var o,r;a.r(t),a.d(t,{default:()=>l});let n={fragment:{argumentDefinitions:o=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:r=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:o,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:r},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};n.hash="7005ce437a6a6ff33741ab44aa02cf61";let l=n},479699:function(e,t,a){var o,r;a.r(t),a.d(t,{default:()=>l});let n={fragment:{argumentDefinitions:o=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:r=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:o,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:r},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};n.hash="40ae8061007ba5f53a4570e43e4ca864";let l=n},296485:function(e,t,a){var o,r,n,l;a.r(t),a.d(t,{default:()=>s});let i={fragment:{argumentDefinitions:[o={defaultValue:null,kind:"LocalArgument",name:"ban"},r={defaultValue:null,kind:"LocalArgument",name:"boardId"},n={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:l=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,n,o],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:l},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};i.hash="c62e5df78917dd238b70f366f358d487";let s=i},579965:function(e,t,a){var o,r,n,l,i,s,d,c;a.r(t),a.d(t,{default:()=>_});let u={fragment:{argumentDefinitions:o=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:r=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[l={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:o,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},c],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};u.hash="2c3e1508650962adfff1171e950fa419";let _=u},336997:function(e,t,a){var o,r,n,l,i,s,d,c,u,_;a.r(t),a.d(t,{default:()=>p});let h=(o=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],r=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},_=[l,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:o,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:i,storageKey:null},s,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:o,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:r,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:_,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:_,storageKey:null},s,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:_,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});h.hash="9aa22a7713214239538142ad2c957cc3";let p=h},868455:function(e,t,a){var o,r;a.r(t),a.d(t,{default:()=>l});let n={fragment:{argumentDefinitions:o=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:r=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:o,kind:"Operation",name:"collab_emails_Mutation",selections:r},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};n.hash="de392a939a95d05f7ee889fe77a9e52d";let l=n},800679:function(e,t,a){var o,r,n,l;a.r(t),a.d(t,{default:()=>s});let i={fragment:{argumentDefinitions:[o={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},n={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:l=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[r,o,n],kind:"Operation",name:"collab_users_Mutation",selections:l},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};i.hash="850c5de9834cac0edfdd5652a78bffbf";let s=i},351222:function(e,t,a){a.d(t,{Pw:()=>o,SB:()=>r,ZP:()=>l,x9:()=>n});let o=80,r=55,n=e=>"phone"===e?r:o;function l(e,t){return t?0:n(e)}},628710:function(e,t,a){a.d(t,{Z:()=>o});function o(e){return{name:e.full_name||"",src:e.image_medium_url||e.image_small_url||"",href:`/${e.username}/`}}},140725:function(e,t,a){a.d(t,{Q:()=>s,Z:()=>d});var o=a(667294),r=a(521009),n=a(346955),l=a(991384),i=a(15667);function s(e,t){let{setViewContextData:a}=(0,n.A$)(),{requestIdentifier:s}=(0,i.B)(),d=(0,r.Z)(),{viewData:c}=(0,n.SU)();(0,o.useEffect)(()=>{e&&(a({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:a}=e;return s(a),t||null}},189381:function(e,t,a){a.d(t,{Z:()=>o});let o=e=>Math.floor(new Date(e).getTime()/1e3)},741272:function(e,t,a){a.d(t,{Z:()=>v});var o=a(667294),r=a(825332),n=a(111330),l=a(121836),i=a(417162),s=a(506662),d=a(527728),c=a(274320),u=a(753143),_=a(238589),h=a(741155),p=a(334536),m=a(378888),b=a(647709),f=a(859685),g=a(501971);let x=new Map([["enabled_3_pages",3],["enabled_4_pages",4],["enabled_4_pages_rollout",4],["enabled_5_pages",5]]);function v({pageUniqueKey:e,containerPage:t}){let a=(0,i.g)(),v=(0,b.HG)(),y=(0,r.TH)(),{checkExperiment:w}=(0,c.r)(),{isPaid:j,isSocial:A,isDirect:P,isSEO:C}=(0,d.Z)(),k=(0,f.cO)(),z=k?.data?.inviter,[S,I]=(0,o.useState)(!1),[B,T]=(0,o.useState)([]),Z=(0,_.Nl)(),E=(0,u.M0)(),L=v&&x.get(w("upsell_diversity_navigational_pages").group),R=JSON.parse(Z.getItem(l.uL)??"[]"),M=v&&w("dweb_navigational_on_land").anyEnabled,O=v&&"enabled_paid"===w("dweb_navigational_on_land").group,F=v&&"enabled_social"===w("dweb_navigational_on_land").group,U=v&&"enabled_seo_direct"===w("dweb_navigational_on_land").group,D=v&&(w("migration_upsell_manager_redux").anyEnabled||w("migration_upsell_manager_redux_dweb").anyEnabled),N=(0,h.Z)(),H=v&&a&&!Z.getItem(l.J7)&&R.length+1>=0&&!R.includes(e),K=H&&C&&(w("dweb_seo_q2_upper_bound").anyEnabled||w("dweb_q2_mau_push_pc_emergency").anyEnabled||w("dweb_q2_mau_push_pc_emergency_row").anyEnabled),q=H&&P&&(w("dweb_direct_q2_upper_bound").anyEnabled||w("dweb_q2_mau_push_pc").anyEnabled||w("dweb_q2_mau_push_pc_advanced").anyEnabled||w("dweb_q2_mau_push_pc_advanced_row").anyEnabled||w("dweb_q2_mau_push_pc_emergency").anyEnabled||w("dweb_q2_mau_push_pc_emergency_row").anyEnabled),G=H&&j&&(w("dweb_paid_q2_upper_bound").anyEnabled||w("dweb_q2_mau_push_pc").anyEnabled||w("dweb_q2_mau_push_pc_advanced").anyEnabled||w("dweb_q2_mau_push_pc_advanced_row").anyEnabled||w("dweb_q2_mau_push_pc_emergency").anyEnabled||w("dweb_q2_mau_push_pc_emergency_row").anyEnabled),$=H&&A&&(w("dweb_social_q2_upper_bound").anyEnabled||w("dweb_q2_mau_push_pc").anyEnabled||w("dweb_q2_mau_push_pc_advanced").anyEnabled||w("dweb_q2_mau_push_pc_advanced_row").anyEnabled||w("dweb_q2_mau_push_pc_emergency").anyEnabled||w("dweb_q2_mau_push_pc_emergency_row").anyEnabled),V=H&&A&&(0,s.fY)(y),W=(0,g.iU)().count>1,Y=R.length+1>=2,J=R.length+1>=3,X=H&&P&&!W&&(Y&&w("dweb_direct_q2_boost_nav_upsell_ftu")?.group.includes("2_page")||J&&w("dweb_direct_q2_boost_nav_upsell_ftu")?.group.includes("3_page")),Q=H&&P&&W&&(Y&&w("dweb_direct_q2_boost_nav_upsell_revisited")?.group.includes("2_page")||J&&w("dweb_direct_q2_boost_nav_upsell_revisited")?.group.includes("3_page")),ee=H&&C&&!W&&(Y&&w("dweb_seo_q2_boost_nav_upsell_ftu")?.group.includes("2_page")||J&&w("dweb_seo_q2_boost_nav_upsell_ftu")?.group.includes("3_page")),et=H&&C&&W&&(Y&&w("dweb_seo_q2_boost_nav_upsell_revisited")?.group.includes("2_page")||J&&w("dweb_seo_q2_boost_nav_upsell_revisited")?.group.includes("3_page")),ea=H&&C&&Y&&(w("dweb_q2_mau_push_pc").anyEnabled||w("dweb_q2_mau_push_pc_advanced").anyEnabled||w("dweb_q2_mau_push_pc_advanced_row").anyEnabled),eo=X||Q||ee||et||ea,er=v&&a&&(P||j||A)&&w("dweb_q2_mau_push_pc_eu").anyEnabled,en=v&&a&&C&&w("dweb_q2_mau_push_pc_eu").anyEnabled,el=v&&"31"===(0,m.mB)(y?.search).utm_source&&(0,s.am)(y)&&w("dweb_email_referred_board_page_upsell_experiment").anyEnabled;(0,o.useEffect)(()=>{if(D)N((0,p.v2)(e,t));else if((L||M||q||K||G||$||eo||el)&&a&&!Z.getItem(l.J7)){let o=O&&j||F&&A||U&&(P||C)||K||q||G||$||el;(L&&R.length+1>=L&&!eo||o&&R.length+1>=0||eo)&&!R.includes(e)?(a.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP",isWashBlocking:!!(q||G||$||K||ea||el)}),Z.setItem(l.J7,"true"),Z.removeItem(l.uL),E.setItem(n.cu,0)):V||Z.setItem(l.uL,JSON.stringify([...new Set([...R,e])]))}},[e,t,L,a,Z,E,N,D,M,P,C,j,A,O,F,U,G,$,K,q,ea,eo,R,el,V,w]),(0,o.useEffect)(()=>{let o=B;e&&B[B.length-1]!==e&&T(o=B.concat(e)),a&&!S&&(er||en&&o.length>=2)&&(a?.showDesktopSignupModal({signupFlow:{type:"login"},attributionLabel:`navigation_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP",isWashBlocking:!0}),I(!0))},[S,er,en,t,a,e,B]),(0,o.useEffect)(()=>{if(!V||!z)return;let e=[],o=setTimeout(()=>{if(w("ce_dweb_unauth_splp_blocking").anyEnabled){let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`delay_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),Z.setItem(l.J7,"true")}},6e3);e.push(o);let r=setTimeout(()=>{if(w("ce_dweb_unauth_splp_blocking_12s").anyEnabled){let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`delay_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),Z.setItem(l.J7,"true")}},12e3);return e.push(r),()=>{e.forEach(e=>clearTimeout(e))}},[z,V]),(0,o.useEffect)(()=>{if(!V||!z)return;let e=!1,o=()=>{e||(requestAnimationFrame(()=>{let{scrollY:o}=window;if(o>1&&(w("ce_dweb_unauth_splp_blocking").anyEnabled||w("ce_dweb_unauth_splp_blocking_12s").anyEnabled)){let{showDesktopSignupModal:e}=a;e({signupFlow:{type:"signup"},attributionLabel:`scroll_${t}`,container:t,reason:"UPSELL_LOGIN_OR_SIGNUP"}),Z.setItem(l.J7,"true")}e=!1}),e=!0)};return window.addEventListener("scroll",o,{passive:!0}),()=>{window.removeEventListener("scroll",o)}},[z,V])}},706987:function(e,t,a){a.d(t,{Z:()=>r});var o=a(785893);let r=({size:e=56})=>(0,o.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,o.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})},784821:function(e,t,a){a.d(t,{Z:()=>r});var o=a(785893);let r=({size:e=56})=>(0,o.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("rect",{fill:"#fff",height:"56",rx:"28",width:"56"}),(0,o.jsx)("rect",{height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4",width:"55",x:".5",y:".5"}),(0,o.jsx)("path",{d:"M28 12c-9.012 0-16 6.604-16 15.52 0 4.664 1.912 8.696 5.024 11.48.26.232.42.56.428.912l.088 2.848c.028.908.964 1.5 1.796 1.132l3.176-1.4c.268-.12.572-.14.856-.064 1.46.4 3.012.616 4.632.616 9.012 0 16-6.604 16-15.52S37.012 12 28 12Z",fill:"url(#paint0_radial_3730_649_messenger)"}),(0,o.jsx)("path",{d:"m18.392 32.06 4.7-7.456a2.401 2.401 0 0 1 3.472-.64l3.74 2.804a.96.96 0 0 0 1.156-.004l5.048-3.832c.672-.512 1.552.296 1.104 1.012l-4.704 7.452a2.401 2.401 0 0 1-3.472.64l-3.74-2.804a.96.96 0 0 0-1.156.004l-5.048 3.832c-.672.512-1.552-.292-1.1-1.008Z",fill:"#fff"}),(0,o.jsx)("defs",{children:(0,o.jsxs)("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(18.16 43.826) scale(34.8672)",gradientUnits:"userSpaceOnUse",id:"paint0_radial_3730_649_messenger",r:"1",children:[(0,o.jsx)("stop",{stopColor:"#09F"}),(0,o.jsx)("stop",{offset:".61",stopColor:"#A033FF"}),(0,o.jsx)("stop",{offset:".935",stopColor:"#FF5280"}),(0,o.jsx)("stop",{offset:"1",stopColor:"#FF7061"})]})})]})},935709:function(e,t,a){a.d(t,{Z:()=>r});var o=a(785893);let r=({size:e=56})=>(0,o.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,o.jsx)("rect",{fill:"#25D366",height:"56",rx:"28",width:"56"}),(0,o.jsx)("path",{clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff",fillRule:"evenodd"})]})},306171:function(e,t,a){a.d(t,{Z:()=>n});var o=a(667835),r=a(785893);let n=({size:e=56})=>{let t=(0,o.vs)();return(0,r.jsxs)("svg",{display:"block",fill:"none",height:e,viewBox:"0 0 56 56",width:e,xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("rect",{fill:t?"white":"#111111",height:"56",rx:"28",width:"56"}),(0,r.jsx)("path",{d:"M30.3055 25.8561L40.505 14H38.088L29.2318 24.2945L22.1584 14H14L24.6964 29.5671L14 42H16.4171L25.7695 31.1287L33.2396 42H41.3979L30.3049 25.8561H30.3055ZM26.995 29.7042L25.9112 28.1541L17.288 15.8196H21.0005L27.9595 25.7739L29.0433 27.324L38.0892 40.2632H34.3767L26.995 29.7048V29.7042Z",fill:t?"#111111":"white"})]})}},606480:function(e,t,a){a.d(t,{F:()=>f,O:()=>c});var o=a(302148);let r=e=>e.bt("{{ first }}", "{{ first }}", "getTranslatedList.oneItem", undefined, true),n=e=>e.bt("{{ first }} and {{ second }}", "{{ first }} and {{ second }}", "getTranslatedList.twoItems", undefined, true),l=e=>e.bt("{{ first }}, {{ second }} and {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "getTranslatedList.threeItems", undefined, true),i=e=>e.bt("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "getTranslatedList.fourItems", undefined, true),s=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "getTranslatedList.fiveItems", undefined, true),d=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "getTranslatedList.sixItems", undefined, true),c=(e,t,a=6)=>{let c={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(a-1)};if(6===a)switch(e.length){case 0:return[];case 1:return(0,o.nk)(r(t),c);case 2:return(0,o.nk)(n(t),c);case 3:return(0,o.nk)(l(t),c);case 4:return(0,o.nk)(i(t),c);case 5:return(0,o.nk)(s(t),c);case 6:return(0,o.nk)(d(t),c);default:return(0,o.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "getTranslatedList.moreThan6Items", undefined, true),c)}switch(e.length){case 0:return[];case 1:return(0,o.nk)(r(t),c);case 2:return(0,o.nk)(n(t),c);case 3:return(0,o.nk)(l(t),c);case 4:return(0,o.nk)(i(t),c);case 5:return(0,o.nk)(s(t),c);case 6:return(0,o.nk)(d(t),c);case 7:return(0,o.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "getTranslatedList.sevenItems", undefined, true),c);default:return(0,o.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "getTranslatedList.moreThan7Items", undefined, true),c)}},u=e=>e.bt("{{ first }}", "{{ first }}", "getTranslatedList.onePerson", undefined, true),_=e=>e.bt("{{ first }} and {{ second }}", "{{ first }} and {{ second }}", "getTranslatedList.twoPeople", undefined, true),h=e=>e.bt("{{ first }}, {{ second }} and {{ third }}", "{{ first }}, {{ second }} and {{ third }}", "getTranslatedList.threePeople", undefined, true),p=e=>e.bt("{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "{{ first }}, {{ second }}, {{ third }} and {{ fourth }}", "getTranslatedList.fourPeople", undefined, true),m=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }} and {{ fifth }}", "getTranslatedList.fivePeople", undefined, true),b=e=>e.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ sixth }}", "getTranslatedList.sixPeople", undefined, true),f=(e,t,a=6)=>{let r={first:e[0],second:e[1],third:e[2],fourth:e[3],fifth:e[4],sixth:e[5],seventh:e[6],remaining:e.length-(a-1)};if(6===a)switch(e.length){case 0:return[];case 1:return(0,o.nk)(u(t),r);case 2:return(0,o.nk)(_(t),r);case 3:return(0,o.nk)(h(t),r);case 4:return(0,o.nk)(p(t),r);case 5:return(0,o.nk)(m(t),r);case 6:return(0,o.nk)(b(t),r);default:return(0,o.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }} and {{ remaining }} others", "getTranslatedList.moreThan6People", undefined, true),r)}switch(e.length){case 0:return[];case 1:return(0,o.nk)(u(t),r);case 2:return(0,o.nk)(_(t),r);case 3:return(0,o.nk)(h(t),r);case 4:return(0,o.nk)(p(t),r);case 5:return(0,o.nk)(m(t),r);case 6:return(0,o.nk)(b(t),r);case 7:return(0,o.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ seventh }}", "getTranslatedList.sevenPeople", undefined, true),r);default:return(0,o.nk)(t.bt("{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "{{ first }}, {{ second }}, {{ third }}, {{ fourth }}, {{ fifth }}, {{ sixth }} and {{ remaining }} others", "getTranslatedList.moreThan7People", undefined, true),r)}}},467221:function(e,t,a){a.d(t,{GH:()=>s,JF:()=>m,Jb:()=>h,MI:()=>p,_V:()=>d,fi:()=>b,sl:()=>u,we:()=>_});var o=a(189381),r=a(686319),n=a(55543),l=a(6179),i=a(941404);let s="274266067164",d=()=>["public_profile","email","user_friends"],c=["picture.type(large)","id","first_name","last_name","email","gender"],u=e=>{e&&(0,i.dy)({event:"load_script_success",provider:"facebook"}),"undefined"!=typeof window&&window.FB?(e&&(0,i.dy)({event:"initialize_library",provider:"facebook"}),window.FB.init({appId:s,status:!0,xfbml:!0,version:"v2.7"})):e?(0,i.dy)({event:"global_object_not_found",provider:"facebook"}):(0,i.My)("pcons.non_autologin.fb.global_object_not_found")},_=(e,t)=>(t&&(0,i.dy)({event:"load_script_start",provider:"facebook"}),(0,n.Z)((0,l.Z)(e),"FACEBOOK").then(()=>u(t))),h=()=>new Promise(e=>{"undefined"!=typeof window&&window.FB&&window.FB.getLoginStatus(e)});async function p(e){let t=(await (0,r.Z)({url:"/v3/facebook/profile_data/",method:"POST",data:{access_token:e,pii_safe_birthday:!0,fields:c}})).resource_response.data||{};return(0,i.My)(t?"pcons.facebook_user.non_empty_user_data_returned":"pcons.facebook_user.empty_user_data_returned"),{access_token:e,birthday:t.birthday,email:t.email,first_name:t.first_name,gender:t.gender,id:t.id,last_name:t.last_name,picture:t.picture}}let m=()=>new Promise(e=>{window.FB.login(e,{scope:d().join(",")})}).then(e=>new Promise((t,a)=>{if("connected"!==e.status)return void a({status:e.status||"unknown"});let{userID:r,accessToken:n}=e.authResponse;p(n).then(e=>{t({creds:{facebook_id:r,facebook_token:n,facebook_autologin:!1},signupOptions:(({userID:e,accessToken:t,data:{birthday:a,email:r,first_name:n,gender:l,last_name:i,picture:s}})=>({type:"facebook",facebook_id:e,facebook_token:t,birthday:a?(0,o.Z)(a):void 0,email:r,first_name:n,gender:l,image_url:s&&!s.data.is_silhouette?s.data.url:void 0,last_name:i}))({userID:r,accessToken:n,data:e})})},a)})),b=async(e,t)=>{await _(e,!1);let a=await h(),o=t?"dweb":"mweb";if("connected"===a.status){(0,i.My)(`${o}.login_data_from_fb_token.connected`);let{userID:e,accessToken:t}=a.authResponse;try{let a=await (0,r.Z)({url:"/v3/facebook/login_data/",data:{facebook_id:e,facebook_token:t}});if(a?.resource_response?.data){let{connected_to_gplus:e,connected_to_google:t,has_password:r}=a.resource_response.data,n=e||t;return(0,i.My)(`${o}.login_data_from_fb_token.success`),{isGoogleConnected:n,hasPassword:r,isFBAuthOnly:!n&&!r}}(0,i.My)(`${o}.login_data_from_fb_token.no_data`)}catch{(0,i.My)(`${o}.login_data_from_fb_token.error`)}}return null}},622481:function(e,t,a){a.d(t,{Z:()=>o});let o=(0,a(667294).createContext)(null)},282803:function(e,t,a){a.d(t,{Z:()=>o});let o=(0,a(667294).createContext)(null)},255957:function(e,t,a){a.d(t,{Z:()=>B});var o=a(667294),r=a(286036),n=a(457636),l=a(592109),i=a(901360),s=a(392824),d=a(67831),c=a(703393),u=a(735201),_=a(868178),h=a(891631),p=a(594885),m=a(579358),b=a(970773),f=a(361423),g=a(15667),x=a(112114),v=a(603316),y=a(785893);let w=["initial_app_load","client_route_push"],j=(0,l.XV)("PwtSurface"),A="NavigationComplete",P="VisuallyComplete",C=()=>{(0,u._T)()},k=e=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let a=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t])),{metricConfig:{metricId:o,pwtStaticContext:r,annotateExperiments:l},annotations:d,binaryAnnotations:_,constraintMap:h,startTime:p,imageTimings:b,spans:f,traceId:g}=e;(0,s.L8)(`Report_PWT_Complete_${(0,n.KJ)(o)}`,p,a);let x=(0,c.W)({annotateExperiments:[...l??[]],annotations:d,binaryAnnotations:_,constraintMap:h,endTime:a,imageTimings:b,metricId:o,pwtStaticContext:r,startTime:p,traceId:g,spans:f});try{var t=String(x.binaryAnnotationMap["metricId.surface"].value);let e=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let a=t.name.replace(".jpg","").split("/");return{[a[a.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{});[...Array.from(document.getElementsByTagName("img")).map(t=>{let a=t.src.replace(".jpg","").split("/"),o=a[a.length-1];if(e[o]){let a=(0,m.rZ)(t)?.width||1,r=e[o].downloadSize;return{fileName:o,renderedSize:a,downloadedSize:r,ratio:r/a}}return{fileName:o,renderedSize:1,downloadedSize:1,ratio:1}}),...Array.from(document.querySelectorAll('div[role="img"]')).map(t=>{let a=t.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),o=a[a.length-1];if(e[o]&&t instanceof HTMLDivElement){let a=(0,m.rZ)(t)?.width||1,r=e[o].downloadSize;return{fileName:o,renderedSize:a,downloadedSize:r,ratio:r/a}}return{fileName:o,renderedSize:1,downloadedSize:1,ratio:1}})].forEach(e=>{let{ratio:a,fileName:o,downloadedSize:r}=e;e.ratio>1.05&&(0,i.A9)(`checkImageRatio.${t}`,{count:Math.round(10*a)/10,tags:{fileName:`${r}_${o}`}})})}catch(e){(0,i.H)("image_ratio_check_error",{error:e})}return(0,u._T)(),{...e,result:x,status:"DONE"}}return j(`Remaining constraints: ${e.metricConfig.constraints.filter(t=>!e.constraintMap[t]).join(", ")}`),e},z=(e,t)=>{let{constraint:a,time:o}=t,r=(0,n.KJ)(e.metricConfig.metricId);return f.Z?e.metricConfig.constraints.find(e=>e===a)?e.constraintMap[a]?(j(`constraint "${a}" is already complete.`),(0,i.H)("duplicated_constraint_complete",{constraint:a,action:r}),e):(j(`marking constraint "${a}" as complete ${o||performance.now()}`),o?(0,s.ZP)(`constraint_${a}_is_complete`,o):(0,s.ZP)(`constraint_${a}_is_complete`),k({...e,constraintMap:{...e.constraintMap,[a]:o||f.Z.now()}})):(j(`marked constraint "${a}" is not a required constraint.`),e):((0,i.H)("missing_window_performance",{action:r}),e)},S=(e,t)=>{if(j("dispatch action",t),"INIT_ROUTE"===t.type)return((e,t)=>{let{metricConfig:a,startTime:o,isSampled:r,disablePWTLogging:l}=t;if(l||"TIMING"!==e.status||o===e.startTime||C(),!a)return{status:"DISABLED",metricConfig:null};let s=(0,n.KJ)(a.metricId);if("TIMING"===e.status&&e.startTime===o&&e.constraintMap[A])return(0,i.H)("duplicated_init_route_action",{action:s}),e;if(!l){let e=(0,x.H)();(0,i.A9)(`handler.${s}`,{tags:{handler:e}});let t=void 0!==a.metricId.isAuthenticated&&{tags:{isAuth:a.metricId.isAuthenticated}}||void 0;"Other"===a.pwtStaticContext.browserName&&!1===a.metricId.isAuthenticated&&"initial_app_load"===a.metricId.navigationType?((0,i.A9)(`TIMING.${s}`,{tags:{userAgent:window?.navigator?.userAgent}}),(0,i.A9)(`TIMING.sampled.${s}`,{tags:{userAgent:window?.navigator?.userAgent},sampleRate:.03})):((0,i.A9)(`TIMING.${s}`),(0,i.A9)(`TIMING.sampled.${s}`,{sampleRate:.03})),(0,_.C)({resultLog:`TIMING.${s}`,annotateExperiments:a.annotateExperiments||[],getExperimentGroup:a.pwtStaticContext.getExperimentGroup,options:t})}return z({traceId:(0,u.vc)()||(0,u.ZP)("initial_app_load"===a.metricId.navigationType,a.pwtStaticContext.serverData?.trace_id),status:"TIMING",metricConfig:a,startTime:o,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:r,spans:[]},{constraint:A,disablePWTLogging:l})})(e,t.payload);if("TIMING"!==e.status)return j(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":C();let a={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:a};case"ANNOTATE":let{name:o}=t.payload;if(!f.Z)return e;let r=f.Z.now();return j(`adding annotation {${o}: ${r}}`),{...e,annotations:{...e.annotations,...{[o]:r}}};case"BINARY_ANNOTATE":let{name:l,value:s,annotationType:d}=t.payload;return j(`adding binary annotation {${l}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,...{[l]:{value:s,type:d}}}};case"MARK_CONSTRAINT_COMPLETE":return z(e,t.payload);case"REMOVE_CONSTRAINT":return((e,t)=>{if(!f.Z){let t=(0,n.KJ)(e.metricConfig.metricId);(0,i.H)("missing_window_performance",{action:t})}j(`removing constraint "${t}"`);let a=e.metricConfig.constraints.filter(e=>e!==t),{[t]:o,...r}=e.constraintMap;return k({...e,constraintMap:r,metricConfig:{...e.metricConfig,constraints:a}})})(e,t.payload);case"SET_SEGMENT":var c=t.payload;if(!f.Z){let t=(0,n.KJ)(e.metricConfig.metricId);(0,i.H)("missing_window_performance",{action:t})}j(`updating pwt segment to "${c}"`);let h={...e.metricConfig.metricId,segment:c};return{...e,metricConfig:{...e.metricConfig,metricId:h}};case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:a}}=t;if(0===a.length)return C(),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let o=Math.max(...a.map(e=>e.responseEnd||0));return z({...e,imageTimings:a},{constraint:P,time:o})}case"ADD_SUBSPAN":let{startTime:p}=e,{payload:{name:m,startTime:g,endTime:v,annotations:y,binaryAnnotations:w,parentId:S}}=t;return{...e,spans:[...e.spans,{name:m,id:(0,b.Z)(),startTime:g||p,endTime:v,annotationMap:{...y},binaryAnnotationMap:{...w},parentId:S}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,b.Z)(),startTime:f.Z?f.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let I=e.spans.findIndex(e=>e.name===t.payload.name);return I>-1?(e.spans[I].endTime=f.Z?f.Z.now():0,t.payload.annotations&&(e.spans[I].annotationMap={...e.spans[I].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[I].binaryAnnotationMap={...e.spans[I].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,i.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let B=(0,n.KJ)(e.metricConfig.metricId);return(0,i.H)("invalid_pwt_surface_action",{action:B}),e}},I=new Set;function B({children:e,...t}){let a=(0,h.Z)(),l=(e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}})(a),s=t.measureGridVisuallyComplete?["web_masonry_v2"]:[],c=[...t.annotateExperiments??[],...s],{context:u}=(({surface:e,constraints:t,segment:a,measureGridVisuallyComplete:n,annotateExperiments:l,customEnabledNavigationTypes:i,navigationInfo:{clientNavigation:s,navigationType:d},sampleRate:c})=>{let u=(0,o.useRef)("NOT_SET"),_=(0,p.Z)(),{getState:h,dispatch:m}=((e,t)=>{let a=(0,o.useRef)(t);return{getState:()=>a.current,dispatch:t=>{a.current=e(a.current,t)}}})(S,{status:"DISABLED",metricConfig:null}),b=(0,g.B)();if(u.current!==s&&(u.current=s,_)){let{isAuthenticated:o}=_,r=e&&d&&(i||w).includes(d)?{metricId:{type:"surface",surface:e,navigationType:d,isAuthenticated:o,segment:a},annotateExperiments:l,constraints:[A,...t||[],...n?[P]:[]],pwtStaticContext:_}:null;(0,v.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:d,isAuthenticated:o}});let u=!I.has(s);m({type:"INIT_ROUTE",payload:{metricConfig:r,startTime:s?s.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!u}}),u&&I.add(s)}let y=h();if((0,o.useEffect)(()=>()=>{I.delete(s)},[s]),(0,o.useEffect)(()=>{let e=e=>{m({type:"ABORT",reason:e})};r.Z.onSessionPause(e);let t=window.innerHeight,a=window.innerWidth,o=()=>{let e=Math.abs(window.innerHeight-t),r=Math.abs(window.innerWidth-a),n=window.innerHeight!==t,l=window.innerWidth!==a,i={handler:(0,x.H)(),deviceType:_?.deviceType??"unknown",isAuthenticated:_?.isAuthenticated??"unknown",platform:b.userAgent.platform??"unknown"};if((0,v.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...i,heightChanged:n,widthChanged:l}}),n&&(0,v.S0)("webapp.PwtLogger.resizeHeightDelta",e,{sampleRate:1,tags:i}),l&&(0,v.S0)("webapp.PwtLogger.resizeWidthDelta",r,{sampleRate:1,tags:i}),window.removeEventListener("resize",o),_?.deviceType==="phone"&&(!l&&n&&e<=150||!n&&!l)||_?.deviceType==="desktop"&&!n&&!l)return void(0,v.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...i,heightChanged:n,widthChanged:l}});m({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",o),()=>{let t=h();j("handling unmount",t),"TIMING"===t.status&&C(),r.Z.removePauseListener(e),window.removeEventListener("resize",o)}},[]),"TIMING"!==y.status||!y.constraintMap[A])return{state:y,context:null};let{startTime:k,metricConfig:z}=y;return{state:y,context:{abort:e=>m({type:"ABORT",reason:e}),addAnnotation:e=>m({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,a)=>m({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:a}}),addSubspan:(e,t,a,o={},r={},n=null)=>m({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:a,annotations:o,binaryAnnotations:r,parentId:n}}),getId:()=>k,getMetricId:()=>z.metricId,markConstraintComplete:e=>m({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:f.Z?f.Z.now():0}}),removeConstraint:e=>m({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>m({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:z.constraints.includes(P)?e=>m({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},a={},o=null)=>m({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:a,parentId:o}}),stopSubspan:(e,t={},a={},o=null)=>m({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:a,parentId:o}})}}})({...t,annotateExperiments:c,navigationInfo:{navigationType:l,clientNavigation:a}}),_=(0,d.A)(),m=!!_;return(0,o.useEffect)(()=>{if(m){let e=_?.getMetricId(),t=e?(0,n.KJ)(e):null;(0,i.H)("nested_pwt_surface",{action:t})}},[m]),(0,y.jsx)(d.S,{value:u,children:e})}},67831:function(e,t,a){a.d(t,{A:()=>r,S:()=>o});let{Provider:o,getMaybe:r}=(0,a(729434).Z)("pwtSurfaceContext")},891631:function(e,t,a){a.d(t,{Z:()=>n});var o=a(667294),r=a(622481);function n(){return(0,o.useContext)(r.Z)}},594885:function(e,t,a){a.d(t,{Z:()=>n});var o=a(667294),r=a(282803);function n(){return(0,o.useContext)(r.Z)}},461920:function(e,t,a){a.d(t,{Z:()=>o});function o(e,t){let a;if(e.error){let{httpStatus:o,api_error_code:r,redirectUrl:n}=e.error;(404===o||401===o&&7===r)&&(a={pathname:t?"/ideas/":"/",state:{showError:!0}}),301===o&&n&&(a={pathname:n})}return a}},62937:function(e,t,a){a.d(t,{Z:()=>o});let o=(0,a(667294).createContext)("undefined"!=typeof window?window:null)},721534:function(e,t,a){a.d(t,{LD:()=>s,LO:()=>n,Pu:()=>l,cc:()=>o,dB:()=>r,yF:()=>i});let o={10:13098,11:13099,6:13100,5:13101,14:13102,12:13103,15:13104,8:13105,4:13106,1:13107,3:13107,18:13108,19:13109,20:13110,21:13111,22:13112,23:13113,26:13114,27:13115,29:13116,9:13286},r={10:13415,11:13416,6:13417,5:13418,14:13419,12:13420,15:13421,8:13422,4:13423,1:13424,3:13424,18:13425,19:13426,20:13427,21:13428,22:13429,23:13430,26:13431,27:13432,29:13433,9:13434},n={10:13436,11:13437,6:13438,5:13439,14:13440,12:13441,15:13442,8:13443,4:13444,1:13445,3:13445,18:13446,19:13447,20:13448,21:13449,22:13450,23:13451,26:13452,27:13453,29:13454,9:13455},l={10:13457,11:13458,6:13459,5:13460,14:13461,12:13462,15:13463,8:13464,4:13465,1:13466,3:13466,18:13467,19:13468,20:13469,21:13470,22:13471,23:13472,26:13473,27:13474,29:13475,9:13476},i={pin:1,board:2,did_it:6,pinner:3,user:3,today_article:8,follow_invite:3},s=[12,1,3,6,19,4,15,8,11,21,23,30,20,22,14,10]},692385:function(e,t,a){a.d(t,{Z:()=>i});var o=a(667294),r=a(20256),n=a(785893);class l extends o.Component{constructor(e){var t,a,r;super(e),a={manualTruncate:!1},(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?r:r+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a,this.ref=(0,o.createRef)()}componentDidMount(){let{maxHeightPx:e,shaveOptions:t={}}=this.props,o=this.ref&&this.ref.current;if(!o)return;let r=void 0===o.textContent?"innerText":"textContent",n=o[r];if(("boolean"!=typeof t.spaces||t.spaces?n.split(" "):n).length<2)return void this.setState({manualTruncate:!0});a.e("69964").then(a.bind(a,448433)).then(({default:a})=>{a(o,e,t)})}render(){let{maxWidthPx:e,maxHeightPx:t,inline:a=!1}=this.props,{manualTruncate:o}=this.state,l={maxWidth:e,maxHeight:t},i=a?{display:"inline",...l}:{...l};return o?(0,n.jsx)(r.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:i},"data-test-id":"truncater",overflow:"hidden",children:this.props.children}):(0,n.jsx)(r.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:i},"data-test-id":"truncater",children:this.props.children})}}let i=l},32250:function(e,t,a){a.d(t,{Z:()=>r});var o=a(378888);function r(e){let{boardId:t,username:a,slug:r}=e;return t?(0,o.tV)`/v3/boards/${t}/`:a&&r?(0,o.tV)`/v3/boards/${a}/${r}/`:null}},734871:function(e,t,a){a.d(t,{Z:()=>l});var o=a(667294),r=a(289032),n=a(159527);let l=(e="throttle")=>{let[t,a]=(0,o.useState)(0);return(0,o.useEffect)(()=>{let t="throttle"===e?(0,n.Z)(()=>a(window.scrollY),10):(0,r.Z)(()=>a(window.scrollY),10);return window.addEventListener("scroll",t),()=>{window.removeEventListener("scroll",t)}},[e]),t}},535877:function(e,t,a){a.r(t),a.d(t,{BoardCollabFlyout:()=>v,default:()=>y});var o=a(667294),r=a(825332),n=a(20256),l=a(821342),i=a(525839),s=a(647709),d=a(981701),c=a(886981),u=a(32250),_=a(519689),h=a(689636),p=a(785893);function m({board:e,scrollInfo:t}){let a=(0,i.ZP)(),r=(0,c.Z)({name:"ApiResource",options:{url:(0,u.Z)({boardId:e.id})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});if(!r.isLoaded)return(0,p.jsx)(n.xH,{accessibilityLabel:a.bt("Loading", "Loading", "Loading spinner when rendering users", undefined, true),show:!0});{let{owner:a}=e,{data:n,isAtEnd:l,isFetching:i,fetchMore:s}=r,d=[a,...n||[]];return(0,p.jsxs)(o.Fragment,{children:[t?(0,p.jsx)(h.Z,{fetchMore:s,isAtEnd:l,isFetching:i,scrollBuffer:3*t.container.clientHeight,scrollHeight:t.container.scrollHeight,scrollTop:t.top}):null,d.map(e=>{let{full_name:t,id:a,image_medium_url:o,username:r}=e;return(0,p.jsx)(_.Z,{imageUrl:o??"",linkURL:`/${r}/`,name:t??"",subtitle:r,title:t??""},a)})]})}}var b=a(59653),f=a(280203),g=a(77836);function x(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class v extends o.Component{constructor(...e){super(...e),x(this,"state",{contentRef:null,scrollContainer:null,scrollTop:null}),x(this,"handleBoardLeave",()=>{let{navigate:e,viewer:t}=this.props;e(t.isAuth?`/${t.username}`:"/",{replace:!0})}),x(this,"handleContentRef",e=>{let{contentRef:t}=this.state;!t&&e&&(this.setState({contentRef:e}),e.focus())}),x(this,"handleScrollContainer",e=>{let{scrollContainer:t}=this.state;!t&&e&&this.setState({scrollContainer:e})}),x(this,"handleScroll",()=>{let{scrollContainer:e}=this.state;e&&this.setState({scrollTop:e.scrollTop})})}renderInvite(e,t,a){if(!e.invited_user)return null;let o={invite:e,invitedUser:e.invited_user,onBoardLeave:t,onInviteDidUpdate:a,useGestaltModal:!0,isDim:!1};return(0,p.jsx)(d.Z,{...o})}render(){let{anchor:e,board:t,onDismiss:a,viewer:o}=this.props,{scrollContainer:r,scrollTop:l}=this.state,i=o.isAuth&&o.username===t.owner.username,s=r?{container:r,top:l||0}:null,d=(t.access||[]).includes("write");return(0,p.jsx)(f.k,{viewerIsOwner:i,children:(0,p.jsx)(n.mh,{children:(0,p.jsx)(n.xu,{position:"absolute",top:!0,zIndex:g.BO,children:(0,p.jsx)(n.J2,{anchor:e,idealDirection:"down",onDismiss:a,positionRelativeToAnchor:!1,size:this.props.isDesktop?"xl":"lg",children:(0,p.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",maxHeight:500,minWidth:320,width:"100%",children:[(0,p.jsx)(n.Le,{top:0,children:(0,p.jsx)(n.xu,{alignItems:"center",display:"flex",height:64,justifyContent:"center",paddingX:4,paddingY:4,position:"relative",children:(0,p.jsx)("div",{ref:this.handleContentRef,tabIndex:0,children:(0,p.jsx)(n.xv,{size:"300",weight:"bold",children:this.props.i18n.bt("Group members", "Group members", "boardCollabFlyout.header", undefined, true)})})})}),(0,p.jsx)(n.xu,{overflow:"scrollY",children:(0,p.jsx)(n.xu,{ref:this.handleScrollContainer,onScroll:this.handleScroll,children:d?(0,p.jsx)(b.Z,{board:t,onBoardLeave:this.handleBoardLeave,renderInvite:this.renderInvite,scrollInfo:s}):(0,p.jsx)(m,{board:t,scrollInfo:s})})})]})})})})})}}function y(e){let t=(0,i.ZP)(),a=(0,l.Z)(),o=(0,r.s0)(),n=(0,s.HG)();return(0,p.jsx)(v,{...e,i18n:t,isDesktop:n,navigate:o,viewer:a})}},981701:function(e,t,a){a.d(t,{Z:()=>I});var o=a(667294),r=a(581722),n=a(20256),l=a(475498),i=a(821342),s=a(525839),d=a(87853),c=a(448505),u=a(7872),_=a(274320),h=a(417245),p=a(982166),m=a(302148),b=a(15667),f=a(785893);function g({boardName:e,collaboratorName:t,onCancelTransferRequest:a,onDismiss:o}){let r=(0,s.ZP)(),l=(0,b.B)();return(0,f.jsx)(p.ZP,{accessibilityModalLabel:r.bt("Board ownership transfer modal", "Board ownership transfer modal", "boardCollabOwnershipTransferModal.accessibilityModalLabel", undefined, true),footer:(0,f.jsxs)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,f.jsx)(n.iP,{fullWidth:!1,onTap:a,children:(0,f.jsx)(n.xv,{weight:"bold",children:r.bt("Cancel request", "Cancel request", "boardCollabOwnershipTransferModal.cancelRequest", undefined, true)})}),(0,f.jsx)(n.zx,{color:"red",onClick:o,size:"lg",text:r.bt("OK", "Got it", "boardCollabOwnershipTransferModal.confirmationButton", undefined, true)})]}),heading:(0,f.jsxs)(n.xu,{paddingY:8,position:"relative",children:[(0,f.jsx)(n.X6,{align:"center",size:"600",children:r.bt("Collaborators", "Collaborators", "boardCollabOwnershipTransferModal.heading", undefined, true)}),(0,f.jsx)(n.xu,{left:l.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!l.isRTL,top:!0,children:(0,f.jsx)(n.hU,{accessibilityLabel:r.bt("Close", "Close", "boardCollabOwnershipTransferModal.iconAccessibilityLabel", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:o,size:"md"})})]}),onDismiss:o,children:(0,f.jsx)(n.xu,{paddingX:8,children:(0,f.jsx)(n.xv,{align:"center",children:(0,m.nk)(r.bt("We sent {{ collaboratorName }} your request asking them to own {{ boardName }}. When they accept, you can still add Pins, but you wont be able to manage collaborators or change the name, cover photo or description of this board.", "We sent {{ collaboratorName }} your request for them to own {{ boardName }}. When they accept, you can still add Pinsbut you wont be able to manage collaborators, change the name, cover photo, or description of this board.", "boardCollabOwnershipTransferModal.descriptionText", undefined, true),{collaboratorName:t,boardName:(0,f.jsx)(n.xv,{inline:!0,weight:"bold",children:e})})})})})}var x=a(280203),v=a(415602);function y({boardId:e,collaboratorId:t,collaboratorName:a,isAcceptedCollaborator:l,onDelete:i}){let d=(0,r.I0)(),c=(0,s.ZP)(),u=(0,o.useRef)(null),[_,h]=(0,o.useState)(!1),[p,m]=(0,o.useState)(!1),{boardName:b,pendingOwnershipTransfer:y}=(0,x.Z)(),w=()=>{d((0,v.xx)(e,t)),h(!1)},j=async()=>{h(!1),await d((0,v.Cf)(e,t)),m(!0)},A=function({i18n:e,isAcceptedCollaborator:t,onCancelTransferRequest:a,onDelete:o,onRequestTransfer:r,showCancelRequestOption:n,showRequestTransferOption:l}){let i=[{onSelect:o,option:{value:"Remove from board",label:e.bt("Remove from board", "Remove from board", "getCollaboratorDropdownItems.removeText", undefined, true)}}];return t&&(n&&i.push({onSelect:a,option:{value:"Cancel request",label:e.bt("Cancel request", "Cancel request", "getCollaboratorDropdownItems.cancelText", undefined, true)}}),l&&i.push({onSelect:r,option:{value:"Request as board owner",label:e.bt("Request as board owner", "Request as board owner", "getCollaboratorDropdownItems.requestText", undefined, true)}})),i}({i18n:c,isAcceptedCollaborator:l,onCancelTransferRequest:w,onDelete:i,onRequestTransfer:()=>{j()},showCancelRequestOption:y===t,showRequestTransferOption:!y});return(0,f.jsxs)(o.Fragment,{children:[(0,f.jsxs)(n.kC,{justifyContent:"center",children:[(0,f.jsx)(n.hU,{ref:u,accessibilityLabel:c.bt("Collaborator options", "Collaborator options", "boardCollabInviteOverflowButton.accessibilityLabel", undefined, true),bgColor:"transparent",icon:"ellipsis",iconColor:"darkGray",onClick:()=>h(!_),selected:_,size:"md"}),_&&(0,f.jsx)(n.Lt,{anchor:u.current,disableMobileUI:!0,id:"board-collaborator-dropdown",idealDirection:"down",onDismiss:()=>h(!1),zIndex:new n.Ry(1e3),children:(0,f.jsx)(n.Lt.Section,{label:c.bt("Options", "Options", "boardCollabInviteOverflowButton.dropdownSection", undefined, true),children:A.map(e=>(0,f.jsx)(n.Lt.Item,{onSelect:e.onSelect,option:e.option},e.option.value))})})]}),p&&(0,f.jsx)(g,{boardName:b,collaboratorName:a,onCancelTransferRequest:()=>{w(),m(!1)},onDismiss:()=>{m(!1)}})]})}var w=a(519689);function j({actionsDisabled:e,invite:t,invitedUser:a,isDim:o,onApprove:r,onDelete:l}){let d=(0,s.ZP)(),c=(0,i.Z)(),{access:u,board:p,status:m,invited_by_user:b}=t,{pendingOwnershipTransfer:g,viewerIsOwner:v}=(0,x.Z)(),j=c.isAuth&&a.id===c.id,A=c.isAuth&&b.id===c.id,P=a.id===b.id,C="accepted"===m,k=u.includes("approve"),z=u.includes("delete"),S=d.bt("Approve", "Approve", "[button] approve another pinner's request to join the board as a collaborator", undefined, true),I=j?d.bt("Leave", "Leave", "[button] for a collaborator to leave a group board", undefined, true):P&&!C?d.bt("Decline", "Decline", "[button] decline another pinner's request to join board as a collaborator", undefined, true):d.bt("Remove", "Remove", "[button] remove a collaborator from the board]", undefined, true),B=z&&!k,T=z&&k,Z=`/${a.username}/`,{checkExperiment:E}=(0,_.r)(),L=v&&E("web_board_ownership_transfer").anyEnabled,R=L?(0,f.jsx)(y,{boardId:p.id,collaboratorId:a.id,collaboratorName:a.full_name,isAcceptedCollaborator:C,onDelete:l||(()=>{})}):(0,f.jsx)(n.zx,{disabled:e,onClick:l,size:"lg",text:I}),M=g===a.id,O=L&&(void 0!==o?o:!C);return(0,f.jsxs)(n.xu,{children:[(0,f.jsx)(w.Z,{accessory:B&&R,imageUrl:a.image_medium_url||"",isDim:!L&&(void 0!==o?o:!C),linkURL:Z,name:a.full_name,subtitle:((e,a,o,r,n)=>{let l,i=t.invited_by_user.full_name;return l=a?d.bt("Invitation pending", "Invitation pending", "boardCollabInviteCell.pendingInvitationText", undefined, true):o?d.bt("That's you", "That's you", "subtext for current user who requested to join this board", undefined, true):r?d.bt("Invited by you", "Invited by you", "subtext for a pending collaborator who was invited by the current viewer", undefined, true):n?d.bt("Requested to join", "Requested to join", "The subtext that identifies a pending collaborator has personally requested to join the board", undefined, true):(0,h.Z)(d.bt("Invited by {{ user_full_name }}", "Invited by {{ user_full_name }}", "The subtext that identifies a pending collaborator who was invited to collaborate on the board", undefined, true),{user_full_name:i}),e&&(l=l.concat(d.bt("  Ownership pending", "  Ownership pending", "boardCollabInviteCell.pendingOwnershipText", undefined, true))),l})(M,O,j,A,P),title:a.full_name}),T&&(0,f.jsxs)(n.xu,{display:"flex",justifyContent:"end",marginStart:12,paddingX:3,children:[(0,f.jsx)(n.xu,{flex:"grow",paddingX:1,width:"50%",children:(0,f.jsx)(n.zx,{disabled:e,fullWidth:!0,onClick:l,size:"lg",text:I})}),(0,f.jsx)(n.xu,{flex:"grow",paddingX:1,width:"50%",children:(0,f.jsx)(n.zx,{color:"red",disabled:e,fullWidth:!0,onClick:r,size:"lg",text:S})})]})]})}function A(e){let t=(0,s.ZP)(),{onCancel:a,onRemove:o,useGestaltModal:r}=e,l=t.bt("Are you sure you want to leave this group board and remove it from your profile?", "Are you sure you want to leave this group board and remove it from your profile?", " - ", undefined, true),i=r?n.u_:p.ZP;return(0,f.jsx)(i,{accessibilityModalLabel:t.bt("Leave board?", "Leave board?", " - ", undefined, true),footer:(0,f.jsxs)(n.kC,{alignItems:"stretch",justifyContent:"end",children:[(0,f.jsx)(n.xu,{paddingX:1,children:(0,f.jsx)(n.zx,{onClick:a,text:t.bt("Cancel", "Cancel", " - ", undefined, true)})}),(0,f.jsx)(n.xu,{paddingX:1,children:(0,f.jsx)(n.zx,{color:"red",onClick:o,text:t.bt("Leave", "Leave", " - ", undefined, true)})})]}),heading:t.bt("Leave board?", "Leave board?", " - ", undefined, true),onDismiss:a,size:"sm",children:(0,f.jsx)(n.xu,{padding:5,children:(0,f.jsx)(n.xv,{children:l})})})}class P extends o.Component{constructor(...e){var t,a,o;super(...e),a={shouldBlock:!1},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?o:o+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}getBlockDescription(e,t){if("declineRequest"===e)if(t)return(0,m.nk)(this.props.i18n.bt("This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.", "This will decline {{ invited_user_first_name }} from joining this board and block them from subsequent collaboration requests.", "decline another pinner's request to join board as a collaborator and block them", undefined, true),{invited_user_first_name:t});else return this.props.i18n.bt("This will decline this person from joining this board and block them from subsequent collaboration requests.", "This will decline this person from joining this board and block them from subsequent collaboration requests.", "message that explains consequences of declining a request to join board as a collaborator", undefined, true);return t?(0,m.nk)(this.props.i18n.bt("This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited and all of their Pins.", "This will remove {{ invited_user_first_name }}, people {{ invited_user_first_name }} invited, and all their Pins.", " - ", undefined, true),{invited_user_first_name:t}):this.props.i18n.bt("This will remove the person, people they invited and all of their Pins.", "This will remove this person, people they invited, and all their Pins.", "message that explains consequences of removing a collaborator", undefined, true)}render(){let{removeType:e,firstName:t,fullName:a,onCancel:r,onRemove:l,onRemoveAndBlock:i,useGestaltModal:s}=this.props,d="declineRequest"===e?(0,m.nk)(this.props.i18n.bt("Decline {{ invited_user_name }}?", "Decline {{ invited_user_name }}?", "[button] to decline a pinner's request to join a board as a collaborator", undefined, true),{invited_user_name:a}).join(""):(0,m.nk)(this.props.i18n.bt("Remove {{ invited_user_name }}?", "Remove {{ invited_user_name }}?", "[button] to remove a pinner as a collaborator from a group board", undefined, true),{invited_user_name:a}).join(""),c=this.props.i18n.bt("This will prevent them from saving Pins to this board. You can also:", "This will keep them from saving Pins to this board. You can also:", "decline another pinner's request to join board as collaborator. Ending fragment preceeds checkbox for blocking the user.", undefined, true),u=this.getBlockDescription(e,t),_=this.state.shouldBlock?this.props.i18n.bt("Block", "Block", "block another pinner after denying their request to collaborate on a board", undefined, true):this.props.i18n.bt("Remove", "Remove", "decline another pinner's request to collaborate on a board", undefined, true),h=(0,f.jsxs)(o.Fragment,{children:[(0,f.jsx)(n.xu,{padding:5,children:(0,f.jsx)(n.xv,{children:c})}),(0,f.jsx)(n.iz,{}),(0,f.jsxs)(n.xu,{display:"flex",padding:5,children:[(0,f.jsx)(n.xu,{paddingX:1,children:(0,f.jsx)(n.XZ,{checked:this.state.shouldBlock,id:"banUser",name:"ban",onChange:()=>this.setState(({shouldBlock:e})=>({shouldBlock:!e}))})}),(0,f.jsx)(n.xu,{paddingX:1,children:(0,f.jsxs)(n.__,{htmlFor:"banUser",children:[(0,f.jsx)(n.xv,{weight:"bold",children:(0,m.nk)(this.props.i18n.bt("Block {{ name }}", "Block {{ name }}", " - ", undefined, true),{name:t||""})}),(0,f.jsx)(n.xv,{size:"200",children:u})]})})]})]}),b=s?n.u_:p.ZP;return(0,f.jsx)(b,{accessibilityModalLabel:d,footer:(0,f.jsxs)(n.xu,{display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,f.jsx)(n.xu,{paddingX:1,children:(0,f.jsx)(n.zx,{onClick:r,text:this.props.i18n.bt("Cancel", "Cancel", " - ", undefined, true)})}),(0,f.jsx)(n.xu,{paddingX:1,children:(0,f.jsx)(n.zx,{color:"red",onClick:this.state.shouldBlock?i:l,text:_})})]}),heading:d,onDismiss:r,size:"sm",children:h})}}function C(e){let t=(0,s.ZP)();return(0,f.jsx)(P,{...e,i18n:t})}var k=a(25837);function z(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class S extends o.Component{constructor(...e){super(...e),z(this,"state",{currentModal:null,loading:!1}),z(this,"showRemoveSuccessToast",()=>{let{toastManagerContext:e}=this.props,t=this.props.i18n.bt("Collaborator removed", "Collaborator removed", "BoardCollabInviteCellContainer.toast", undefined, true);e.showOneToast(({hideToast:e})=>(0,f.jsx)(l.Z,{duration:3e3,onHide:e,text:t}))}),z(this,"onDelete",()=>{let{onModalOpen:e}=this.props;e&&e(),this.setState({currentModal:"delete"})}),z(this,"onApprove",()=>{let{approveBoardCollabInvite:e,onInviteDidUpdate:t}=this.props;this.setState({loading:!0}),e().then(t).finally(()=>{this.setState({loading:!1})})}),z(this,"deleteBoardInvite",(e=!1)=>{let{deleteBoardCollabInvite:t,onBoardLeave:a,onInviteDidUpdate:o}=this.props,{isViewerInvitedUser:r}=this;this.setState({currentModal:null,loading:!0}),t(r,e).then(()=>{o(),this.showRemoveSuccessToast(),r&&a()}).catch(()=>{}).finally(()=>{this.setState({loading:!1})})}),z(this,"handleDeleteBoardInvite",()=>{this.deleteBoardInvite(!1)}),z(this,"handleDeleteBoardInviteAndBan",()=>{this.deleteBoardInvite(!0)}),z(this,"handleHideModal",()=>{this.setState({currentModal:null})})}get isViewerInvitedUser(){let{viewer:e,invitedUser:t}=this.props;return e.isAuth&&e.id===t.id}get isRequestToJoin(){let{invitedUser:e,invite:{invited_by_user:t}}=this.props;return e.id===t.id}renderCurrentModal(){let{invitedUser:e,useGestaltModal:t=!1}=this.props,{currentModal:a}=this.state;if("delete"===a)if(this.isViewerInvitedUser)return(0,f.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{zIndex:k.fe+1}},position:"absolute",children:(0,f.jsx)(A,{onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,useGestaltModal:t})});else return(0,f.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{zIndex:k.fe+1}},position:"absolute",children:(0,f.jsx)(C,{firstName:e.first_name,fullName:e.full_name,onCancel:this.handleHideModal,onRemove:this.handleDeleteBoardInvite,onRemoveAndBlock:this.handleDeleteBoardInviteAndBan,removeType:this.isRequestToJoin?"declineRequest":"removeCollaborator",useGestaltModal:t})});return null}render(){let{invite:e,invitedUser:t,isDim:a}=this.props,{loading:o}=this.state;return(0,f.jsxs)(n.xu,{children:[(0,f.jsx)(j,{actionsDisabled:o,invite:e,invitedUser:t,isDim:a&&"accepted"!==e.status,onApprove:this.onApprove,onDelete:this.onDelete}),this.renderCurrentModal()]})}}function I(e){let{invite:t,invitedUser:{id:a},invite:{board:{id:o}}}=e,n=(0,s.ZP)(),l=(0,i.Z)(),_=(0,r.I0)(),h=(0,c.Z)(),p=(0,u.lJ)(l,h),m=(0,v.h6)(),b=async()=>{m(o,a)},g=(0,v.yC)();return(0,f.jsx)(S,{...e,approveBoardCollabInvite:b,deleteBoardCollabInvite:(e,a)=>_(g(t,e,a)),i18n:n,orbacSubjectId:p,toastManagerContext:(0,d.dI)(),viewer:(0,i.Z)()})}},59653:function(e,t,a){a.d(t,{Z:()=>f});var o=a(667294),r=a(20256),n=a(525839),l=a(302148),i=a(886981),s=a(947810),d=a(981701),c=a(519689),u=a(280203),_=a(689636),h=a(785893);function p({fetchMore:e,invites:t,isAtEnd:a,isFetching:o,onBoardLeave:n,refreshData:l,renderInvite:i,scroll:s}){return(0,h.jsxs)(r.xu,{children:[s&&(0,h.jsx)(_.Z,{fetchMore:e,isAtEnd:a,isFetching:o,scrollBuffer:3*s.container.clientHeight,scrollHeight:s.container.scrollHeight,scrollTop:s.top}),t.map((e,t)=>e&&e.invited_user&&e.invited_user.id?(0,h.jsx)(r.xu,{children:i(e,n,l)},t):null)]})}var m=a(111879);class b extends o.Component{constructor(...e){var t,a,o;super(...e),t="handleInvitesDidUpdate",a=()=>{let{invitesPendingApproval:e,invites:t}=this.props;e.refresh(),t.refresh()},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}shouldComponentUpdate(e){let{invites:{data:t},pendingOwnershipTransfer:a}=e,{invites:{data:o},pendingOwnershipTransfer:r}=this.props;return!o||r!==a||!!t&&o.length!==t.length}render(){let{board:e,invites:t,invitesPendingApproval:a,scrollInfo:n,onBoardLeave:i,onModalOpen:s,pendingOwnershipTransfer:u,renderInvite:_}=this.props,{full_name:b,image_medium_url:f,username:g}=e.owner,x=(t.data||[]).find(e=>e.invited_user?.id===u)?.invited_user?.full_name,v=u&&x?(0,l.nk)(this.props.i18n.bt("Asked {{ collaboratorName }} to change to board owner", "Requested {{ collaboratorName }} to change to board owner", "boardInviteSheet.CollaboratorList.boardOwner.ownershipRequestSubtitle", undefined, true),{collaboratorName:x}).join(""):this.props.i18n.bt("Owner of this board", "Owner of this board", "boardInviteSheet.CollaboratorList.boardOwner.subtitle", undefined, true);return(0,h.jsx)(o.Fragment,{children:t.isLoaded||a.isLoaded?(0,h.jsx)(m.Z,{fetchMore:t.fetchMore,children:({onScroll:e,setRef:o})=>(0,h.jsxs)(r.xu,{ref:o,maxHeight:"50vh",onScroll:e,overflow:"auto",width:"100%",children:[(0,h.jsx)(p,{fetchMore:a.fetchMore,invites:a.data||[],isAtEnd:a.isAtEnd,isFetching:a.isFetching,onBoardLeave:i,refreshData:this.handleInvitesDidUpdate,renderInvite:_,scroll:n}),(a.data||[]).length>0?(0,h.jsx)(r.xu,{paddingY:3,children:(0,h.jsx)(r.iz,{})}):null,(0,h.jsxs)(r.xu,{paddingY:1,children:[(0,h.jsx)(c.Z,{imageUrl:f??"",linkURL:`/${g}/`,name:b??"",subtitle:v,title:b??""}),(t.data||[]).map(e=>e&&e.invited_user&&e.invited_user.id?(0,h.jsx)(d.Z,{invite:e,invitedUser:e.invited_user,onBoardLeave:i,onInviteDidUpdate:t.refresh,onModalOpen:s},e.invited_user.id):null)]})]})}):(0,h.jsx)(r.xH,{accessibilityLabel:this.props.i18n.bt("Loading", "Loading", "Loading state for showing board collaborators", undefined, true),show:!0})})}}function f(e){let t=(0,n.ZP)(),{pendingOwnershipTransfer:a}=(0,u.Z)(),o=(0,s.Z)(),r=(0,i.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,allow_stale:!1,...o?{orbac_subject_id:o}:{}}}),l=(0,i.Z)({name:"BoardInvitesResource",options:{board_id:e.board.id,field_set_key:"boardEdit",status_filters:"pending_approval",allow_stale:!1,...o?{orbac_subject_id:o}:{}}});return(0,h.jsx)(b,{...e,i18n:t,invites:r,invitesPendingApproval:l,pendingOwnershipTransfer:a})}},519689:function(e,t,a){a.d(t,{Z:()=>d});var o=a(667294),r=a(20256),n=a(744862),l=a(821342),i=a(47426),s=a(785893);function d(e){let{imageUrl:t,name:a,title:d,subtitle:c,accessory:u,linkURL:_,isDim:h}=e,p=(0,l.Z)(),m=p.isAuth?p?.avatar_color_index:void 0,b={__style:{opacity:h?.5:1}},f=(0,i.Z)({url:_??""})?"nofollow":"none";return(0,s.jsx)(o.Fragment,{children:a&&d&&(0,s.jsxs)(r.xu,{alignItems:"center",display:"flex",marginBottom:4,paddingX:4,children:[(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:b,marginEnd:2,children:(0,s.jsx)(r.Tg,{href:_||"",rel:f,rounding:"circle",children:(0,s.jsx)(n.qE,{color:m,name:a,outline:!0,size:"md",src:t})})}),(0,s.jsxs)(r.xu,{alignItems:"stretch",dangerouslySetInlineStyle:b,direction:"column",display:"flex",flex:"grow",children:[(0,s.jsx)(r.xv,{color:"default",lineClamp:1,size:"300",weight:"bold",children:(0,s.jsx)(r.rU,{href:_||"",rel:f,children:d})}),(0,s.jsx)(r.xv,{color:"subtle",lineClamp:1,size:"100",children:c})]}),u&&(0,s.jsx)(r.xu,{marginStart:4,children:u})]})})}},280203:function(e,t,a){a.d(t,{Z:()=>d,k:()=>s});var o=a(667294),r=a(729434),n=a(785893);let{Provider:l,get:i}=(0,r.Z)("BoardOwnershipTransferContext");function s({boardName:e="",children:t,pendingOwnershipTransfer:a=null,viewerIsOwner:r}){let i=(0,o.useMemo)(()=>({boardName:e,pendingOwnershipTransfer:a,viewerIsOwner:r}),[e,a,r]);return(0,n.jsx)(l,{value:i,children:t})}let d=i},964577:function(e,t,a){a.d(t,{Z:()=>o});let o={BOARD_PICKER:"board_picker",ORGANIZE_PINS:"organize_pins",PROFILE:"profile",PIN_CLUSTER:"create_pin_cluster_page"}},306274:function(e,t,a){a.d(t,{IR:()=>r,St:()=>o,Uv:()=>l,Uz:()=>n});let o={CONDITIONAL:0,EMOTIONAL_DISDRESS_OR_SUICIDE:4},r={ABUSIVE:0,SENSITIVE:1,BRAND_UNSAFE:2};function n(e){return!!e&&e.severity===r.ABUSIVE}let l="THIRD_PARTY_TL"},914407:function(e,t,a){a.d(t,{Z:()=>p});var o=a(667294),r=a(20256),n=a(667835),l=a(678213),i=a(816358),s=a(62937),d=a(32937),c=a(104659),u=a(785893);let _={__style:{border:(0,n.Yc)()?void 0:"1px solid #efefef",width:"100vw",maxHeight:"100%",height:"100%",overflow:"auto",top:"0",left:"0",position:"fixed",backgroundColor:(0,n.Yc)()?"#000":"#fff",transition:"transform 0.3s ease-out, visibility 0.5s",WebkitOverflowScrolling:"touch"}},h={modalOpen:{__style:{..._.__style}},modalClose:{__style:{..._.__style,transform:"translate3d(0px, 100%, 0px)",visibility:"hidden"}}};function p({accessibilityModalLabel:e,allowClickAndDrag:t,children:a,isOpen:n}){let{setAppFocusState:_}=(0,c.G)(),p=(0,o.useRef)(null);return(0,o.useEffect)(()=>(n&&(i.Z.pause(),_(!1),document.body&&(document.body.style.overflow="hidden")),()=>{n&&(i.Z.resume(),_(!0),document.body&&(document.body.style.overflow=""))}),[n,_]),(0,u.jsx)(d.Z,{allowClickAndDrag:t,children:(0,u.jsx)(r.mh,{zIndex:l.b7,children:(0,u.jsx)(r.xu,{"aria-label":e,display:"inlineBlock",role:"dialog",children:(0,u.jsx)(r.xu,{ref:p,dangerouslySetInlineStyle:{__style:n?h.modalOpen.__style:h.modalClose.__style},children:(0,u.jsx)(s.Z,{value:p.current,children:a})})})})})}},751961:function(e,t,a){a.d(t,{Z:()=>n});var o=a(366859),r=a(785893);let n=({children:e})=>(0,r.jsx)(o.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){let t=e.target.getBoundingClientRect().top+window.scrollY-70;window.scrollTo(window.scrollX,t)}},pressState:"none",children:e})},357823:function(e,t,a){a.d(t,{Z:()=>s});var o=a(20256),r=a(980787),n=a(525839),l=a(667294),i=a(785893);function s({auxData:e,enabled:t,onPull:a,refreshing:s,viewParameter:d}){let c=(0,n.ZP)(),{logContextEvent:u}=(0,r.u)(),_=4079===d,{position:h,startYRefCurrent:p,pullDistance:m}=function({enabled:e,onSelect:t,refreshing:a}){let o=(0,l.useRef)(null),[r,n]=(0,l.useState)(0),[i,s]=(0,l.useState)(!1),d=a?0:r/250,c=d>0,u=()=>{s(!1),n(0)};return(0,l.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!a&&(o.current=e.touches[0].clientY)},l=e=>{if(o.current){let t=(e.touches[0].clientY-o.current)*.5;t>0&&(n(t),e.preventDefault())}},i=()=>{o.current&&(s(!0),t({pullDistance:r,position:d,resetState:u}),o.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",l,{passive:!1}),window.addEventListener("touchend",i),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",l,{passive:!1}),window.removeEventListener("touchend",i)}}},[e,t,r,a,d]),{pullDistance:r,hasStartPulling:c,position:d,startYRefCurrent:o.current,PULL_MENU_DISTANCE:250,isExecuted:i}}({enabled:t,onSelect:t=>{let{pullDistance:o,resetState:r}=t;o>=120&&(u({view_type:1,event_type:158,view_parameter:_?4079:92,aux_data:_?e:{}}),a()),r()},refreshing:s}),b=Math.min(h,1),f=c.bt("Pull to refresh", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,i.jsx)(o.xu,{children:t&&(0,i.jsx)(o.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:b,transition:null===p?"all .3s ease-out":void 0}},display:"flex",height:120*h,justifyContent:"center",children:(0,i.jsx)(o.JO,{accessibilityLabel:f,icon:p&&m<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},130858:function(e,t,a){a.d(t,{Z:()=>l});var o=a(20256),r=a(647709),n=a(785893);let l=()=>{let e=(0,r.HG)();return(0,n.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:e?{paddingTop:"0px",paddingBottom:"0px",marginTop:"0px",marginBottom:"0px"}:{paddingTop:"4px",paddingBottom:"4px",marginTop:"-4px",marginBottom:"-4px"}},"data-test-id":"initial-feed-fetch"})}},435561:function(e,t,a){a.d(t,{$A:()=>l,Jx:()=>n,w6:()=>i});var o=a(20256),r=a(25837);let n=new o.Ry(5),l=r.NW,i=68},111879:function(e,t,a){a.d(t,{Z:()=>l});var o=a(667294),r=a(159527);function n(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class l extends o.PureComponent{constructor(...e){super(...e),n(this,"setContainerRef",e=>{this.containerRef=e}),n(this,"fetchMoreIfNecessary",(0,r.Z)(()=>{let{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:a},o)=>e+t+(o?o(t):2*t)>a)(this.containerRef,t)&&e()},200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){let{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},425140:function(e,t,a){a.d(t,{G:()=>g,Z:()=>x});var o=a(667294),r=a(20256),n=a(469167),l=a(467925),i=a(93966),s=a(355363),d=a(62937),c=a(647709),u=a(341742),_=a(348268),h=a(357823),p=a(130858),m=a(79293),b=a(648200),f=a(785893);let g=25;function x({align:e,customLayoutType:t,getColumnSpanConfig:a,getResponsiveModuleConfigForSecondItem:g,emptyState:x,feedItems:v,feedKey:y,maxColumns:w,minColumns:j,pagination:{hasNext:A,isLoadingNext:P,loadNext:C,refetch:k},pullToRefresh:z,renderFeedItem:S,serverRender:I,isLoadingStateEnabled:B,isLoadingAccessibilityLabel:T,isLoadedAccessibilityLabel:Z,layout:E}){let L=(0,c.HG)(),{experimentalColumnWidth:R,experimentalGutter:M}=(0,l.Z)(),[O,F]=(0,o.useState)(!1),U=1===w?window.innerWidth:void 0,D="userSearch"===t?window.innerWidth-16:200,N=P&&0===v.length&&!O&&!B,H="desktopFlashlight"===t||"ideaPage"===t&&L?-2:i.qG,K=j??2;return"userSearch"===t&&(K=1),(0,u.Z)(()=>(window.addEventListener("online",C),()=>window.removeEventListener("online",C))),(0,f.jsxs)(r.xu,{"data-test-id":"MobileFeed",children:[(0,f.jsx)(h.Z,{enabled:!!z,onPull:()=>{k(),F(!0)},refreshing:O}),(0,f.jsxs)(r.xu,{"data-test-id":"grid",marginEnd:H,marginStart:H,opacity:O?.5:1,children:[(0,f.jsx)(s.Z,{isAtEndOfFeed:!A,isPlaceholderGrid:B&&P&&!v.length,itemCount:v.length,children:v.length?(0,f.jsx)(r.xu,{"data-test-id":"feed",marginTop:(0,_.kk)({isDesktop:L}),children:(0,f.jsx)(d.Z.Consumer,{children:r=>(0,f.jsx)(o.Fragment,{children:(0,f.jsx)(b.Z,{children:(0,f.jsx)(n.default,{_getResponsiveModuleConfigForSecondItem:g,align:e||("ideaPage"===t?"start":void 0),cacheKey:y,columnWidth:L?R??i.yF:U??D,getColumnSpanConfig:a,gutterWidth:L?M??4*i.jC:void 0,id:I?y:void 0,isFetching:P,isLoadedAccessibilityLabel:Z??"",isLoadingAccessibilityLabel:T??"",isLoadingStateEnabled:!!B,items:v,layout:E??void 0,loadItems:C,maxColumns:w,minCols:K,optOutFluidGridExperiment:null!=w,renderItem:({data:e,itemIdx:t})=>S(e,t),scrollContainerRef:r,serverRender:I})})})})}):P?(0,f.jsx)(p.Z,{}):x??null}),N&&(0,f.jsx)(r.xu,{column:12,paddingY:2,children:(0,f.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===t})})]})]})}},648200:function(e,t,a){a.d(t,{Z:()=>i});var o=a(821342),r=a(647709),n=a(642859),l=a(785893);let i=({children:e})=>{let t=(0,r.HG)();return!(0,o.Z)().isAuth&&t?(0,l.jsx)(n.x,{children:e}):e}},149728:function(e,t,a){a.d(t,{Z:()=>i});var o=a(667294),r=a(20256),n=a(280670),l=a(785893);let i=function({badgeSize:e,badgeSpacing:t,fullName:a,isVerifiedIdentity:i,isVerifiedMerchant:s,truncate:d=!1,size:c="200"}){let u=a.split(" "),_=u.slice(0,u.length-1).join(" "),h=" ".concat(u[u.length-1]);return d?(0,l.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,l.jsx)(r.xv,{lineClamp:1,size:c,weight:"bold",children:a}),(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:(0,l.jsx)(n.Z,{isVerifiedIdentity:i,isVerifiedMerchant:s,size:e})})]}):(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)("span",{children:_}),(0,l.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[h,"",(0,l.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",position:"relative",children:(0,l.jsx)(n.Z,{isVerifiedIdentity:i,isVerifiedMerchant:s,size:e})})]})]})}},551651:function(e,t,a){a.d(t,{Z:()=>d});var o=a(667294),r=a(346955),n=a(503246),l=a(706753),i=a(785893);class s extends o.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:a,viewType:o}=this.props;e({viewData:t,viewParameter:a,viewType:o})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:a,viewParameter:o,viewType:r}=this.props;o===e.viewParameter&&r===e.viewType&&(0,n.ZP)(a,e.viewData)||t({viewData:a,viewParameter:o,viewType:r})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:a,objectIdStr:o,viewData:r,viewParameter:n,viewType:s,clientTrackingParams:d}=this.props;return(0,i.jsx)(l.Z,{auxData:e,clientTrackingParams:d,component:a,objectIdStr:o,viewData:r,viewParameter:n,viewType:s,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:a}=(0,r.A$)();return(0,i.jsx)(s,{...e,clearCurrentPageData:a,setCurrentPageData:t})}},222401:function(e,t,a){a.r(t),a.d(t,{default:()=>j});var o,r=a(667294),n=a(581722);a(167912);var l=a(20256),i=a(521009),s=a(821342),d=a(415546),c=a(15667),u=a(941404),_=a(572227),h=a(647709),p=a(322838),m=a(537005),b=a(408575),f=a(207691),g=a(975740),x=a(785893);let v=(void 0!==o||(o=a(184242)).hash&&"3e837db15a9e9f5a0377c7ab62c7401e"!==o.hash&&console.error("The definition of 'BoardRep_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),y=["thumbnail","imageOnly"],w=({isUsingMask:e,setIsHovered:t,children:a})=>{let o=(0,h.HG)();return e&&o?(0,x.jsx)(l.xu,{onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),children:a}):(0,x.jsx)(r.Fragment,{children:a})};function j({boardKey:e,component:t,containerBackgroundColor:a,display:o="responsive",forwardedRef:j,fullSize:A,hideSecretBoardIcon:P=!1,isAttributionHeightUnfixed:C=!1,isCollaboratorsAttributionVisible:k=!1,isFeaturedBoardsModule:z=!1,isHomePageBoards:S,noPaddings:I=!1,showFollowButton:B=!0,isUsingMask:T=!1,showPinCount:Z=!0,slotIndex:E,type:L,viewObjectIdStr:R,viewParameter:M,viewType:O,trackInteractionObjectProp:F,isFromProfileGrid:U=!1,metaMarginTop:D=2,metaMarginBottom:N=0,metaPaddingY:H=0}){let K=(0,s.Z)(),q=K&&K.isAuth,G=(0,n.I0)(),{locale:$}=(0,c.B)(),V=(0,_.Z)(),W=(0,d.Z)(v,e),Y=(0,g.gC)(),J=W?.entityId?Y(W.entityId):null,X=(0,m.Z)(W),Q=(0,i.Z)(),ee=(0,h.HG)(),[et,ea]=(0,r.useState)(!1);if(!W)return null;let{collaboratingUsers:eo,owner:er,privacy:en,shouldShowBoardCollaborators:el}=W,ei=K.isAuth?K.id:"",es=er?.entityId===ei,ed=[];eo?.__typename==="UserCollaboratingUsersConnectionContainer"?ed=eo.connection?.edges?.map(e=>e?.node?.entityId)??[]:J?.collaborating_users&&(ed=J.collaborating_users.map(e=>e.id));let ec=ed.includes(ei)||es;if("secret"===en&&!ec)return null;let eu=!q&&!(U&&W.hasCustomCover)&&!!W.images236x?.[0]?.url,e_="grid"===L||"thumbnail"===L?2:4,eh=eu?W.images236x?.[0]?.url:X(e_),ep=W.coverPin??J?.cover_pin,em=(ep?.crop&&ep?.size&&{x:ep?.crop[0]??0,y:ep?.crop[1]??0,width:ep?.size[0]??0,height:ep?.size[0]??0})??{x:0,y:0,width:0,height:0},eb={isCustom:!eu&&(W.hasCustomCover||void 0),url:eh,position:em},ef=W.pinThumbnailUrls??J?.pin_thumbnail_urls,eg=(0,b.Jx)(W.images170x,ef?.filter(e=>null!==e)??void 0,eh).map(({url:e})=>({name:(0,b.po)(e),url:e})),ex=[44,49].includes(M)||[3,442,625].includes(O),ev=W?.sensitivityScreen?{reason:W.sensitivityScreen?.reason,showWarning:W.sensitivityScreen?.showWarning}:void 0,ey=W.pinCount??J?.pin_count??0,ew=W.sectionCount??J?.section_count??0,ej=(0,x.jsx)(p.Z,{archivedDate:W.archivedByMeAt??J?.archived_by_me_at,boardId:W.entityId,boardKey:W,canEdit:!!W.boardAccess&&W.boardAccess.includes("write"),containerBackgroundColor:a,coverPhoto:eb,display:o,followedByMe:!!(J?.followed_by_me??W.followedByMe),fullSizeDrawer:A,hideMeta:y.includes(L),hideSecretBoardIcon:P,id:W.entityId,imagesLego:eg,isActive:et,isAttributionHeightUnfixed:C,isAuthenticated:q,isCollaborative:!!W.isCollaborative,isCollaborator:!!ec,isCollaboratorsAttributionVisible:k,isFeaturedBoardsModule:z,isHomePageBoards:S,isOwner:es,isProtected:"protected"===W.privacy||J?.privacy==="protected",isSecret:"secret"===W.privacy||J?.privacy==="secret",lastModifiedDate:W.boardOrderModifiedAt??J?.board_order_modified_at??"",layout:ee?"square":void 0,locale:$,metaMarginBottom:N,metaMarginTop:D,metaPaddingY:H,name:W.name??(J?.name||""),numberOfCollaborators:ed.length,numCols:e_,onFollow:e=>G((0,f.Z)(e,Q)),onUnfollow:e=>G((0,f.f)(e,Q)),pinCount:Z&&ey?ey:void 0,sectionCount:ew??0,sensitivityScreen:ev,showBoardCollaborators:!1!==el,showFollowButton:B,showTitleOnly:"imageTitle"===L,slotIndex:E,viewerId:ei,viewObjectIdStr:R,viewParameter:M,viewType:O}),eA=W.url||J?.url;return!y.includes(L)&&eA?(0,x.jsx)(l.Tg,{dataTestId:"board-rep-tap-area-link",href:q?eA:eA.toLowerCase(),onTap:()=>{if(ex&&Q({aux_data:{board_id:W.entityId,board_pin_count:ey,board_section_count:ew},component:t??1,element:36,event_type:102,view_parameter:49===M?es?3106:3107:M,view_data:{view_object_id_str:R}}),!q){if((0,u.NC)("click_go_to_board"),F)return void V(F);V({action:"click",item:"board-card"})}},rounding:2,tapStyle:"compress",children:(0,x.jsx)(l.xu,{ref:j,paddingY:I?0:ee?2:3,children:(0,x.jsx)(w,{isUsingMask:T,setIsHovered:ea,children:ej})})}):ej}},251517:function(e,t,a){a.d(t,{Z:()=>J});var o=a(667294),r=a(20256),n=a(647709),l=a(476785),i=a(103345),s=a(415245),d=a(785893);function c({description:e,lastModified:t,pinCount:a,sectionCount:o,isArchived:l,isAuthenticated:c,isAutomagical:u=!1,isFeaturedBoard:_=!1,isSecret:h,isSeoBot:p,showEditorialBoardTag:m,upcomingUpdateDateText:b}){let f=(0,n.HG)();return(0,d.jsx)(r.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:f?void 0:"100%",children:(0,d.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{flexDirection:"column-reverse",gap:"12px"}},display:"flex",width:"100%",children:[!!e&&(0,d.jsx)(r.xv,{align:"start",inline:!0,size:"300",children:(0,d.jsx)(i.Z,{description:e,isSeoBot:p})}),(0,d.jsx)(r.xv,{color:"subtle",inline:!0,overflow:"noWrap",size:"200",children:(0,d.jsx)(s.Z,{fontSize:"200",isArchived:l,isAutomagical:u,isFeaturedBoard:_,isSecret:h,lastModified:!c&&t?t:void 0,pinCount:a||0,sectionCount:o||0,showEditorialBoardTag:m,upcomingUpdateDateText:b??""})})]})})}var u=a(980787),_=a(821342),h=a(525839),p=a(906553),m=a(302148),b=a(15667),f=a(572227),g=a(732690);function x({user:e}){let t=e?.verified_identity?.verified,a=e?.is_verified_merchant,o=t||a,n=(0,f.Z)(),{logContextEvent:l}=(0,u.u)(),i=e?.is_ads_only_profile&&e.ads_only_profile_site,s=e?.ads_only_profile_site&&i?e.ads_only_profile_site:`/${e?.username??""}/`;return(0,d.jsx)(r.xu,{"data-test-id":"user-rep",display:"inlineBlock",children:(0,d.jsx)(r.rU,{href:s,onClick:()=>{n({action:"click",item:"user-rep"}),i?l({event_type:9371,element:13382,component:13798,view_parameter:3070,object_id_str:e?.id,aux_data:{aop_origin:"BoardHeaderDescriptionNames"}}):l({event_type:102,component:13798,view_parameter:3070,object_id_str:e?.id})},rel:i?"nofollow":"none",tapStyle:"compress",target:i?"blank":null,underline:"auto",children:(0,d.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,d.jsxs)(r.kC,{alignItems:"center",children:[e?.full_name,o&&(0,d.jsx)(r.xu,{"data-test-id":a?"verifiedMerchantBadge":"verifiedPinnerBadge",display:"inlineBlock",marginStart:1,children:(0,d.jsx)(g.Z,{isVerifiedMerchant:a,showVerifiedIdentity:t,size:"md"})})]})})})})}function v({collaborators:e,boardOwnerId:t,collaboratorsAmount:a}){let o=(0,h.ZP)(),n=(0,p.Z)(),{locale:l}=(0,b.B)(),i=(0,_.Z)(),s=i.isAuth?i.id:void 0;if(!e.length)return null;let c=[...e.filter(({id:e})=>e===t),...e.filter(({id:e})=>e===s&&e!==t),...e.filter(({id:e})=>![t,s].includes(e))],u=c[0],f=c[1];if(c.some(({id:e})=>e===s))return null;let g=c.length,v="";if(g>3){let e=c[2],t=o.bt("By {{ownerName}}, {{ secondCollaborator}} {{ thirdCollaborator }} and {{collaboratorCount}}", "By {{ownerName}}, {{ secondCollaborator}}, {{ thirdCollaborator }} and {{collaboratorCount}}", "BoardHeaderDescriptionNames.Redesign.CollabNamesMoreThan3", undefined, true),i=(null!=a?a+1:c.length)-3;v=(0,m.nk)(t,{ownerName:(0,d.jsx)(x,{user:u},u.id),secondCollaborator:(0,d.jsx)(x,{user:f},f.id),thirdCollaborator:(0,d.jsx)(x,{user:e},e.id),collaboratorCount:(0,d.jsx)(r.xv,{inline:!0,weight:"bold",children:(0,m.nk)(o.nbt(["{{collaboratorsCount}} other", "{{collaboratorsCount}} others"], i, "BoardHeaderDescriptionNames.CollabNamesMoreThan2Text", true),{collaboratorsCount:n(l,i,{})})},"collaborator-count")})}if(3===g){let e=c[2],t=o.bt("By {{ownerName}}, {{ secondCollaborator}} and {{ thirdCollaborator }}", "By {{ownerName}}, {{ secondCollaborator}} and {{ thirdCollaborator }}", "BoardHeaderDescriptionNames.Redesign.CollabNames3", undefined, true);v=(0,m.nk)(t,{ownerName:(0,d.jsx)(x,{user:u},u.id),secondCollaborator:(0,d.jsx)(x,{user:f},f.id),thirdCollaborator:(0,d.jsx)(x,{user:e},e.id)})}if(2===g){let e=o.bt("By {{ownerName}} and {{ secondCollaborator}}", "By {{ownerName}} and {{ secondCollaborator}}", "BoardHeaderDescriptionNames.Redesign.CollabNames2", undefined, true);v=(0,m.nk)(e,{ownerName:(0,d.jsx)(x,{user:u},u.id),secondCollaborator:(0,d.jsx)(x,{user:f},f.id)})}if(1===g){let e=o.bt("By {{ownerName}}", "By {{ownerName}}", "BoardHeaderDescriptionNames.Redesign.CollabNames1", undefined, true);v=(0,m.nk)(e,{ownerName:(0,d.jsx)(x,{user:u},u.id)})}return v}var y=a(825332),w=a(355940),j=a(364843),A=a(821806),P=a(352908),C=a(161774),k=a(840321);let z=(0,o.lazy)(()=>Promise.resolve().then(a.bind(a,535877))),S=({board:e,onAddCollab:t,collaborators:a,boardOwnerId:n,canAddCollaborators:l})=>{let i=(0,_.Z)(),s=i.isAuth?i.id:void 0,c=(0,y.s0)(),h=(0,o.useRef)(null),p=(0,o.useRef)(null),{logContextEvent:m}=(0,u.u)(),b=(0,f.Z)(),g=(0,P.Z)(),[x,v]=(0,o.useState)(!1),S=[...a.filter(({id:e})=>e===n),...a.filter(({id:e})=>e===s&&e!==n),...a.filter(({id:e})=>![n,s].includes(e))],{displayedCollaborators:I,nonDisplayedCollaboratorCount:B}=(0,k.Z)({boardCollaboratorCount:e.collaborator_count,collaborators:S}),T=I.map(e=>({name:e.username??"",src:"https://s.pinimg.com/images/user/default_75.png"===e.image_medium_url?"":e.image_medium_url??""})),Z=g({fn:()=>{e.id&&l?c(`/board/${e.id}/edit/collaborators/`):v(!x)}}),E=S[0].is_ads_only_profile&&S[0].ads_only_profile_site;return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(r.kC,{alignItems:"stretch",flex:"none",justifyContent:"start",children:(0,d.jsxs)(r.xu,{ref:p,display:"flex",children:[(0,d.jsx)(C.Z,{addButtonRef:h,avatarSize:"sm",collaboratorCount:a.length-1,displayedCollaborators:T,nonDisplayedCollaboratorCount:B,onClick:()=>{b({action:"click",item:"user-rep-avatar"}),S.length>1||l?Z():E?(m({event_type:9371,element:13382,aux_data:{aop_origin:"BoardPageFacepiles"}}),window.open(I[0].ads_only_profile_site,"_blank")):c(`/${S[0].username??""}`)},showAddButton:l}),(0,d.jsx)(j.cs,{anchors:{4002:h.current},onCompleteByAnchor:{4002:t},placementId:1000251,positionRelativeToAnchor:!1})]})}),x&&(0,d.jsx)(w.Z,{name:"SafeSuspense_BoardPageFacePiles_BoardCollabFlyout",children:(0,d.jsx)(A.Z,{children:(0,d.jsx)(z,{anchor:p.current,board:e,onDismiss:()=>{v(!1)}})})})]})};var I=a(532611),B=a(889168);function T({board:e,canAddCollaborators:t,isAuthenticated:a,isBoardPreviewMode:n,isOwnerOrCollaborator:l,isSeoBot:i,pinCount:s,onAddCollab:u}){let{archived_by_me_at:_,automagical_board_metadata:h,board_order_modified_at:p,collaborating_users:m=[],collaborator_count:b,description:f,featured_board_metadata:g,featured_in:x,id:y,layout:w,owner:j={},section_count:A,sensitivity:P,should_show_board_collaborators:C}=e,{curator:k,is_sponsored_content:z}=g||{},{upcoming_update_date_text:T}=h||{},Z=z?k:null,E=l&&!n,L=[];k&&!E?L.push(k):(j&&L.push(j),C&&m.length&&L.push(...m));let R=(0,I.Uz)(P),M=g?.board_tag;return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginTop:3,width:"100%",wrap:!0,children:(0,d.jsx)(c,{description:f,isArchived:!!_,isAuthenticated:a,isAutomagical:"automagical"===w,isFeaturedBoard:"featured_board"===w&&!!x?.includes("FEATURED_BOARDS"),isSecret:e?.privacy==="secret",isSeoBot:i,lastModified:p,pinCount:s??0,sectionCount:A,showEditorialBoardTag:"number"==typeof M&&M>=0,upcomingUpdateDateText:T??""},y)}),"automagical"!==w&&(0,d.jsxs)(r.xu,{marginTop:3,children:[!E&&Z&&(0,d.jsx)(B.Z,{user:Z}),(E||!Z)&&(0,d.jsxs)(r.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",direction:"row",gap:2,children:[!R&&(0,d.jsx)(S,{board:e,boardOwnerId:j.id,canAddCollaborators:t&&!n,collaborators:L,onAddCollab:u},"boardPageFace"),(0,d.jsx)(r.xu,{alignItems:"start",direction:"column",display:"flex",height:"100%",justifyContent:"center",marginStart:0,wrap:!0,children:(0,d.jsx)(r.xv,{align:"start",inline:!0,size:"300",children:(0,d.jsx)(v,{boardOwnerId:j?.id??"",collaborators:L,collaboratorsAmount:b})})},"boardPageName")]})]})]})}var Z=a(250787),E=a(185191),L=a(191641),R=a(319227),M=a(788743),O=a(814702),F=a(521009),U=a(667835),D=a(341742);function N({action:e,alignCenter:t,auxData:a={}}){let o=(0,F.Z)(),l=(0,n.HG)(),{title:i,description:s,button:c}=e,u=i&&i.text,_=s&&s.text,h=c&&c.text||"",p=c&&c.link||"";return(0,d.jsxs)(r.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[!!u&&(0,d.jsx)(r.xv,{align:t?"center":"start",weight:"bold",children:u}),!!_&&(0,d.jsx)(r.xv,{align:t?"center":"start",children:_}),!!(c&&h&&p)&&(0,d.jsx)(r.xu,{paddingY:3,children:(0,d.jsx)(r.zx,{color:"white",fullWidth:!0,onClick:()=>{(0,I.qA)({logContextEvent:o,auxData:{url:p,...a},isDesktop:l}),window.location.replace(p)},text:h})})]})}var H=a(784635),K=a(603316);let q={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},G={backgroundColor:"#DDF3F2",...q},$={backgroundColor:"#21374B",...q};function V({alignCenter:e,boardId:t,boardSectionId:a,notice:o,viewType:l,viewParameter:i,query:s,sensitivity:c}){let u=(0,F.Z)(),_=o?.actions??[],h=o?.description,p=h?.text||"",m=h?.text_tags||[],f=o?.title,g=o?.footer,x=(0,b.B)(),v=(0,n.HG)(),y={advisory_level:c?.advisory,entered_query:s,severity_level:c?.severity,stage:x.stage,advisory_type:c?.advisory_type,resource_country:c?.resource_country},w=(0,H.Z)(p,m,u,y,v);return(0,D.Z)(()=>{l&&(u({aux_data:y,event_type:120,component:13367,view_parameter:i,view_type:l}),(0,K.QX)("webapp.searchAdvisories.view",1,{sampleRate:1,tags:{advisory_level:y.advisory_level,advisory_type:y.advisory_type,app:v?"DESKTOP_WEB":"MOBILE_WEB",resource_country:y.resource_country,placement:5===l?"board":"search"}})),t&&5===l&&u({aux_data:{board_id:t,board_section_id:a??0},component:178,event_type:15549,view_parameter:i,view_type:l})}),(0,d.jsxs)(r.xu,{children:[(0,d.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:(0,U.Yc)()?$:G},"data-test-id":"search-advisory",margin:"auto",marginBottom:8,marginTop:6,maxWidth:"800px",padding:6,rounding:2,children:[!!f&&(0,d.jsx)(r.xu,{display:"flex",justifyContent:e?"center":void 0,marginBottom:3,children:(0,d.jsx)(r.X6,{size:"600",children:f})}),!!p&&(0,d.jsx)(r.xu,{marginBottom:4,children:(0,d.jsx)(r.xv,{size:"100",children:w})}),_.map(t=>(0,d.jsx)(r.xu,{paddingY:2*(_.length>1),children:(0,d.jsx)(N,{action:t,alignCenter:e,auxData:y})},t.id))]}),!!g&&(0,d.jsx)(r.xu,{marginTop:4,children:(0,d.jsx)(r.xv,{color:"subtle",size:"100",children:(0,d.jsx)(O.Z,{options:{overrides:{b:{component:({children:e})=>(0,d.jsx)(r.rU,{display:"inlineBlock",href:g.link??"",onClick:()=>{(0,I.qA)({logContextEvent:u,auxData:{url:g.link,...y},isDesktop:v})},target:"blank",children:(0,d.jsx)(r.xv,{color:"subtle",size:"100",weight:"bold",children:e})},g.link)}}},children:g.text})})})]})}var W=a(441178),Y=a(679269);function J({blockedByMe:e,board:t,children:a,getUnauthDesktopBoardActions:i,isAuthenticated:s,isBoardPreviewMode:c,isSeoBot:u=!1,setInviteCollaboratorsModalIsOpen:_=()=>{},viewParameter:h}){let p,{collaborated_by_me:m,collaborator_invites_enabled:b,featured_board_metadata:f,id:g,name:x,owner:v,pin_count:y,sensitivity:w}=t,j=(0,M.Z)(!!m),A=(0,R.Z)(v?.id),P=(A||j&&b)??!1,C=(0,I.Uz)(w),k=(0,n.HG)(),z=(0,n.ml)(),S=(0,n.Wb)(),B=z||S,{isSmallerImage:O,isSmallScreen:F}=(0,Y.Z)(),U=j||A,{board_subtitle:D}=f||{},N=k&&!s&&!u,H=t.header?.large_image_url||null,K=B&&!!H,q=2*!!z;return N&&H&&(p=F?{__style:{flexDirection:"column-reverse",gap:"32px"}}:{__style:{gap:"64px"}}),(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(l.Z,{isGetServerRenderGridHeaderStyles:k,maxColumns:Z.Sk,children:(0,d.jsxs)(r.xu,{alignItems:N&&(F||!H)?"start":"stretch",dangerouslySetInlineStyle:p,direction:"row",display:"flex",justifyContent:"between",paddingX:2*!k,paddingY:k?8:void 0,children:[(0,d.jsx)(r.kC,{alignItems:"center",justifyContent:N?"between":"center",width:z?"100%":void 0,children:(0,d.jsxs)(r.xu,{column:12,"data-test-id":"board-header",marginBottom:B&&A?4:2*!!z,marginTop:2*!!z,maxWidth:750,children:[D&&!K&&(0,d.jsx)(r.xu,{marginBottom:2,children:(0,d.jsx)(r.xv,{weight:"bold",children:D})}),!K&&(0,d.jsx)(r.xu,{"data-test-id":"board-title",maxWidth:750,children:(0,d.jsx)(r.X6,{accessibilityLevel:1,align:"start",overflow:"breakWord",size:z?"600":void 0,children:x})}),(0,d.jsx)(T,{blockedByMe:e,board:t,canAddCollaborators:P,isAuthenticated:s,isBoardPreviewMode:c,isOwnerOrCollaborator:A||j,isSeoBot:u,onAddCollab:()=>_(!0),pinCount:y})]})}),N&&i&&(0,d.jsx)(r.xu,{alignItems:"start",direction:"row",display:"flex",justifyContent:"center",marginBottom:q,marginTop:q,children:H?(0,d.jsx)(W.Z,{boardActions:i(),imageUrl:H,imageWidth:O?Y.w:void 0}):i()})]})}),C&&(0,I.Fx)(w)&&w&&(0,d.jsx)(r.xu,{paddingY:2,children:(0,d.jsx)(V,{boardId:g,notice:w.notices?.[0],sensitivity:w,viewParameter:h,viewType:5})}),U&&!c&&(0,d.jsx)(r.xu,{paddingX:2,children:(0,d.jsx)(E.Z,{boardId:g,horizontalAlignment:"start",isBoardEmpty:!y,toolSize:72})}),a&&(0,d.jsx)(r.xu,{children:a}),(A||j)&&(0,d.jsx)(L.Z,{boardId:g,surface:"board"})]})}},431394:function(e,t,a){a.d(t,{Z:()=>z});var o=a(667294),r=a(20256),n=a(667835),l=a(364843),i=a(821342),s=a(525839),d=a(588367),c=a(351222),u=a(647709),_=a(734871),h=a(958279),p=a(250787),m=a(607001),b=a(572227),f=a(785893);let g=()=>{let e=(0,_.Z)(),t=(0,o.useRef)(null),a=(0,s.ZP)(),[n,l]=(0,o.useState)(!1),[i,d]=(0,o.useState)(!1),c=(0,m.Z)(),u=(0,b.Z)();return(0,o.useEffect)(()=>{!n&&e>100&&d(!0)},[e,n]),(0,f.jsxs)(r.xu,{children:[(0,f.jsx)(r.hU,{ref:t,accessibilityLabel:a.bt("Create button", "Create button", "BoardHeader.CreateBoardButton", undefined, true),icon:"add",onClick:()=>{u({action:"click",item:"unauth-board-upsell-mweb"}),c({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"unauth_board_upsell_mweb",mobileOptions:{headingType:"lopBoardUpsell"}}),l(!0),d(!1)},size:"lg"}),i&&(0,f.jsx)(r.pl,{anchor:t.current,forceDirection:!0,id:"board-creation-upsell-popover",idealDirection:"down",message:a.bt("Want to curate your own ideas? Make a board", "Want to curate your own ideas? Make a board", "boardHeaderOverflowMenu.createBoardPopover.text", undefined, true),onDismiss:()=>{l(!0),d(!1)}})]})};var x=a(581722),v=a(19585),y=a(415602);function w(e){let t=(0,v.Z)(),{isRequestedByMe:a,toggle:o,size:n}=e,l=a?t.bt("Cancel request", "Cancel request", "[Button] Cancel request to join a group board as a collaborator", undefined, true):t.bt("Join", "Join", "BoardJoinButton.RequestToJoinText", undefined, true);return(0,f.jsx)(r.zx,{fullWidth:!0,onClick:o,size:n,text:l})}function j(e){let{isRequestedByMe:t,boardId:a}=e,o=(0,x.I0)(),r=(0,i.Z)(),n=(0,y.tV)();return(0,f.jsx)(w,{...e,toggle:()=>{t?o((0,y.GJ)(a,r.isAuth?r.id:"")):o(n(a))}})}var A=a(946757),P=a(588836),C=a(932849);let k=()=>{};function z({blockedByMe:e=!1,board:t,canEdit:a=!1,isBoardPreviewMode:m=!1,isOwnerOrCollaborator:b=!1,isSensitive:x,isSeoBot:v=!1,onShowAbout:y,openSendBoardModal:w,setBoardPreviewMode:z,shareButtonRef:S,shouldUseFallbackUrl:I=!0,showAboutRecommendationOption:B=!1,showFollowOption:T=!1,showOverflowMenuMobile:Z,showReportOption:E=!1,showShareButtonMobile:L=!1,showShareOptionInOverflowMenu:R=!1,showSwitchPreviewMode:M=!1,slug:O="",stickyHeaderRef:F,username:U="",viewParameter:D,isUnauthMobileBoardUpsellEnabled:N}){let H=(0,n.vs)(),K=(0,s.ZP)(),q=(0,i.Z)(),{isAuth:G}=q,$=(0,_.Z)("debounce"),V=!G&&!v,W=(0,c.ZP)((0,u.ZP)(),G),{header:Y,id:J,name:X,collaborator_requests_enabled:Q,viewer_collaborator_join_requested:ee}=t,et=!!Y?.large_image_url,[ea,eo]=(0,o.useState)(et),[er,en]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{$<28?(et&&eo(!0),en(!1)):(et&&eo(!1),en(!0))},[et,$]),(0,o.useEffect)(()=>{eo(et)},[et]),(0,f.jsx)(A.Z,{overrideTop:W,position:et?"fixed":"sticky",style:et?{zIndex:499,width:`calc(100% - ${2*p.IM}px)`}:void 0,children:(0,f.jsx)(d.default,{isTransparentBackground:ea,paddingY:2,children:(0,f.jsxs)(r.xu,{ref:F,alignItems:"center",column:12,"data-test-id":"boardHeader",display:"flex",height:"100%",children:[!V&&(0,f.jsx)(r.kC,{children:(0,f.jsx)(P.Z,{color:ea||H?"light":"darkGray",fallbackUrl:"/",shouldUseFallbackUrl:I,size:"lg"})}),er&&(0,f.jsx)(r.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"start",marginEnd:0,marginStart:0,children:(0,f.jsx)(r.xv,{align:"start",lineClamp:1,overflow:"breakAll",weight:"bold",children:X})}),(0,f.jsx)(r.xu,{flex:"grow"}),M&&z&&(0,f.jsx)(C.Z,{isBoardPreviewMode:m,setBoardPreviewMode:z}),N&&(0,f.jsx)(g,{}),L&&w&&(0,f.jsxs)(r.xu,{"data-test-id":"share-board-button",children:[(0,f.jsx)(r.hU,{ref:S,accessibilityLabel:K.bt("Share board", "Share board", "boardHeaderOverflowMenu.iconButton.accessibilityLabel", undefined, true),icon:"share",iconColor:ea||H?"light":"darkGray",onClick:w,size:"lg"}),(0,f.jsx)(l.N,{anchors:{4020:S?.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0})]}),Z&&(0,f.jsx)(r.xu,{flex:"none",children:(0,f.jsx)(h.Z,{bgColor:"transparent",board:t,hideShare:!R,iconColor:ea||H?"light":"darkGray",iconSize:V?"lg":void 0,isOwnerOrCollaborator:b,isSensitive:x,onShowAbout:y||k,openSendBoardModal:w||k,showAboutRecommendationOption:B,showFollowOption:T,showReportOption:E,slug:O,username:U,viewParameter:D,viewType:578})}),G&&!a&&(0,f.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:!e&&Q&&!q.isPrivateProfile&&(0,f.jsx)(r.xu,{flex:"none",paddingX:1,children:(0,f.jsx)(j,{boardId:J,isRequestedByMe:!!ee,size:"lg"})})})]})})})}},729969:function(e,t,a){a.d(t,{Z:()=>u});var o=a(20256),r=a(525839),n=a(250787),l=a(785893);let i=new o.Ry(1),s=new o.H3([i]),d=new o.H3([s]);function c(){return(0,l.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(181deg, rgba(0, 0, 0, 0.50) 0.8%, rgba(0, 0, 0, 0.20) 50.98%, rgba(0, 0, 0, 0.50) 99.19%)"}},height:"100%",left:!0,position:"absolute",width:"100%",zIndex:s})}function u({board:e}){let t=(0,r.ZP)(),{featured_board_metadata:a,name:s}=e,{board_subtitle:u}=a||{},_=e.header?.large_image_url||"";return(0,l.jsx)(o.xu,{"data-test-id":"board-header-image-container",marginBottom:0,marginEnd:-2,marginStart:-2,width:`calc(100% + ${2*n.IM}px`,children:(0,l.jsxs)(o.zd,{height:250,width:"100%",children:[(0,l.jsx)(c,{}),(0,l.jsx)(o.xu,{height:"100%",left:!0,position:"absolute",width:"100%",zIndex:i,children:(0,l.jsx)(o.Ee,{alt:t.bt("Board header image", "Board Header Image", "board.header.mobileBoardHeaderImage", undefined, true),fit:"cover",naturalHeight:312,naturalWidth:472,role:"presentation",src:_})}),(0,l.jsx)(o.xu,{display:"flex",height:"100%",paddingX:4,paddingY:3,position:"relative",zIndex:d,children:(0,l.jsxs)(o.kC,{dataTestId:"board-name-container",direction:"column",justifyContent:"end",children:[u&&(0,l.jsx)(o.xu,{marginBottom:2,children:(0,l.jsx)(o.xv,{color:"light",weight:"bold",children:u})}),(0,l.jsx)(o.X6,{accessibilityLevel:1,color:"light",size:"600",children:s})]})})]})})}},902658:function(e,t,a){a.d(t,{X:()=>s,i:()=>i});var o=a(667294),r=a(729434),n=a(785893);let{Provider:l,get:i}=(0,r.Z)("Session");function s({children:e}){let[t,a]=(0,o.useState)(void 0),r=(0,o.useMemo)(()=>({unauthBoardInvite:t,setUnauthBoardInvite:a}),[t]);return(0,n.jsx)(l,{value:r,children:e})}},476785:function(e,t,a){a.d(t,{Z:()=>c,q:()=>d});var o=a(667294),r=a(467925),n=a(369416),l=a(647709),i=a(348268),s=a(785893);let d="boardFeedAlignmentWrapper",c=({children:e,isGetServerRenderGridHeaderStyles:t,maxColumns:a,style:c})=>{let u=(0,l.ZP)(),{experimentalColumnWidth:_,experimentalGutter:h}=(0,r.Z)(null==a),p=(0,i.s)({trafficSource:"board",deviceType:u,experimentalGutter:h})||0,m=(0,i.SY)({deviceType:u,experimentalColumnWidth:_?236:void 0}),b=t&&(0,i.mb)({gutterWidth:p,itemWidth:m,className:d,maxColumns:a});return(0,s.jsxs)(o.Fragment,{children:[!!b&&(0,s.jsx)(n.Z,{unsafeCSS:b}),(0,s.jsx)("div",{className:d,style:c?{...c}:{margin:"auto"},children:e})]})}},958279:function(e,t,a){a.d(t,{Z:()=>E});var o,r=a(667294),n=a(581722),l=a(167912),i=a(825332),s=a(20256),d=a(521009),c=a(364843),u=a(982166),_=a(475498),h=a(525839),p=a(302148),m=a(941404),b=a(572227),f=a(87853),g=a(647709),x=a(222401),v=a(262344),y=a(352908),w=a(449613),j=a(843439),A=a(207691),P=a(947066),C=a(975740),k=a(785893);function z({overflowMenuButtonRef:e,isDesktop:t}){return(0,k.jsx)(c.N,{anchors:{[t?3001:4001]:e},idealDirection:"down",onAnchorTouch:"complete",placementId:t?18:1000251,scrollToDismiss:!0})}function S({handleClose:e,isMenuOpen:t,setMenuOpen:a,bgColor:o="lightGray",iconSize:n="sm",iconColor:l,children:i}){let d=(0,h.ZP)(),c=(0,r.useRef)(null);return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(s.xu,{ref:c,children:(0,k.jsx)(s.hU,{accessibilityLabel:d.bt("More board options", "More board options", "boardHeaderOverflowMenu.iconButton.accessibilityLabel", undefined, true),bgColor:o,icon:"ellipsis",iconColor:l,onClick:()=>a(!t),selected:t,size:n})}),t&&(0,k.jsx)(s.Lt,{anchor:c.current,disableMobileUI:!0,id:"more-board-options-desktop",idealDirection:"down",onDismiss:e,zIndex:new s.Ry(1e3),children:i({handleClose:e})}),!t&&(0,k.jsx)(z,{isDesktop:!0,overflowMenuButtonRef:c.current})]})}function I({isSensitive:e,isOwnerOrCollaborator:t,onShowAbout:a,openSendBoardModal:o,username:l,hideShare:c,bgColor:I,iconColor:B,iconSize:T,archivedByMeAt:Z,boardName:E,id:L,privacy:R,followByMe:M,showAboutRecommendationOption:O,showFollowOption:F,showReportOption:U,slug:D}){let N=(0,h.ZP)(),H=(0,g.HG)(),K=(0,y.Z)(),q=(0,i.s0)(),G=(0,n.I0)(),{showToast:$}=(0,f.dI)(),V=(0,b.Z)(),[W,Y]=(0,r.useState)(!1),[J,X]=(0,r.useState)(!1),Q=(0,d.Z)(),[ee,et]=(0,r.useState)(M),ea=!!Z,eo=(0,r.useRef)(null),er=(0,C.gC)()(L),en=()=>{Y(!1),V({action:"click",item:"close-overflow-menu"})},el=()=>X(!1),ei=()=>X(!0),es=ea?(0,p.nk)(N.bt("Unarchived {{ boardName }}", "Unarchived {{ boardName }}", "boardHeaderOverflowMenu.onBoardUnarchive.toast", undefined, true),{boardName:E}).join(""):(0,p.nk)(N.bt("Archived {{ boardName }}", "Archived {{ boardName }}", "boardHeaderOverflowMenu.onBoardArchive.toast", undefined, true),{boardName:E}).join(""),ed=(0,k.jsx)(s.xu,{height:32,width:32,children:(0,k.jsx)(x.default,{boardKey:er?{type:"deprecated",data:er}:null,type:"thumbnail",viewType:void 0})}),{lawImplementation:ec,inAppReporting:eu,createReportLink:e_}=(0,w.ZP)(),eh=ec&&function(e,t,a,o,r){if(!e)return null;let n=r({username:t,boardName:a}),l=`report-board-${e}`,i=`desktop.unauth.board.overflowmenu.${e}`,s=`mweb.unauth.board.overflowmenu.${e}`;return{href:n,label:o?.board||"",dataTestId:l,trackAction:i,mobileTrackAction:s}}(ec,l,D,eu,e_),ep=()=>{G((0,j.z)(L,l)).then(()=>{$(({hideToast:e})=>(0,k.jsx)(_.Z,{_dangerouslySetThumbnail:ed,onHide:e,text:es}))}),el(),en()},em=()=>{G((0,P.f)(L,l)).then(()=>{$(({hideToast:e})=>(0,k.jsx)(_.Z,{_dangerouslySetThumbnail:ed,onHide:e,text:es}))}),el(),en()},eb=()=>J?ea?em:ep:()=>{},ef=ea?N.bt("Unarchive", "Unarchive", "boardHeaderOverflowMenu.archiveOptionTitle.UnarchiveBoard", undefined, true):N.bt("Archive", "Archive", "boardHeaderOverflowMenu.archiveOptionTitle.ArchiveBoard", undefined, true),eg="secret"!==R&&!e&&!c,ex=t||eg||t||U||!!eh||O,[ev,ey]=(0,r.useState)(!1),ew=()=>ey(!1);if(!ex)return null;let ej={unfollow:N.bt("Unfollow", "Unfollow", "BoardPage.ActionBar.EllipsisButton", undefined, true),follow:N.bt("Follow", "Follow", "BoardPage.ActionBar.EllipsisButton", undefined, true)},eA=()=>{a(),H?ew():en()};return H?(0,k.jsx)(S,{bgColor:I,handleClose:ew,iconColor:B,iconSize:T,isMenuOpen:ev,setMenuOpen:ey,children:()=>(0,k.jsxs)(s.Lt.Section,{label:N.bt("Board options", "Board options", "profileHeader.actionBar.overflow.header", undefined, true),children:[O&&(0,k.jsx)(s.Lt.Item,{dataTestId:"about-recommendations",onSelect:eA,option:{label:N.bt("About boards made for you", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true),value:N.bt("About boards made for you", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true)}}),t&&(0,k.jsx)(s.Lt.Item,{dataTestId:"edit-board",onSelect:K({fn:()=>{q(`/board/${L}/edit/`,{replace:!0})}}),option:{label:N.bt("Edit board", "Edit board", "boardHeaderOverflowMenu.boardOptions.editButton", undefined, true),value:N.bt("Edit board", "Edit board", "boardHeaderOverflowMenu.boardOptions.editButton", undefined, true)}}),eg&&(0,k.jsx)(s.Lt.Item,{dataTestId:"share-board",onSelect:o,option:{label:N.bt("Share", "Share", "boardHeaderOverflowMenu.boardOptions.shareBoardButton", undefined, true),value:N.bt("Share", "Share", "boardHeaderOverflowMenu.boardOptions.shareBoardButton", undefined, true)}}),t&&(0,k.jsx)(s.Lt.Item,{dataTestId:"archive-board",onSelect:ei,option:{label:ef,value:ef}}),U&&(0,k.jsx)(s.Lt.Link,{dataTestId:"report-board",href:`/board/${L}/report/`,option:{label:N.bt("Report", "Report", "ProfileOptions.ReportUser", undefined, true),value:N.bt("Report", "Report", "ProfileOptions.ReportUser", undefined, true)}}),eh&&(0,k.jsx)(s.Lt.Link,{dataTestId:eh.dataTestId,href:eh.href,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),(0,m.My)(eh.trackAction),window.open(eh.href,"_blank")},option:{label:eh.label,value:eh.label}}),(0,k.jsx)(v.Z,{fullName:E,isOpen:J,onConfirm:eb(),onDismiss:()=>el(),type:Z?"unarchive":"archive"})]})}):(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(s.xu,{display:"inlineBlock",children:(0,k.jsxs)(s.xu,{"data-test-id":"board-overflow-menu-button-mobile",children:[(0,k.jsx)(s.hU,{ref:eo,accessibilityLabel:N.bt("More board options", "More board options", "boardHeaderOverflowMenu.iconButton.accessibilityLabel", undefined, true),bgColor:I||"white",icon:"ellipsis",iconColor:B,onClick:()=>{Y(!0),V({action:"click",item:"overflow-menu"})},selected:W,size:T||"lg"}),(0,k.jsx)(z,{isDesktop:H,overflowMenuButtonRef:eo.current})]})}),(0,k.jsx)(u.ZP,{accessibilityModalLabel:N.bt("Board options", "Board options", "boardHeaderOverflowMenu.boardOptions", undefined, true),isOpen:W,mobileHideCloseIcon:!0,onDismiss:en,type:"block_button",children:(0,k.jsx)(s.xu,{paddingX:5,paddingY:6,children:(0,k.jsxs)(s.kC,{direction:"column",gap:{row:0,column:2},children:[(0,k.jsx)(s.xv,{children:N.bt("Board options", "Board options", "boardHeaderOverflowMenu.boardOptions", undefined, true)}),O&&(0,k.jsx)(s.iP,{fullWidth:!1,onTap:eA,rounding:"circle",children:(0,k.jsx)(s.xu,{"data-test-id":"about-recommendations",children:(0,k.jsx)(s.X6,{size:"400",children:N.bt("About boards made for you", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true)})})}),t&&(0,k.jsx)(s.iP,{fullWidth:!1,onTap:K({fn:()=>{q(`/board/${L}/edit/`,{replace:!0})}}),rounding:"circle",children:(0,k.jsx)(s.xu,{"data-test-id":"edit-board",children:(0,k.jsx)(s.X6,{size:"400",children:N.bt("Edit board", "Edit board", "boardHeaderOverflowMenu.boardOptions.editButton", undefined, true)})})}),eg&&(0,k.jsx)(s.iP,{fullWidth:!1,onTap:o,rounding:"circle",children:(0,k.jsx)(s.xu,{"data-test-id":"share-board",children:(0,k.jsx)(s.X6,{size:"400",children:N.bt("Share", "Share", "boardHeaderOverflowMenu.boardOptions.shareBoardButton", undefined, true)})})}),t&&(0,k.jsx)(s.iP,{fullWidth:!1,onTap:ei,rounding:"circle",children:(0,k.jsx)(s.xu,{"data-test-id":"archive-board",children:(0,k.jsx)(s.X6,{size:"400",children:ef})})}),F&&(0,k.jsx)(s.iP,{fullWidth:!1,onTap:()=>{ee?(G((0,A.f)(L,Q)),et(!1)):(G((0,A.Z)(L,Q)),et(!0))},rounding:"circle",children:ee?(0,k.jsx)(s.xu,{"data-test-id":"unfollow-board",children:(0,k.jsx)(s.X6,{size:"400",children:ej.unfollow})}):(0,k.jsx)(s.xu,{"data-test-id":"follow-board",children:(0,k.jsx)(s.X6,{size:"400",children:ej.follow})})}),U&&(0,k.jsx)(s.xu,{"data-test-id":"report-board",children:(0,k.jsx)(s.X6,{size:"400",children:(0,k.jsx)(s.rU,{accessibilityLabel:N.bt("Report", "Report", "ProfileOptions.ReportUser", undefined, true),href:`/board/${L}/report/`,underline:"none",children:N.bt("Report", "Report", "ProfileOptions.ReportUser", undefined, true)})})}),eh&&(0,k.jsx)(s.xu,{"data-test-id":eh.dataTestId,children:(0,k.jsx)(s.X6,{size:"400",children:(0,k.jsx)(s.rU,{accessibilityLabel:eh.label,href:eh.href,onClick:()=>(0,m.My)(eh.mobileTrackAction),target:"blank",underline:"none",children:eh.label})})}),(0,k.jsx)(s.xu,{"data-test-id":"close-board-options-mobile",display:"flex",justifyContent:"center",marginTop:3,children:(0,k.jsx)(s.zx,{color:"gray",onClick:en,size:"lg",text:N.bt("Close", "Close", "boardHeaderOverflowMenu.boardOptions.closeModal", undefined, true)})}),(0,k.jsx)(v.Z,{fullName:E,isOpen:J,onConfirm:eb(),onDismiss:()=>el(),type:Z?"unarchive":"archive"})]})})})]})}function B({board:e,isSensitive:t,isOwnerOrCollaborator:a,onShowAbout:o,openSendBoardModal:r,username:n,hideShare:l,bgColor:i,iconSize:s,iconColor:d,showReportOption:c,viewType:u,viewParameter:_,showAboutRecommendationOption:h,showFollowOption:p,slug:m}){return(0,k.jsx)(I,{archivedByMeAt:e.archived_by_me_at,bgColor:i,boardName:e.name,followByMe:e.followed_by_me,hideShare:l,iconColor:d,iconSize:s,id:e.id,isOwnerOrCollaborator:a,isSensitive:t,onShowAbout:o,openSendBoardModal:r,privacy:e.privacy,showAboutRecommendationOption:h,showFollowOption:p,showReportOption:c,slug:m,username:n,viewParameter:_,viewType:u})}let T=(void 0!==o||(o=a(333127)).hash&&"5eb01f50884761ae6dfcf21978f9b0cd"!==o.hash&&console.error("The definition of 'BoardHeaderOverflowMenuFragment_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function Z({boardRef:e,isSensitive:t,isOwnerOrCollaborator:a,onShowAbout:o,openSendBoardModal:r,username:n,hideShare:i,iconColor:s,bgColor:d,iconSize:c,showReportOption:u,viewType:_,viewParameter:h,showAboutRecommendationOption:p,showFollowOption:m,slug:b}){let{data:f}=(0,l.useFragment)(T,e);return f?(0,k.jsx)(I,{archivedByMeAt:f.archivedByMeAt,bgColor:d,boardName:f.name??"",followByMe:f.followedByMe,hideShare:i,iconColor:s,iconSize:c,id:f.entityId,isOwnerOrCollaborator:a,isSensitive:t,onShowAbout:o,openSendBoardModal:r,privacy:f.privacy??"",showAboutRecommendationOption:p,showFollowOption:m,showReportOption:u,slug:b,username:n,viewParameter:h,viewType:_}):null}function E({isSensitive:e,isOwnerOrCollaborator:t,onShowAbout:a,openSendBoardModal:o,username:r,hideShare:n,bgColor:l,iconColor:i="darkGray",iconSize:s,showReportOption:d,viewType:c,viewParameter:u,showAboutRecommendationOption:_,showFollowOption:h,slug:p,...m}){return m.boardRef?(0,k.jsx)(Z,{bgColor:l,boardRef:m.boardRef,hideShare:n,iconColor:i,iconSize:s,isOwnerOrCollaborator:t,isSensitive:e,onShowAbout:a,openSendBoardModal:o,showAboutRecommendationOption:_,showFollowOption:h,showReportOption:d,slug:p,username:r,viewParameter:u,viewType:c}):(0,k.jsx)(B,{bgColor:l,board:m.board,hideShare:n,iconColor:i,iconSize:s,isOwnerOrCollaborator:t,isSensitive:e,onShowAbout:a,openSendBoardModal:o,showAboutRecommendationOption:_,showFollowOption:h,showReportOption:d,slug:p,username:r,viewParameter:u,viewType:c})}},103345:function(e,t,a){a.d(t,{Z:()=>d});var o=a(667294),r=a(20256),n=a(667835),l=a(525839),i=a(872353),s=a(785893);function d({description:e,isSeoBot:t}){let a=(0,l.ZP)(),[d,c]=(0,o.useState)(!t),[u,_]=(0,o.useState)(!1),h=(0,o.useRef)(null),p=(0,n.vs)(),m=(0,i.j)(e),b=p?"#111111":"#FFFFFF";return((0,o.useEffect)(()=>{if(h.current){let e;_((e=h.current).offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth)}},[]),e)?(0,s.jsx)(r.xu,{"data-test-id":"board-description-container",flex:"grow",position:"relative",children:(0,s.jsxs)("div",{dir:m,children:[(0,s.jsxs)(r.xv,{ref:h,align:"ltr"===m?"forceLeft":void 0,lineClamp:2*!!d,size:"300",title:d?e:void 0,children:[e,!d&&(0,s.jsx)(r.xu,{display:"inlineBlock",children:(0,s.jsx)(r.iP,{fullWidth:!1,onTap:()=>c(!0),children:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:a.bt("...less", "... less", "boardPage.header.description.truncateDescription", undefined, true)})})})]}),d&&u&&(0,s.jsx)(r.xu,{as:"div",bottom:!0,color:p?"dark":"light",dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${b} 50%, ${b}00 100%)`,textAlign:"end"}},"data-test-id":"more-board-description",display:"flex",justifyContent:"end",paddingX:1,position:"absolute",right:!0,width:140,children:(0,s.jsx)(r.iP,{fullWidth:!1,onTap:()=>c(!1),children:(0,s.jsx)(r.xv,{inline:!0,weight:"bold",children:a.bt("...more", "... more", "boardPage.header.description.expandDescription", undefined, true)})})})]})}):null}},250787:function(e,t,a){a.d(t,{Sk:()=>eO,x0:()=>eH,IM:()=>eM,ZP:()=>eq,i0:()=>eK});var o=a(667294),r=a(581722),n=a(616550),l=a(825332),i=a(20256),s=a(111330),d=a(980787),c=a(741272),u=a(364843),_=a(877956),h=a(475498),p=a(390843),m=a(525839),b=a(816358),f=a(573631),g=a(278533),x=a(914061),v=a(527728),y=a(274320),w=a(255957),j=a(594885),A=a(15667),P=a(461920),C=a(444185),k=a(886981),z=a(821806),S=a(753143),I=a(159527),B=a(123998),T=a(572227),Z=a(87853),E=a(378888),L=a(647709),R=a(341742),M=a(551651),O=a(958279),F=a(93966),U=a(369416),D=a(79293),N=a(640168),H=a(785893);let K="BoardPageSkeletonLoader__",q=()=>(0,H.jsxs)(o.Fragment,{children:[(0,H.jsx)(U.Z,{unsafeCSS:[{name:`${K}board_title`,width:280,height:51},{name:`${K}profile_pic`,width:51,height:51}].map(({name:e,width:t,height:a})=>(0,N.Z)({name:e,width:t,height:a})).join("")}),(0,H.jsxs)(i.xu,{paddingX:F.D6,paddingY:3,children:[(0,H.jsxs)(i.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:6,children:[(0,H.jsx)(i.xu,{children:(0,H.jsx)("div",{className:`${K}board_title`})}),(0,H.jsx)(i.xu,{children:(0,H.jsx)("div",{className:`${K}profile_pic`})})]}),(0,H.jsx)(D.Z,{})]})]});var G=a(26032),$=a(521009),V=a(657043),W=a(821342),Y=a(670622),J=a(302148),X=a(575108),Q=a(744862),ee=a(603316);let et=e=>{let t=(0,m.ZP)(),{user:a,invitedByUser:o,inviterFirstName:r}=e;return(0,H.jsxs)(i.xu,{alignItems:"center",borderStyle:"sm",direction:"row",display:"flex",marginBottom:3,marginEnd:-1,marginStart:-1,paddingX:4,paddingY:4,rounding:5,width:"100%",children:[(0,H.jsx)(i.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-1}},marginTop:-3,rounding:"circle",children:(0,H.jsx)(i.xu,{height:34,width:34,children:(0,H.jsx)(Q.qE,{color:a?.avatar_color_index,name:a?a.username:"",src:a?a.image_medium_url??"":""})})}),(0,H.jsx)(i.xu,{borderStyle:"lg",dangerouslySetInlineStyle:{__style:{borderColor:"#ffffff",zIndex:-2}},marginStart:-3,marginTop:3,rounding:"circle",children:(0,H.jsx)(i.xu,{height:34,width:34,children:(0,H.jsx)(Q.qE,{color:o?.avatar_color_index,name:o?o.username:"",src:o?o.image_medium_url??"":""})})}),(0,H.jsxs)(i.xu,{marginStart:4,children:[(0,H.jsx)(i.xv,{weight:"bold",children:t.bt("You're in!", "You're in!", "Text showing that a user has accepted the board invite and is now a part of the board", undefined, true)}),(0,H.jsx)(i.xv,{children:(0,J.nk)(t.bt("Start collaborating with {{ invitedByUserName }} on this board", "Start collaborating with {{ invitedByUserName }} on this board", " - ", undefined, true),{invitedByUserName:r})})]})]})};function ea({boardId:e,inviteCode:t,inviterFirstName:a,invitedByUser:r,isSeamlessLanding:n,onAccept:l,user:i}){let{showToast:s}=(0,Z.dI)(),d=(0,m.ZP)(),[c,u]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{l&&X.Z.create("BoardInviteResource",{board_id:e,invited_user_id:i&&i.id,invite_code:t}).callGet().then(()=>{let e=l();e&&e.then(()=>{u(!0),n&&(0,ee.nP)("mweb.social.group_board.seamless.accepted")}).catch(e=>{s(({hideToast:t})=>(0,H.jsx)(h.Z,{onHide:t,text:e.message||d.bt("Sorry, something went wrong", "Oops! Something went wrong", "Error during board page accepting", undefined, true),type:"error"}))})}).catch(e=>{s(({hideToast:t})=>(0,H.jsx)(h.Z,{onHide:t,text:e.message||d.bt("Sorry, something went wrong", "Oops! Something went wrong", "Error during board page accepting", undefined, true),type:"error"}))})},[]),c?(0,H.jsx)(et,{user:i,inviterFirstName:a,invitedByUser:r}):null}let eo=e=>!!(0,E.mB)(e.search).accept_invite;var er=a(902658),en=a(689676),el=a(156618),ei=a(352908),es=a(548286),ed=a(415602),ec=a(969009),eu=a(260002),e_=a(793698),eh=a(434671);function ep({inviteCreationDatetime:e,invitedByUser:t,inviterFirstName:a,onAccept:o,onDismiss:r,loginModal:n,isMwebUnauthBoardInviteLanding:s,setShowLoginModal:d,showLoginModal:c}){let u=(0,m.ZP)(),_=(0,Y.Z)(),p=(0,l.TH)(),{showToast:b}=(0,Z.dI)(),f=`/${t?.username||""}`,g=(0,ei.Z)(),x=(0,L.HG)(),v=g({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),r()},modalHeader:(0,el.gv)({firstName:a,i18n:u}),nextLocation:(0,el.F4)(p)}),y=g({fn:({event:e})=>{e.stopPropagation&&e.stopPropagation(),o(),x||c||s||b(({hideToast:e})=>(0,H.jsx)(h.Z,{duration:4e3,onHide:e,text:u.bt("You're in! Save Pins, plan with collaborators and more!", "You're in! Save Pins, plan with collaborators, and more!", "GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser", undefined, true)}))},modalHeader:(0,el.gv)({firstName:a,i18n:u}),nextLocation:(0,el.F4)(p)});return(0,H.jsxs)(i.xu,{alignItems:"start",borderStyle:"shadow",color:"default",display:"flex",marginBottom:2,marginTop:2,maxWidth:400,padding:6,rounding:6,children:[x&&c&&n,(0,H.jsx)(i.xu,{marginEnd:2,children:(0,H.jsx)(i.HE,{accessibilityLabel:u.bt("Avatar of invited person", "Avatar of invited person", "mweb.board.inviteCard.avatar", undefined, true),collaborators:[{name:a,src:(t instanceof en.Z?t.image_large_url:t?.image_medium_url)||void 0,color:t instanceof en.Z?t.avatar_color_index:void 0}],href:f,role:"link",size:"md"})}),(0,H.jsxs)(i.xu,{marginBottom:0,children:[(0,H.jsx)(i.xv,{color:"default",weight:"normal",children:(0,J.nk)(u.bt("{{ name }} invited you to collaborate on this board {{age}}", "{{ name }} invited you to collaborate on this board {{age}}", "mweb.board.inviteCard.inviteCopy", undefined, true),{name:(0,H.jsx)(i.xv,{inline:!0,weight:"bold",children:(0,H.jsx)(i.rU,{display:"inlineBlock",href:f,tapStyle:"none",underline:"hover",children:t?.full_name||""})}),age:(0,H.jsx)(i.xv,{color:"subtle",inline:!0,children:e&&_(e,!0)})})}),(0,H.jsxs)(i.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,H.jsx)(i.xu,{display:"inlineBlock",marginEnd:2,marginTop:2,children:(0,H.jsx)(i.zx,{color:"gray",fullWidth:!0,onClick:v,size:"lg",text:u.bt("Decline", "Decline", "decline board collaborator invite or request", undefined, true)})}),(0,H.jsx)(i.xu,{display:"inlineBlock",marginTop:2,children:(0,H.jsx)(i.zx,{color:"red",fullWidth:!0,onClick:x&&d&&n?()=>d(!0):y,size:"lg",text:u.bt("Accept", "Accept", "accept board invite", undefined, true)})})]})]})]})}function em({boardId:e}){let t=(0,l.TH)(),{inviter_first_name:r,board_collab_inviter:n,board_url:s,invite_code:d,sender:c,inviter_user_id:u}=(0,E.mB)(t.search),[_,h]=(0,o.useState)(!!(r&&s)),[p,b]=(0,o.useState)(!1),f=(0,l.s0)(),g=(0,m.ZP)(),x=u??c,v=(0,L.HG)(),{setUnauthBoardInvite:y}=(0,er.i)(),w=(0,eh.Z)(),j=w?.invite?.sender,A=v&&!!j&&d&&n,P=r||j?.first_name||"",C=(0,o.lazy)(()=>Promise.all([a.e("91062"),a.e("1206")]).then(a.bind(a,326171)));if((A||!v&&d&&n&&u)&&!_&&h(!0),!_)return null;let k=(0,J.nk)(g.bt("Log in to accept {{ firstName }}'s board invitation", "Log in to accept {{ firstName }}'s board invite", "GroupBoardInviteBanner.login.firstName", undefined, true),{firstName:P}).join(""),z=(0,H.jsxs)(i.xu,{height:"100%",width:"100%",children:[(0,H.jsx)(i.mh,{zIndex:new i.Ry(10001),children:(0,H.jsx)(i.xu,{alignItems:"center",display:"flex",height:"100%",paddingY:12,position:"fixed",width:"100%",children:(0,H.jsx)(C,{container:"limited_login",customLoginTagline:k,customSignupTagline:k,handleCloseButtonClick:()=>b(!1),nextUrlParam:`${t.pathname}${t.search}&accept_invite=True`,showCloseIcon:!0,signupFlow:{type:"login"},signupSource:"boardInvite"})})}),(0,H.jsx)(i.xu,{alignItems:"center",color:"dark",display:"flex",height:"100%",left:!0,opacity:.7,position:"fixed",top:!0,width:"100%",zIndex:new i.Ry(1e4)})]});return v?(0,H.jsx)(ep,{invitedByUser:j,inviterFirstName:P,loginModal:z,onAccept:()=>b(!0),onDismiss:()=>h(!1),setShowLoginModal:b,showLoginModal:p}):(0,H.jsx)(ep,{invitedByUser:j,inviterFirstName:P,isMwebUnauthBoardInviteLanding:!0,onAccept:async()=>{let a=`/invited/${t.search}&board_id=${e}&inviter_first_name=${j?.first_name||""}`;y({inviterId:x,boardId:e,hasAcceptedInvite:!1}),f(a)},onDismiss:()=>h(!1)})}function eb({boardId:e,boardImageRep:t,boardName:a}){let n=(0,l.TH)(),s=(0,r.I0)(),d=(0,W.Z)(),c=d.isAuth?d.id:void 0,{invite_code:u,seamless:_}=(0,E.mB)(n.search),p=(0,ec.U)({board:e,invited_user:c??""}),b=(0,e_.mN)()(c??""),f=(0,$.Z)(),g=(0,L.HG)(),x=(0,m.ZP)(),{showToast:v}=(0,Z.dI)(),y=(0,o.useRef)(!1),[w,j]=(0,o.useState)(!1);(0,C.Z)({name:"BoardInvitesResource",options:{current_user:!0,field_set_key:"news"}});let A=(0,r.v9)(({invites:e})=>e[p]?.created_at||void 0),P=(0,k.Z)({name:"BoardInviteResource",options:{field_set_key:"boardEdit",board_id:e,invite_code:u,invited_user_id:c}}),z=(0,r.v9)(t=>{let a=(0,eu.Z)(t)[e];return a?t.invites[a]:void 0}),S=(0,r.v9)(({users:e,invites:t})=>Object.keys(t).reduce((a,o)=>{let r=t[o];return r&&(a[o]=e[r.invited_by_user]),a},{})[p]),{unauthBoardInvite:I,setUnauthBoardInvite:B}=(0,er.i)(),{boardId:T,inviterId:M,hasAcceptedInvite:O}=I||{},F=T&&M&&!O,U=T&&M&&O;if((0,R.Z)(()=>{F&&b&&(async()=>{y.current=!0;try{await s((0,ed.SD)(e,b,f)),B({boardId:e,inviterId:M||"",hasAcceptedInvite:!0}),await P.refresh(),v(({hideToast:e})=>(0,H.jsx)(h.Z,{duration:5e3,onHide:e,text:(0,H.jsx)(i.xv,{children:(0,J.nk)(x.bt("You can now collaborate on {{boardName}}!", "You can now collaborate on {{boardName}}!", "mweb_group_board_invite_banner.acceptInviteToast", undefined, true),{boardName:(0,H.jsx)(i.xv,{inline:!0,weight:"bold",children:a})})}),thumbnail:{image:(0,H.jsx)(i.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:t})}}))}catch(e){v(({hideToast:t})=>(0,H.jsx)(h.Z,{onHide:t,text:(0,V.Z)(e,"message")??"",type:"error"}))}finally{y.current=!1}})()}),!z||!S||!b||z&&U)return null;let D=S.first_name,N=()=>(j(!0),s((0,ed.SD)(e,b,f)));return eo(n)?(g&&v(({hideToast:e})=>(0,H.jsx)(h.Z,{duration:5e3,onHide:e,text:x.bt("You're in! Save Pins, plan with collaborators and more!", "You're in! Save Pins, plan with collaborators, and more!", "GroupBoardInviteBanner.handleAcceptButtonClick.acceptInviteToastForAuthUser", undefined, true)})),(0,H.jsx)(ea,{boardId:e,inviteCode:u,invitedByUser:S,inviterFirstName:D||"",isSeamlessLanding:!!_,onAccept:N,user:b})):!y.current&&!w&&!!z&&(0,H.jsx)(ep,{inviteCreationDatetime:A,invitedByUser:S,inviterFirstName:D||"",onAccept:N,onDismiss:()=>s((0,es.xR)(e,c??"",f))})}let ef=({isAuthenticated:e,boardId:t,boardImageRep:a,boardName:o})=>e?(0,H.jsx)(eb,{boardId:t,boardImageRep:a,boardName:o}):(0,H.jsx)(em,{boardId:t});var eg=a(319227),ex=a(788743);function ev({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:a}){let r=(0,m.ZP)(),n=(0,$.Z)();return(0,o.useEffect)(()=>{n({component:13860,event_type:13,view_type:5,aux_data:a})},[n]),(0,H.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)",paddingTop:260}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new i.Ry(1),children:(0,H.jsxs)(i.kC,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,H.jsx)(i.X6,{align:"center",color:"light",children:r.bt("This board may contain sensitive content", "This board may contain sensitive content", "board.sensitivityScreen.heading", undefined, true)}),(0,H.jsxs)(i.kC,{gap:{row:6,column:0},children:[(0,H.jsx)(i.zx,{color:"red",onClick:e,size:"lg",text:r.bt("Go back", "Go back", "board.sensitivityScreen.backButton", undefined, true)}),(0,H.jsx)(i.zx,{color:"white",onClick:t,size:"lg",text:r.bt("View anyway", "View anyway", "board.sensitivityScreen.viewButton", undefined, true)})]}),(0,H.jsx)(i.xu,{padding:4,children:(0,H.jsx)(i.xv,{align:"center",color:"inverse",overflow:"normal",size:"200",children:(0,J.nk)(r.bt("If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the '...' button at the bottom of any Pin", "If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the \"...\" button at the bottom of any Pin", "board.sensitivityScreen.text", undefined, true),{communityGuidelines:(0,H.jsx)(i.rU,{href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",children:(0,H.jsx)(i.xv,{color:"inverse",inline:!0,size:"200",underline:!0,children:r.bt("Community Guidelines", "Community Guidelines", "board.sensitivityScreen.communityGuidelines", undefined, true)})})})})})]})})}var ey=a(607001);let ew=({type:e="signup",bgColor:t="white"})=>{let a=(0,o.useRef)(null),r=(0,m.ZP)(),[n,l]=(0,o.useState)(!1),[s,d]=(0,o.useState)(!1),c=(0,ey.Z)(),u=(0,T.Z)();return(0,o.useEffect)(()=>{let e=setTimeout(()=>{l(!0)},800);return()=>clearTimeout(e)},[]),(0,H.jsxs)(i.xu,{children:[(0,H.jsx)(i.hU,{ref:a,accessibilityLabel:r.bt("Create button", "Create button", "BoardHeader.CreateBoardButton", undefined, true),bgColor:t,icon:"add",onClick:()=>{u({action:"click",item:"unauth-board-upsell-dweb"}),c({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"unauth_board_upsell_dweb",desktopOptions:{modalType:e,modalOptions:{source:"lopBoardUpsell",container:"lopBoardUpsell"}}}),l(!1),d(!0)},size:"lg",tooltip:s?{text:r.bt("Create a board", "Create a board", "boardHeaderOverflowMenu.createBoardTooltip", undefined, true)}:void 0}),(0,H.jsx)(i.xu,{dangerouslySetInlineStyle:n?{__style:{transition:"opacity 0.3s"}}:void 0,opacity:+!!n,children:(0,H.jsx)(i.pl,{anchor:a.current,forceDirection:!0,id:"board-creation-upsell-popover",idealDirection:"down",message:r.bt("Want to curate your own ideas? Make a board", "Want to curate your own ideas? Make a board", "boardHeaderOverflowMenu.createBoardPopover.text", undefined, true),onDismiss:()=>{n&&(l(!1),d(!0))}})})]})};var ej=a(251517),eA=a(431394),eP=a(729969),eC=a(693853),ek=a(532611),ez=a(602400),eS=a(443934),eI=a(449613),eB=a(258644),eT=a(702226),eZ=a(588836);function eE(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let eL=(0,o.lazy)(()=>Promise.all([a.e("68281"),a.e("13105")]).then(a.bind(a,826257))),eR=(0,o.lazy)(()=>a.e("49840").then(a.bind(a,89783))),eM=8,eO=5,eF=({boardId:e,children:t,hasFixedHeader:a,viewParameter:o})=>(0,H.jsx)(ez.H,{children:(0,H.jsx)(M.Z,{objectIdStr:e,viewParameter:o,viewType:5,children:(0,H.jsx)(B.Z,{objectId:e,view:5,viewParameter:o,children:(0,H.jsx)(x.default,{dataLayoutShiftBoundaryId:"BoardPageContainer",hasFixedHeader:a,children:t})})})}),eU=({board:e,blockedByMe:t,children:a,experience:_,isAuthenticated:h,isBoardPreviewMode:b,isSeoBot:g,location:x,setBoardPreviewMode:w,stickyHeaderRef:j,username:A})=>{let P=(0,l.s0)(),C=(0,f.b)(),k=(0,m.ZP)(),I=(0,ei.Z)(),[B,Z]=(0,o.useState)(!1),[M,F]=(0,o.useState)(!1),{logContextEvent:U}=(0,d.u)(),D=(0,T.Z)(),{checkExperiment:N}=(0,y.r)(),K=(0,r.I0)(),{canUseNativeApp:q}=(0,r.v9)(({session:e})=>e),{id:G,name:$,access:V,owner:W,sensitivity:Y,privacy:J,pin_count:X,section_count:Q,sensitivity_screen:et,collaborated_by_me:ea,image_cover_url:er,collaborator_permissions_setting:en}=e,el=(0,L.HG)(),ed=(0,L.ml)(),ec=(0,L.Wb)(),eu=(0,ex.Z)(!!ea),e_={board_id:G,reason:et?.reason||""},{slug:eh}=(0,n.UO)(),{isDirect:ep}=(0,v.Z)(),{previous:em,forward:eb}=(0,p.ou)(),ey=0===em.length&&0===eb.length;(0,R.Z)(()=>{C&&ey&&ep&&!h&&(el?(0,ee.nP)("unauth.entry_channel.direct.landing_page.board_page.dweb",{sampleRate:1}):(0,ee.nP)("unauth.entry_channel.direct.landing_page.board_page.mweb",{sampleRate:1}))}),(0,R.Z)(()=>{h||((e,t)=>{let[a]=(0,S.M0)().getItem(s.tH)??[];if(!(a&&a.path===t.pathname)&&!t.state?.isFromNavFooterPage){let a=e.cover_pin,o=a?.pin_id,r=e.cover_images,n=a&&a.image_signature||null,l=r&&r["222x"]||null;(0,eS.p9)(t.pathname,n,o,l,"board")}})(e,x)}),(0,c.Z)({pageUniqueKey:G,containerPage:"board_page"});let ez=()=>{I({fn:e=>{e&&e.stopPropagation&&e.stopPropagation(),F(!0),D({action:"click",item:"main-share-button"})}})()};(0,o.useEffect)(()=>{"t"===(0,E.mB)(x.search).open_share&&ez()},[]),(0,o.useEffect)(()=>(h&&K((0,eB.FK)()),()=>{h&&K((0,eB.Cp)())}),[K,h]);let eT=(V||[]).includes("write"),eE=(0,eg.Z)(W?.id),eM=(0,ek.Uz)(Y),eO=eu||eE,eU="secret"===J,eD=!h&&!g,eN=!eO&&!eD,{hasApplicableLawForCountry:eH}=(0,eI.ZP)(),eK=el&&eD,eq=eO||eN||eH,eG=!el&&(h||!q||eD),e$=!!eq&&eK,eV=(0,o.useRef)(null),[eW,eY]=(0,o.useState)(!1);(0,R.Z)(()=>{U({aux_data:{board_id:G,board_pin_count:X??0,board_section_count:Q??0},component:178,event_type:13,view_parameter:eE?3069:3070,view_type:5})});let[eJ,eX]=(0,o.useState)(!eE&&!eu&&!!et?.show_warning),eQ=eE?3069:3070,e0=!el&&!eU,e1=!e0&&!eK&&!eU,{featured_board_metadata:e2}=e,{has_expanded_sections:e3}=e2||{},e6=!!e3&&eE&&!!w,e4=e.header?.large_image_url||null,e5=h&&!eT,{anyEnabled:e8}=eD&&ed?N("unauth_board_upsell_mweb"):{anyEnabled:!1},{anyEnabled:e7,group:e9}=eD&&!ed?N("unauth_board_upsell_dweb"):{anyEnabled:!1,group:""};return(0,H.jsxs)(eF,{boardId:G,hasFixedHeader:eG,viewParameter:eQ,children:[_&&(0,H.jsx)(u.iH,{placementId:1000251}),(0,H.jsx)(u._f,{customFooterHeight:eE||eu?72:0,experience:_}),(0,H.jsx)(u.nj,{experience:_}),(0,H.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:eJ?{filter:"blur(20px)"}:{}},children:[el&&!eD&&(0,H.jsx)(i.xu,{paddingX:2,children:(0,H.jsx)(eZ.Z,{color:"darkGray",fallbackUrl:`/${A}/`,padding:3,size:"lg"})}),eG&&(0,H.jsx)(eA.Z,{blockedByMe:t,board:e,canEdit:eT,isBoardPreviewMode:b,isOwnerOrCollaborator:eO,isSensitive:eM,isSeoBot:g,isUnauthMobileBoardUpsellEnabled:e8,openSendBoardModal:ez,setBoardPreviewMode:w,shareButtonRef:eV,shouldUseFallbackUrl:eo(x),showFollowOption:e5,showOverflowMenuMobile:!!eq,showReportOption:eN,showShareButtonMobile:e0,showShareOptionInOverflowMenu:e1,showSwitchPreviewMode:e6,slug:eh,stickyHeaderRef:j,username:A,viewParameter:eQ}),(ed||ec)&&!!e4&&(0,H.jsx)(eP.Z,{board:e}),(0,H.jsx)(i.kC,{justifyContent:"center",children:(0,H.jsx)(ef,{boardId:G,boardImageRep:er??"",boardName:$??"",isAuthenticated:h})}),(h||eD)&&(0,H.jsxs)(o.Fragment,{children:[(0,H.jsx)(z.Z,{children:(0,H.jsx)(eL,{component:13216,element:72,hideContactsSuggestions:!h,isOpen:M,objectId:String(G),objectType:2,onDismiss:e=>{e&&e.stopPropagation&&e.stopPropagation(),F(!1)},viewParameter:eQ,viewType:5})}),B&&(0,H.jsx)(eC.Z,{boardCollabPermissionsSetting:eE&&en,isOpen:B,objectId:G,objectType:2,onDismiss:()=>Z(!1)})]}),(0,H.jsx)(ej.Z,{blockedByMe:t,board:e,getUnauthDesktopBoardActions:()=>(0,H.jsxs)(i.kC,{gap:2,children:[e7&&(0,H.jsx)(ew,{bgColor:e4?"white":"transparent",type:"enabled_signup"===e9?"signup":"login"}),(0,H.jsxs)(i.xu,{ref:eV,alignContent:"center",alignItems:"center","data-test-id":"share-board-button",direction:"row",display:"flex",justifyContent:"center",marginBottom:2,children:[(0,H.jsx)(i.hU,{accessibilityLabel:k.bt("Share", "Share", "BoardHeader.SendBoardButton", undefined, true),bgColor:e4?"white":"transparent",icon:"share",onClick:()=>{D({action:"click",item:"main-share-button"}),eY(!0)},selected:eW,size:"lg",tooltip:{text:k.bt("Share", "Share", "BoardHeader.SendBoardButton", undefined, true)}}),(0,H.jsx)(u.N,{anchors:{4020:eV.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0}),eW&&(0,H.jsx)(z.Z,{children:(0,H.jsx)(eR,{anchor:eV.current,component:13216,objectId:G,objectType:2,onDismiss:()=>eY(!1),title:k.bt("Send this board", "Send this board", "Sharesheet.ShareSocialBar", undefined, true),viewType:5})})]}),e$&&(0,H.jsx)(i.xu,{children:(0,H.jsx)(O.Z,{bgColor:e4?"white":"transparent",board:e,hideShare:!e1,iconSize:"lg",isOwnerOrCollaborator:eO,isSensitive:eM,onShowAbout:()=>{},openSendBoardModal:ez,showAboutRecommendationOption:!1,showReportOption:eN,slug:eh,username:A,viewParameter:eQ,viewType:578})})]}),isAuthenticated:h,isBoardPreviewMode:b,isSeoBot:g,setInviteCollaboratorsModalIsOpen:Z,viewParameter:eQ,children:a})]}),eJ&&(0,H.jsx)(i.xu,{marginStart:-2,children:(0,H.jsx)(ev,{handleGoBack:()=>{U({event_type:101,component:13860,element:73,view_type:5,aux_data:e_}),C||P("/",{replace:!0}),P(-1)},hideSensitivityScreen:()=>{K((0,es.of)(G)),U({event_type:101,component:13860,element:12448,view_type:5,aux_data:e_}),eX(!1)},sensitivityScreenAuxData:e_})})]})};class eD extends o.Component{constructor(...e){super(...e),eE(this,"stickyHeaderRef",(0,o.createRef)()),eE(this,"logScrollEvent",(0,I.Z)(()=>{let e=this.props.board?this.props.board.id:0;this.props.logContextEvent({event_type:110,view_type:5,view_parameter:3070,aux_data:{unauth_page_board_id:e}})},300))}componentDidMount(){let{board:e,dispatch:t,isAuthenticated:a,isViewerBoardOwner:o,isViewerCollaborator:r,isSeoBot:n,location:l}=this.props;if(e){let a="other";o?a="own":r&&(a="collaborator"),t((0,_.pz)([1000251],n,{board_id:e.id,board_ownership:a}))}(0,g.Z)(),a?(0,E.mB)(l.search).seamless&&(0,ee.nP)("mweb.social.group_board.seamless.land"):((0,eS.Mt)({key:s._b,lastVisitedPage:l.pathname}),window.addEventListener("scroll",this.logScrollEvent)),this.stickyHeaderRef&&this.stickyHeaderRef.current&&b.Z.addObstruction("top",this.stickyHeaderRef.current)}componentWillUnmount(){this.props.isAuthenticated||window.removeEventListener("scroll",this.logScrollEvent),this.stickyHeaderRef&&this.stickyHeaderRef.current&&b.Z.removeObstruction("top",this.stickyHeaderRef.current)}render(){let{board:e,children:t,experience:a,i18n:o,isAuthenticated:r,isBoardPreviewMode:n,isSeoBot:l,location:s,setBoardPreviewMode:d,user:c}=this.props;return e&&c?(0,H.jsx)(eU,{blockedByMe:c.blocked_by_me,board:e,experience:a,isAuthenticated:r,isBoardPreviewMode:n,isSeoBot:l,location:s,setBoardPreviewMode:d,stickyHeaderRef:this.stickyHeaderRef,username:c.username??"",children:t}):(0,H.jsx)(i.xu,{column:12,paddingY:2,children:r?(0,H.jsx)(i.xH,{accessibilityLabel:o.bt("Loading feed", "Loading feed", " - ", undefined, true),show:!0}):(0,H.jsx)(q,{})})}}let eN=({boardId:e})=>{let{slug:t,username:a}=(0,n.UO)();return(0,C.Z)({name:"BoardInvitesResource",options:{...e?{board_id:e}:{username:a,slug:t},status_filters:"new,contact_request_not_approved",sort:"viewer_first",include_inactive:!0}}),null};function eH({isBoardPreviewMode:e,children:t,setIsBoardPreviewMode:a}){let i=(0,m.ZP)(),s=(0,j.Z)(),c=(0,l.TH)(),{slug:_,username:h}=(0,n.UO)(),p=(0,r.I0)(),{logContextEvent:b}=(0,d.u)(),{isAuthenticated:f,isBot:g}=(0,A.B)(),x=`/${h||""}/${(0,G.X)(_||"")}/`,v=(0,r.v9)(e=>(0,eT.Z)(e)[x]),y=v?.owner,P=(0,u._P)({id:1000251}),C=(0,eg.Z)(v?.owner?.id),k=(0,ex.Z)(!!v?.collaborated_by_me);return(0,H.jsxs)(o.Fragment,{children:[v&&(v.access||[]).includes("write")&&(0,H.jsx)(eN,{boardId:v.id}),(0,H.jsx)(w.Z,{measureGridVisuallyComplete:!0,surface:"board",children:(0,H.jsx)(eD,{board:v,dispatch:p,experience:P,i18n:i,isAuthenticated:f,isBoardPreviewMode:e,isSeoBot:g,isViewerBoardOwner:C,isViewerCollaborator:k,location:c,logContextEvent:b,pwtStaticContext:s,setBoardPreviewMode:a,user:y,children:t})})]})}function eK({children:e}){let t=(0,m.ZP)(),{isAuthenticated:a,isBot:o}=(0,A.B)(),r=(0,l.TH)(),{slug:i,username:s}=(0,n.UO)(),{showToast:d}=(0,Z.dI)(),{error:c}=(0,k.Z)({name:"BoardResource",options:(({username:e,field_set_key:t,slug:a,getPageMetadata:o,invite_code:r})=>({field_set_key:t||"profile_grid_item",is_mobile_fork:!0,username:e,slug:a,get_page_metadata:o,invite_code:r}))({username:decodeURIComponent(s||""),slug:(0,G.$)(i||"")})}),u=c&&a&&{pathname:r.pathname.match(/\/[^\/]*\//g),search:r.search},_=(0,k.Z)(o?null:{name:"UserResource",options:{field_set_key:"profile",username:decodeURIComponent(s||"")}}),p=!o&&(0,P.Z)(_);return!a&&c?(0,H.jsx)(n.l_,{to:{pathname:"/ideas/",state:{showError:!0}}}):u?(d(({hideToast:e})=>(0,H.jsx)(h.Z,{duration:7e3,onHide:e,text:a?t.bt("We couldn't find that Pinner's board but here are some of their other boards!", "We couldn't find that Pinner's board but here are some of their other boards!", "Error text when a user attempts to go to a board that doesn't exist or they don't have access to", undefined, true):t.bt("We can't find that board. Please log in and give it another try!", "We can't find that board. Please log in and give it another try!", "Error text when a user attempts to go to a board that doesn't exist or they don't have access to", undefined, true),type:"error"})),(0,H.jsx)(n.l_,{to:u})):p?(0,H.jsx)(n.l_,{to:p}):e}function eq({children:e}){return(0,H.jsx)(eK,{children:(0,H.jsx)(eH,{children:e})})}},419480:function(e,t,a){a.d(t,{Z:()=>i});var o=a(667294),r=a(20256),n=a(525839),l=a(785893);function i({setting:e,viewerIsOwner:t}){let a=(0,n.ZP)(),i={0:{name:a.bt("Do (almost) everything", "Do (almost) everything", "save.board.BoardPage.ModalContents.BoardCollabSettings", undefined, true),description:a.bt("Add, move or delete Pins and sections, and comment and react", "Add, move or delete Pins and sections, comment and react", "save.board.BoardPage.ModalContents.BoardCollabSettings", undefined, true)},1:{name:a.bt("Save and comment", "Save and comment", "save.board.BoardPage.ModalContents.BoardCollabSettings", undefined, true),description:t?a.bt("Save Pins, organise them, comment and react", "Save Pins, organize them, comment and react", "save.board.BoardPage.ModalContents.BoardCollabSettings", undefined, true):a.bt("Save Pins, organise them, comment and react. For more permissions, contact the board owner.", "Save Pins, organize them, comment, and react. For more permissions, reach out to the board owner!", "save.board.BoardPage.ModalContents.BoardPermissionDescription.SaveOnly.Collab", undefined, true)},INVITE_SETTING:{name:a.bt("Invite other people", "Invite other people", "save.board.BoardPage.ModalContents.BoardCollabSettings", undefined, true),description:a.bt("Collaborators can invite others to this board", "Collaborators can invite others to this board", "save.board.BoardPage.ModalContents.BoardCollabSettings", undefined, true)}};return(0,l.jsxs)(o.Fragment,{children:[(0,l.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:i[e].name}),(0,l.jsx)(r.xu,{paddingY:1,children:(0,l.jsx)(r.xv,{color:"subtle",size:"300",children:i[e].description})})]})}},185191:function(e,t,a){a.d(t,{Z:()=>u});var o=a(581722),r=a(20256),n=a(667294),l=a(364843),i=a(15667),s=a(785893);let d=88,c=({toolSize:e=d,boardTool:{icon:t,link:a,text:o,tool:c}})=>{let[u,_]=(0,n.useState)(!1),{isRTL:h}=(0,i.B)(),p=(0,n.useRef)(null),m=(e=>{switch(e){case 1:return 4004;case 2:return 4005;default:return}})(c);return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(r.Tg,{ref:p,accessibilityLabel:o,href:a,onBlur:()=>_(!1),onFocus:()=>_(!0),rounding:6,children:(0,s.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,s.jsx)(r.xu,{alignItems:"center",color:u?"lightWash":"secondary",display:"flex",height:e,justifyContent:"center",rounding:6,width:e,children:(0,s.jsx)(r.JO,{accessibilityLabel:o,color:"default",icon:"text-align-left"===t&&h?"text-align-right":t,size:24})}),(0,s.jsx)(r.xu,{paddingY:1,width:e,children:(0,s.jsx)(r.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:o})})]})}),m&&(0,s.jsxs)(n.Fragment,{children:[(0,s.jsx)(l.cs,{anchors:{[m]:p.current},placementId:1000251,positionRelativeToAnchor:!1}),(0,s.jsx)(l.N,{anchors:{[m]:p.current},idealDirection:"down",onAnchorTouch:"complete",placementId:1000251,scrollToDismiss:!0})]})]})};function u({boardId:e,sectionId:t,horizontalAlignment:a="center",toolSize:n,isBoardEmpty:l}){let i="";t?i=t:e&&(i=e);let d=t?`section-tools:${i}`:`board-tools:${i}`,u=((0,o.v9)(({feeds:e})=>e[d])||[]).filter(({tool:e})=>!l||2!==e);return!u||u.length<1?null:(0,s.jsx)(r.xu,{"data-test-id":"board-tools-container",children:(0,s.jsx)(r.kC,{alignItems:"center",justifyContent:a,width:"100%",children:(0,s.jsx)(r.kC,{alignItems:"stretch",gap:2,justifyContent:"start",children:u.map(e=>(0,s.jsx)(r.xu,{children:(0,s.jsx)(c,{boardTool:e,toolSize:n})},e.id))})})})}c.displayName="BoardTool"},191641:function(e,t,a){a.d(t,{Z:()=>l});var o=a(20256),r=a(661314),n=a(785893);function l({boardId:e,surface:t}){return(0,n.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,n.jsx)(r.Z,{bgColor:"white",boardId:e,buttonPadding:4,elementType:10643,iconButtonColor:"darkGray",iconButtonSize:"xl",viewType:"board"===t?5:164})})}},689636:function(e,t,a){a.d(t,{Z:()=>r});var o=a(667294);class r extends o.PureComponent{constructor(...e){var t,a,o;super(...e),t="check",a=()=>{let{isAtEnd:e,isFetching:t,fetchMore:a,scrollBuffer:o,scrollHeight:r,scrollTop:n}=this.props;e||t||n+o>r&&a()},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}componentDidMount(){setTimeout(this.check)}componentDidUpdate(){this.check()}render(){return null}}},693853:function(e,t,a){a.d(t,{Z:()=>V});var o=a(667294),r=a(825332),n=a(20256),l=a(575108),i=a(521009),s=a(706987),d=a(784821),c=a(935709),u=a(306171),_=a(982166),h=a(475498),p=a(525839),m=a(467221),b=a(692385),f=a(87853),g=a(419480),x=a(581722),v=a(289032),y=a(821342),w=a(536652),j=a(444185),A=a(159527),P=a(657043),C=a(744862),k=a(415602),z=a(969009),S=a(785893);function I(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class B extends o.PureComponent{constructor(...e){super(...e),I(this,"state",{isSent:!1}),I(this,"onInlineSend",async()=>{let{inviteCollaborator:e,viewingUserId:t,boardId:a,recipient:o,showToast:r}=this.props;this.setState({isSent:!0});try{await e(a,o?.id??"",t),r(({hideToast:e})=>(0,S.jsx)(h.Z,{onHide:e,text:this.props.i18n.bt("1 invitation sent", "1 invite sent!", "BoardCollabSuggestionCell.onInlineSend.confirmationToast", undefined, true)}))}catch(e){this.setState({isSent:!1}),r(({hideToast:t})=>(0,S.jsx)(h.Z,{onHide:t,text:(0,P.Z)(e,"message")||this.props.i18n.bt("Sorry, there was an error adding collaborators", "Sorry! There was an error adding collaborators", "Toast for adding collaborator error", undefined, true),type:"error"}))}})}render(){let{invite:e,legoBoardModalsEnabled:t,recipient:a}=this.props,{isSent:o}=this.state,r=!!(o||e),l=a?.avatar_color_index;return(0,S.jsxs)(n.xu,{alignItems:"center",direction:"row",display:"flex",paddingY:2,position:"relative",width:"100%",children:[(0,S.jsx)(n.xu,{children:(0,S.jsx)(C.qE,{accessibilityLabel:"",color:l,name:a?.full_name??"",size:"md",src:a?.image_large_url??""})}),(0,S.jsx)(n.xu,{flex:"grow",paddingX:2,children:t?(0,S.jsxs)(n.xu,{children:[(0,S.jsx)(n.X6,{accessibilityLevel:2,lineClamp:1,size:"400",children:a?.full_name}),(0,S.jsx)(n.xv,{color:"subtle",lineClamp:1,size:"100",children:a?.username})]}):(0,S.jsx)(n.xv,{lineClamp:1,weight:"bold",children:a?.full_name})}),(0,S.jsx)(n.xu,{flex:"none",marginStart:2,right:!0,children:r?(0,S.jsx)(n.xu,{marginEnd:2,children:(0,S.jsx)(n.xv,{color:"subtle",size:"300",weight:"bold",children:this.props.i18n.bt("Invited", "Invited", "Disabled button after a user invites someone else", undefined, true)})}):(0,S.jsx)(n.zx,{color:"red",disabled:r,onClick:()=>{this.onInlineSend()},size:"lg",text:this.props.i18n.bt("Invite", "Invite", "Button to invite a contact to collaborate on a group board", undefined, true)})})]})}}function T(e){let t=(0,p.ZP)(),{showToast:a}=(0,f.dI)();(0,j.Z)({name:"BoardInviteResource",options:{board_id:e.boardId,invited_user_id:e.recipient?.id}});let o=(0,y.Z)(),r=(0,x.I0)(),n=(0,k.DK)(),l=(0,z.U)({board:e.boardId,invited_user:e.recipient?.id??""}),i=(0,x.v9)(({invites:e})=>e[l]);return(0,S.jsx)(B,{...e,i18n:t,invite:i,inviteCollaborator:(e,t)=>r(n(e,[t])),showToast:a,viewingUserId:o.isAuth?o.id:""})}var Z=a(793698),E=a(671347),L=a(603316);function R(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let M={boxShadow:"0 6px 8px -4px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"};class O extends o.PureComponent{constructor(e){super(e),R(this,"state",{value:"",showScrollShadow:!1,defaultSuggestions:[]}),R(this,"onSearchChange",({value:e})=>{let{userId:t,searchContacts:a}=this.props;this.setState({value:e},a({options:{user:t,term:e}}))}),R(this,"getContactSuggestions",()=>{let{suggestions:e,userId:t,users:a}=this.props,{value:o,defaultSuggestions:r}=this.state;if(!o)return r.filter(e=>e.id&&a[e.id])||[];let n=`share-suggestions:${t}:${o}`,l=`share-suggestions:${t}:${o.slice(0,-1)}`;return e[n]||e[l]||[]}),R(this,"renderContactSuggestions",()=>{let{fetching:e,users:t,boardId:a,legoBoardModalsEnabled:o,isFullHeight:r}=this.props,{value:l}=this.state,i=this.getContactSuggestions(),s=Math.min(i.length,4),d=r?"100%":`calc(8.5vh * ${s})`;return e?(0,S.jsx)(n.xu,{height:d,paddingY:2,children:(0,S.jsx)(n.xH,{accessibilityLabel:this.props.i18n.bt("Searching for contacts", "Searching for contacts", "Placeholder text for spinner on share menu", undefined, true),show:!0})}):0===i.length?r&&l.trim()&&(0,S.jsx)(n.xu,{marginTop:4,children:(0,S.jsx)(n.xv,{align:"center",children:this.props.i18n.bt("Sorry, we can't find anyone by that name.", "Sorry, we can't find anyone by that name.", "Text to show empty state when a contact can not be found", undefined, true)})}):(0,S.jsx)(n.xu,{height:d,children:i.map(e=>(0,S.jsx)(T,{boardId:a,legoBoardModalsEnabled:!!o,recipient:t[e.id]},e.id))})}),this.scrollerRef=(0,o.createRef)()}componentDidUpdate(e){let{fetching:t}=e,{value:a}=this.state,o=t&&!this.props.fetching,r=this.getContactSuggestions();if(!a&&o){let e=r.length>0?7511:7512;this.props.logContextEvent({event_type:e,view_type:5,view_parameter:3059})}}componentDidMount(){l.Z.create("ShareSuggestionsResource",{suggestion_type:"group_board",board:this.props.boardId}).callGet().then(e=>{let t=e.resource_response.data;this.setState({defaultSuggestions:t})}).catch(()=>{(0,L.nP)("mweb_share_menu_load_suggestions.fail.board_invite",{sampleRate:1})})}render(){let{showScrollShadow:e}=this.state,{expandContactsList:t}=this.props,a=(0,A.Z)(()=>{let e=this.scrollerRef.current;e&&!Number.isNaN(e.scrollTop)&&this.setState({showScrollShadow:e.scrollTop>0})},100);return(0,S.jsxs)(n.xu,{color:"default",direction:"column",display:"flex",height:"90%",paddingX:0,children:[(0,S.jsx)(n.xu,{color:"default",dangerouslySetInlineStyle:{__style:e?M:null},paddingX:4,paddingY:2,children:(0,S.jsx)(E.Z,{accessibilityLabel:this.props.i18n.bt("search for contact", "search contact", "Accessibility label for searchbar on share menu", undefined, true),autoFocus:!1,id:"contactsSuggestSearchField",onChange:this.onSearchChange,onFocus:t,placeholder:this.props.i18n.bt("Search by name or email", "Search by name or email", "Placeholder text for searchbar on share menu", undefined, true),value:this.state.value})}),(0,S.jsx)(n.xu,{ref:this.scrollerRef,direction:"column",display:"flex",onScroll:a,overflow:"scrollY",paddingX:4,paddingY:1,children:this.renderContactSuggestions()})]})}}function F(e){let t=(0,p.ZP)(),a=(0,x.I0)(),o=(0,x.v9)(({resources:e})=>Object.values(e.ShareSuggestionsTypeaheadResource||{}).some(e=>e.fetching)),r=(0,x.v9)(({feeds:e})=>Object.keys(e).filter(e=>e.includes("share-suggestions")).reduce((t,a)=>({...t,[a]:e[a]}),{})),n=(0,y.Z)(),l=n.isAuth?n.id:void 0,s=(0,Z.dM)(),d=(0,i.Z)();return(0,j.Z)({name:"ShareSuggestionsTypeaheadResource",options:{term:"",user:l}}),(0,S.jsx)(O,{...e,fetching:o,i18n:t,logContextEvent:d,searchContacts:e=>{(0,v.Z)(a((0,w.U)("ShareSuggestionsTypeaheadResource",e)),200)},suggestions:r,userId:l??"",users:s})}var U=a(914407),D=a(522169);function N(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}let H=({text:e})=>(0,S.jsx)(n.xv,{align:"center",size:"100",children:(0,S.jsx)(b.Z,{maxHeightPx:30,maxWidthPx:70,children:e})}),K=({heading:e,legoBoardModalsEnabled:t,onDismiss:a})=>{let o=(0,p.ZP)();return(0,S.jsxs)(n.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,S.jsx)(n.xu,{alignItems:"center",display:"flex",padding:2,children:(0,S.jsx)(n.hU,{accessibilityLabel:o.bt("Close", "Close", "close share menu", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:a,padding:4,size:t?"lg":"sm"})}),(0,S.jsx)(n.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginEnd:12,children:(0,S.jsx)(n.xv,{align:"center",size:"400",weight:"bold",children:e})})]})},q=({children:e,isOpen:t,legoBoardModalsEnabled:a,onDismiss:o,shouldRenderFullHeight:r})=>{let n=(0,p.ZP)(),l=n.bt("Invite collaborators", "Invite collaborators", "mweb.inviteSheet.header.label", undefined, true),i={accessibilityModalLabel:"",mobileAccessibilityCloseIconLabel:n.bt("close send modal", "close send modal", " - ", undefined, true),heading:l,isOpen:t,onDismiss:o,type:"board_collab_share_menu"};return r?(0,S.jsxs)(U.Z,{accessibilityModalLabel:l,isOpen:t,children:[(0,S.jsx)(K,{heading:l,legoBoardModalsEnabled:a,onDismiss:o}),e]}):(0,S.jsx)(_.ZP,{...i,children:e})};class G extends o.PureComponent{constructor(...e){super(...e),N(this,"state",{invitePath:"",inviteCode:null,Clipboard:null,fbLoaded:!1}),N(this,"setClipboard",e=>{let{Clipboard:t}=this.state;if(this.copyButtonRef=e,!e||!t)return;let a=new t(e,{text:()=>this.state.invitePath});a.on("success",e=>{this.showCopyToast(e)}),a.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}),N(this,"showCopyToast",e=>{this.logShare(12),this.props.onDismiss(e),this.props.showToast(({hideToast:e})=>(0,S.jsx)(h.Z,{onHide:e,text:this.props.i18n.bt("Copied link to your clipboard to share", "Copied link to your clipboard to share", "url link was copied to user clipboard", undefined, true)}))}),N(this,"handleMessengerClick",()=>{this.logShare(6),this.fetchFreshInviteCode(6)}),N(this,"handleTwitterClick",()=>{this.logShare(9),this.fetchFreshInviteCode(9)}),N(this,"handleWhatsappClick",()=>{this.logShare(10),this.fetchFreshInviteCode(10)}),N(this,"handleFacebookClick",()=>{let{inviteCode:e,invitePath:t,fbLoaded:a}=this.state;a&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},t=>{t&&!t.error_message&&this.logShare(5,e)}),this.fetchFreshInviteCode(5)}),N(this,"copyButtonRef",null)}componentDidMount(){this.fetchFreshInviteCode(12),(0,m.we)("en_US").then(()=>{this.setState({fbLoaded:!0})}),a.e("74459").then(a.t.bind(a,842152,23)).then(({default:e})=>{e.isSupported()&&(this.setState({Clipboard:e}),this.setClipboard(this.copyButtonRef))}),this.props.logContextEvent({event_type:7120,element:331,view_type:5,view_parameter:3059})}componentDidUpdate({objectId:e}){let{objectId:t}=this.props;e!==t&&this.fetchFreshInviteCode(12)}async fetchFreshInviteCode(e){let{objectId:t,objectType:a,fetchFreshInviteCode:o}=this.props,{invitePath:r,inviteCode:n}=await o(e,t,a);r&&this.setState({invitePath:r}),n&&this.setState({inviteCode:n})}logShare(e,t=this.state.inviteCode){let{objectId:a,objectType:o}=this.props;l.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:4,invite_object:o,invite_channel:e},invite_code:t,object_id:a}).callCreate()}render(){let{boardCollabPermissionsSetting:e,navigate:t,legoBoardModalsEnabled:a,objectId:r,onExpand:l,shouldRenderFullHeight:i}=this.props,{invitePath:_}=this.state,h=`fb-messenger://share/?link=${encodeURIComponent(_)}&app_id=${m.GH}`,p=`twitter://post?message=${encodeURIComponent(_)}`,b=`whatsapp://send?text=${encodeURIComponent(_)}`,f=({children:e,marginEnd:t})=>(0,S.jsx)(n.xu,{direction:"column",display:"flex",marginEnd:t,width:a?void 0:78,children:e}),x=({children:e})=>(0,S.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingX:a?void 0:3,children:e}),v=this.props.i18n.bt("Copy link", "Copy link", "Copy link icon", undefined, true),y=this.props.i18n.bt("Messenger", "Messenger", "Facebook Messenger App", undefined, true),w=a?44:48;return(0,S.jsxs)(o.Fragment,{children:[!i&&(0,S.jsxs)(n.xu,{children:[(0,S.jsx)(n.xu,{height:4}),[0,1].includes(e)&&(0,S.jsx)(n.iP,{onTap:()=>t(`/board/${r}/permissions`),children:(0,S.jsxs)(n.xu,{marginBottom:8,paddingX:4,children:[(0,S.jsx)(n.xu,{paddingY:2,children:(0,S.jsx)(n.xv,{size:"100",children:this.props.i18n.bt("Collaborators can...", "Collaborators can...", "boardEdit.EditCollaborators", undefined, true)})}),(0,S.jsxs)(n.kC,{alignItems:"start",justifyContent:"between",children:[(0,S.jsx)(n.xu,{width:"60%",children:(0,S.jsx)(g.Z,{setting:e})}),(0,S.jsx)(n.JO,{accessibilityLabel:this.props.i18n.bt("See permission options", "See permission options", "boardEdit.EditCollaborators", undefined, true),icon:"arrow-forward"})]})]})}),(0,S.jsxs)(n.xu,{display:"flex",justifyContent:"around",marginEnd:4,marginStart:4,overflow:"scrollX",width:"100%",children:[(0,S.jsxs)(f,{marginEnd:2,children:[(0,S.jsx)(x,{children:(0,S.jsx)(n.xu,{ref:this.setClipboard,children:(0,S.jsx)(n.Sj,{bgColor:"lightGray",icon:"link",size:"lg"})})}),(0,S.jsx)(H,{text:v})]}),(0,S.jsxs)(f,{marginEnd:2,children:[(0,S.jsx)(x,{children:(0,S.jsx)(n.rU,{href:h,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),this.handleMessengerClick()},rel:"nofollow",children:(0,S.jsx)(d.Z,{size:w})})}),(0,S.jsx)(H,{text:y})]}),(0,S.jsxs)(f,{marginEnd:2,children:[(0,S.jsx)(x,{children:(0,S.jsx)(n.rU,{href:b,onClick:this.handleWhatsappClick,rel:"nofollow",children:(0,S.jsx)(c.Z,{size:w})})}),(0,S.jsx)(H,{text:this.props.i18n.bt("WhatsApp", "WhatsApp", "WhatsApp App", undefined, true)})]}),(0,S.jsxs)(f,{marginEnd:2,children:[(0,S.jsx)(x,{children:(0,S.jsx)(n.rU,{href:"#",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{e.preventDefault(),t(),this.handleFacebookClick()},rel:"nofollow",children:(0,S.jsx)(s.Z,{size:w})})}),(0,S.jsx)(H,{text:this.props.i18n.bt("Facebook", "Facebook", "Facebook App", undefined, true)})]}),(0,S.jsxs)(f,{children:[(0,S.jsx)(x,{children:(0,S.jsx)(n.rU,{href:p,onClick:this.handleTwitterClick,rel:"nofollow",children:(0,S.jsx)(u.Z,{size:w})})}),(0,S.jsx)(H,{text:this.props.i18n.bt("X", "X", "Twitter App", undefined, true)})]})]}),(0,S.jsx)(n.xu,{height:16})]}),(0,S.jsx)(F,{boardId:r,expandContactsList:l,isFullHeight:i,legoBoardModalsEnabled:a})]})}}function $(e){let t=(0,r.s0)(),a=(0,p.ZP)(),o=(0,i.Z)(),{showToast:n}=(0,f.dI)(),l=(0,D.D3)();return(0,S.jsx)(G,{...e,fetchFreshInviteCode:l,i18n:a,logContextEvent:o,navigate:t,showToast:n})}let V=({boardCollabPermissionsSetting:e,isOpen:t,onDismiss:a,objectId:o,objectType:r})=>(0,S.jsx)(q,{isOpen:t,legoBoardModalsEnabled:!0,onDismiss:a,shouldRenderFullHeight:!0,children:(0,S.jsx)($,{boardCollabPermissionsSetting:e,legoBoardModalsEnabled:!0,objectId:o,objectType:r,onDismiss:a,shouldRenderFullHeight:!0})})},689676:function(e,t,a){a.d(t,{Z:()=>p});var o=a(667294),r=a(581722),n=a(20256),l=a(744862),i=a(525839),s=a(302148),d=a(38817),c=a(683532),u=a(676244),_=a(149728),h=a(785893);function p({isSelf:e,showVerified:t=!1,user:a={},onFollowChange:p}){let[m,b]=(0,o.useState)(a.explicitly_followed_by_me||!1),[f,g]=(0,o.useState)(!1),x=(0,r.I0)(),v=(0,i.ZP)(),y=()=>{g(!1),x((0,u.fv)(a.id)),b(!1),p&&p(a,!1)},{verified_identity:w,full_name:j,is_verified_merchant:A,is_private_profile:P,explicitly_followed_by_me:C,username:k}=a,z=w?.verified,S=a.image_medium_url||a.image_small_url;return(0,h.jsxs)(n.xu,{alignItems:"center","aria-label":v.bt("User card", "User card", "FollowersModal.User.card", undefined, true),direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingY:1,role:"group",children:[f&&(0,h.jsx)(c.Z,{firstName:j??"",handleUnfollowUser:y,onDismiss:()=>{g(!1)}}),(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{wordBreak:"break-word"}},flex:"grow",paddingX:1,children:(0,h.jsx)(n.Tg,{href:`/${k}/`,children:(0,h.jsxs)(n.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,h.jsx)(n.xu,{width:50,children:(0,h.jsx)(l.qE,{accessibilityLabel:v.bt("User profile picture", "User profile picture", "FollowersModal.User.profilePicture", undefined, true),color:a?.avatar_color_index,name:(0,s.nk)(v.bt("Avatar for {{ fullName }}", "Avatar for {{ fullName }}", "avatar.name", undefined, true),{fullName:j}).join(" "),size:"fit",src:S??""})}),(0,h.jsx)(n.X6,{accessibilityLevel:3,size:"300",children:(0,h.jsx)(n.xv,{inline:!0,lineClamp:3,size:"300",weight:"bold",children:t&&(A||z)?(0,h.jsx)(_.Z,{badgeSize:"sm",badgeSpacing:2,fullName:j??"",isVerifiedIdentity:z,isVerifiedMerchant:A}):j})}),P&&(0,h.jsx)(n.xu,{children:(0,h.jsx)(n.JO,{accessibilityLabel:v.bt("private icon", "private icon", "privateProfileHeaderAuthDesktop.privateIcon", undefined, true),icon:"lock",inline:!0})})]})})}),(0,h.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},paddingX:1,children:(!P||C)&&(0,h.jsx)(d.Z,{followEventType:45,id:a.id,isFollowed:m,isUserMe:!!e,onFollow:e=>{x((0,u.ZN)(e)),b(!0),p&&p(a,!0)},onUnfollow:()=>{P?g(!0):y()},pinKey:null,textType:"FollowUnfollow",unfollowEventType:46,viewType:4})})]})}},348268:function(e,t,a){a.d(t,{G9:()=>l,SY:()=>s,kk:()=>n,mb:()=>d,s:()=>i});var o=a(93966),r=a(625453);let n=({isDesktop:e})=>{let t=(0,r.Z)({isDesktop:e});return t?-t:0},l=-2,i=({trafficSource:e,deviceType:t,experimentalGutter:a})=>{let r=a??4*o.jC;return"desktop"===t?r:"board"===e?4:void 0},s=({deviceType:e,customMWebColumnWidth:t,experimentalColumnWidth:a})=>{let r=a??o.yF;return"desktop"===e?r:t||200},d=({gutterWidth:e,itemWidth:t,className:a,minColumns:r=o.yc,maxColumns:n=o.g5})=>{let l=t+e;return Array.from({length:n+1-r},(e,t)=>t+r).map(t=>({minWidth:t===r?0:t*l,maxWidth:t===n?null:(t+1)*l-1,styles:`
      .${a} {
        max-width: ${t*l-e}px;
      }
      `})).map(({minWidth:e,maxWidth:t,styles:a})=>`
    @media (min-width: ${e}px) ${t?`and (max-width: ${t}px)`:""} {
      ${a}
    }
  `).join("")}},741331:function(e,t,a){a.d(t,{Z:()=>o});let o=(0,a(667294).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},966269:function(e,t,a){a.d(t,{Z:()=>n});var o=a(667294),r=a(741331);function n(){let e=(0,o.useContext)(r.Z);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},79293:function(e,t,a){a.d(t,{Z:()=>p});var o=a(667294),r=a(20256),n=a(93966),l=a(369416),i=a(647709),s=a(640168),d=a(785893);let c="PinGridSkeletonLoader__tall",u="PinGridSkeletonLoader__short",_=({size:e})=>(0,d.jsx)(r.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?c:u})}),h=({children:e})=>(0,d.jsx)(r.kC,{direction:"column",gap:{row:0,column:2},children:e}),p=({partialViewportWidth:e})=>{let t="desktop"===(0,i.ZP)(),a=t?n.yF:n.tG;return(0,d.jsxs)(o.Fragment,{children:[(0,d.jsx)(l.Z,{unsafeCSS:[{name:c,height:250},{name:u,height:150}].map(({name:e,height:t})=>(0,s.Z)({name:e,width:a,height:t})).join("")}),(0,d.jsx)(r.xu,{"data-test-id":"pin-grid-skeleton-loader",marginEnd:n.qG,marginStart:n.qG,children:t?(0,d.jsxs)(r.kC,{direction:"row",gap:{row:n.jC,column:0},children:[(0,d.jsx)(h,{children:(0,d.jsx)(_,{size:"tall"})}),(0,d.jsx)(h,{children:(0,d.jsx)(_,{size:"short"})}),(0,d.jsx)(h,{children:(0,d.jsx)(_,{size:"tall"})}),!e&&(0,d.jsx)(h,{children:(0,d.jsx)(_,{size:"short"})})]}):(0,d.jsxs)(r.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,d.jsxs)(h,{children:[(0,d.jsx)(_,{size:"tall"}),(0,d.jsx)(_,{size:"short"}),(0,d.jsx)(_,{size:"tall"})]}),(0,d.jsxs)(h,{children:[(0,d.jsx)(_,{size:"short"}),(0,d.jsx)(_,{size:"tall"}),(0,d.jsx)(_,{size:"short"}),(0,d.jsx)(_,{size:"tall"})]})]})})]})}},640168:function(e,t,a){a.d(t,{Z:()=>o});let o=({name:e,width:t,height:a})=>{let o=`${t}${"number"==typeof t?"px":""}`,r=`${a}${"number"==typeof a?"px":""}`,n="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${n} ${r};
  width: ${o};
  height: ${r};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${n}px 0;
  }
  100% {
      background-position: ${n}px 0;
  }
}
`}},683532:function(e,t,a){a.d(t,{Z:()=>d});var o=a(20256),r=a(982166),n=a(525839),l=a(302148),i=a(647709),s=a(785893);function d({onDismiss:e,firstName:t,handleUnfollowUser:a}){let d=(0,n.ZP)(),c=(0,i.HG)(),u=(0,l.nk)(d.bt("Unfollow {{ firstName }}?", "Unfollow {{ firstName }}?", "unfollowUser.modal.header", undefined, true),{firstName:t}).join(""),_=d.bt("You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.", "You will no longer be able to view their profile, Pins, boards, followers or following lists. They will not be notified.", "unFollowUser.modal.description", undefined, true),h=d.bt("Cancel", "Cancel", "unfollowUser.modal.cancel", undefined, true),p=d.bt("Unfollow", "Unfollow", "unfollowUser.modal.button.unfollow", undefined, true);return c?(0,s.jsx)(r.ZP,{accessibilityModalLabel:u,footer:(0,s.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(o.xu,{padding:1,children:(0,s.jsx)(o.zx,{fullWidth:!0,onClick:e,size:"lg",text:h})}),(0,s.jsx)(o.xu,{padding:1,children:(0,s.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:a,size:"lg",text:p})})]}),heading:u,onDismiss:e,role:"alertdialog",size:"md",children:(0,s.jsx)(o.xu,{"data-test-id":"unfollow-text",marginEnd:6,marginStart:6,children:(0,s.jsx)(o.xv,{children:_})})}):(0,s.jsxs)(r.ZP,{accessibilityModalLabel:u,mobileHideCloseIcon:!0,onDismiss:e,type:"unFollow_button",children:[(0,s.jsx)(o.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,s.jsx)(o.X6,{accessibilityLevel:1,size:"600",children:u})}),(0,s.jsx)(o.xu,{marginBottom:4,marginEnd:4,marginStart:4,children:(0,s.jsx)(o.xv,{children:_})}),(0,s.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:8,children:[(0,s.jsx)(o.xu,{padding:1,children:(0,s.jsx)(o.zx,{fullWidth:!0,onClick:e,size:"md",text:h})}),(0,s.jsx)(o.xu,{padding:1,children:(0,s.jsx)(o.zx,{color:"red",fullWidth:!0,onClick:a,size:"md",text:p})})]})]})}},843439:function(e,t,a){a.d(t,{x:()=>l,z:()=>i});var o=a(575108),r=a(189976);function n(e,t){return{type:"BOARD_ARCHIVE",payload:{boardId:e,username:t}}}function l(e,t){return a=>(a(n(e)),o.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callUpdate())}let i=(e,t)=>a=>o.Z.create("BoardArchiveResource",{boardId:e}).callUpdate().then(o=>(a((0,r.Qv)("archived-boards",[{id:e,type:"board"}])),a(n(e,t)),o))},415602:function(e,t,a){a.d(t,{A8:()=>v,CQ:()=>C,Cf:()=>g,DK:()=>m,GJ:()=>P,RZ:()=>y,SD:()=>w,aN:()=>k,h6:()=>f,tV:()=>A,xx:()=>x,yC:()=>z,zC:()=>b});var o,r,n,l,i,s,d,c=a(581722),u=a(167912),_=a(575108),h=a(980787),p=a(686319);let m=()=>{let e=(void 0!==o||(o=a(800679)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==o.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o),[t]=(0,u.useMutation)(e),{logContextEvent:r}=(0,h.u)();return async(e,a,o)=>{let n={boardId:e,collaboratorIds:a,message:o||""};return await new Promise((a,o)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&o(n[0]),r({event_type:28,object_id_str:e}),a()},onError:e=>o(e)})})}},b=()=>{let e=(void 0!==r||(r=a(868455)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==r.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),[t]=(0,u.useMutation)(e),{logContextEvent:o}=(0,h.u)();return async(e,a,r)=>{let n={boardId:e,emails:a,message:r||""};return await new Promise((a,r)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&r(n[0]),o({event_type:28,object_id_str:e}),a()},onError:e=>r(e)})})}},f=()=>{let e=(void 0!==n||(n=a(479699)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==n.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[t]=(0,u.useMutation)(e),{logContextEvent:o}=(0,h.u)();return async(e,a)=>{let r={boardId:e,userId:a};return await new Promise((a,n)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&n(r[0]),o({event_type:32,object_id_str:e}),a(t)},onError:e=>n(e)})})}};function g(e,t){return async a=>{await (0,p.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:t}}),a({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}})}}function x(e,t){return async a=>{await (0,p.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:t}}),a({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let v=(e,t)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:t}}),y=()=>{let e=(void 0!==l||(l=a(608747)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==l.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),[t]=(0,u.useMutation)(e),{logContextEvent:o}=(0,h.u)();return async e=>{let a={boardId:e};return await new Promise((r,n)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&n(a[0]),o({event_type:32,object_id_str:e}),r(t)},onError:e=>n(e)})})}},w=(e,t,a)=>async o=>{o(v(e,t)),(await _.Z.create("BoardInviteResource",{board_id:e,invited_user_id:t.id}).callUpdate()).resource_response.error||a({event_type:32,object_id_str:e})};function j(e,t){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:t}}}let A=()=>{let e=(void 0!==i||(i=a(336997)).hash&&"9aa22a7713214239538142ad2c957cc3"!==i.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),[t]=(0,u.useMutation)(e),o=(0,c.I0)();return async e=>{let a={boardId:e};return await new Promise((r,n)=>{t({variables:{...a},onCompleted:(t,a)=>{a&&(o(j(e,!1)),n(a[0])),o(j(e,!0)),r(t)},onError:t=>{o(j(e,!1)),n(t)}})})}};function P(e,t){return a=>{(0,p.Z)({url:`/v3/boards/${e}/collaborators/invite/${t}/`,method:"DELETE",data:{board:e,user:t}}).catch(()=>{a(j(e,!0))}),a(j(e,!1))}}let C=()=>{let e=(void 0!==s||(s=a(296485)).hash&&"c62e5df78917dd238b70f366f358d487"!==s.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[t]=(0,u.useMutation)(e),{logContextEvent:o}=(0,h.u)();return async(e,a,r)=>{let n={boardId:e,userId:a,ban:r||!1};return await new Promise((a,r)=>{t({variables:{...n},onCompleted:(t,n)=>{n&&r(n[0]),o({event_type:29,object_id_str:e}),a(t)},onError:e=>r(e)})})}},k=()=>{let e=(void 0!==d||(d=a(579965)).hash&&"2c3e1508650962adfff1171e950fa419"!==d.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),[t]=(0,u.useMutation)(e),{logContextEvent:o}=(0,h.u)();return async(e,a)=>{let r={board:e,collaboratorIds:[a]};return await new Promise((a,n)=>{t({variables:{...r},onCompleted:(t,r)=>{r&&n(r[0]),o({event_type:29,object_id_str:e}),a(t)},onError:e=>n(e)})})}},z=()=>{let e=C(),t=k();return(a,o,r)=>async()=>{let{invited_user:o,status:n,board:{id:l}}=a;o&&("accepted"===n?await t(l,o.id):await e(l,o.id,r))}}},947066:function(e,t,a){a.d(t,{Y:()=>l,f:()=>i});var o=a(575108),r=a(189976);function n(e){return{type:"BOARD_UNARCHIVE",payload:{boardId:e}}}function l(e,t){return a=>(a(n(e)),o.Z.create("BoardArchiveResource",{boardId:e,orbacSubjectId:t}).callDelete())}let i=(e,t)=>a=>o.Z.create("BoardArchiveResource",{boardId:e}).callDelete().then(o=>(a((0,r.Qv)(`profile-boards:${t}`,[{id:e,type:"board"}])),a(n(e)),o))},676244:function(e,t,a){a.d(t,{KF:()=>c,ZN:()=>i,fv:()=>d,kE:()=>_,yA:()=>s});var o=a(575108),r=a(686319),n=a(401450);function l(e,t,a,r){return o.Z.create("UserFollowResource",{user_id:e,invite_code:r||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:a})}function i(e,t=null,a,o){return r=>{l(e,t,a,o).callCreate().catch(()=>r((0,n.P_)(e,!1))),r((0,n.P_)(e,!0))}}function s(e,t=null,a,o){return async r=>{r((0,n.P_)(e,!0)),await l(e,t,a,o).callCreate().catch(t=>{throw r((0,n.P_)(e,!1)),t})}}function d(e,t=null,a){return o=>{l(e,t,a).callDelete().catch(()=>o((0,n.P_)(e,!0))),o((0,n.P_)(e,!1))}}function c(e,t=null,a){return async o=>{o((0,n.P_)(e,!1)),await l(e,t,a).callDelete().catch(t=>{throw o((0,n.P_)(e,!0)),t})}}let u=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),_=e=>t=>{e.length>0&&((0,r.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(u(e,!1))),t(u(e,!0)))}},63064:function(e,t,a){a.d(t,{Z:()=>r});var o=a(991384);let r=function(e,t){return(a,r)=>{let n=t(a,r);if(r.payload&&!Array.isArray(r.payload)){let{normalizedResponse:t}=r.payload;if(t&&t.entities&&t.entities[e]){var l;return Object.keys(l=t.entities[e]).reduce((e,t)=>({...e,[t]:(0,o.Z)(e[t],l[t])}),n)}}return n}}},969009:function(e,t,a){a.d(t,{U:()=>r,Z:()=>l});var o=a(63064);let r=e=>`${e.board}:${e.invited_user??""}`,n=(e,t)=>({...e,[r(t)]:{...e[r(t)],...t}}),l=(0,o.Z)("collaboratorinvite",(e,t)=>{switch(e=e||{},t.type){case"BOARD_COLLABORATOR_DELETE":return n(e,{board:t.payload.boardId,invited_user:t.payload.userId,status:"not_invited"});case"BOARD_COLLABORATOR_ADD":let{boardId:a,viewingUser:o,status:l,collaboratingUsers:i}=t.payload;return i.map(e=>e?.id).filter(Boolean).reduce((e,t)=>{let i={access:["delete"],board:a,invited_user:t,invited_by_user:o,status:l,type:"collaboratorinvite"},s=r(i);return e[s]&&"not_invited"!==e[s].status?e:n(e,i)},{...e});case"BOARD_INVITE_ACCEPTED_BY_VIEWER":return n(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id,status:"accepted"});case"BOARD_INVITE_APPROVED_BY_VIEWER":let s=t.payload.isRequestToJoin?"accepted":"new";return n(e,{board:t.payload.boardId,invited_user:t.payload.collaboratingUser?.id??"",status:s});case"BOARD_INVITE_DENIED_BY_VIEWER":let d=r({board:t.payload.boardId,invited_user:t.payload.userId}),{[d]:c,...u}=e;return u;default:return e}})},702226:function(e,t,a){a.d(t,{Z:()=>o});let o=(0,a(442279).createSelector)(e=>e.boards,e=>Object.keys(e).reduce((t,a)=>{let o=e[a];t[o.url??""]=o;let r=o.url?.toLocaleLowerCase();r&&o.url!==r&&(t[r]=o);let{oldSlugUrl:n}=o;return n&&(t[n]=o),t},{}))},161774:function(e,t,a){a.d(t,{Z:()=>s});var o=a(20256),r=a(525839),n=a(302148),l=a(15667),i=a(785893);function s(e){let{addButtonRef:t,collaboratorCount:a,nonDisplayedCollaboratorCount:s,displayedCollaborators:d,onClick:c,showAddButton:u,avatarSize:_="md",ref:h}=e,p=(0,r.ZP)(),{isRTL:m}=(0,l.B)(),b=d.map(e=>e.name),f="";switch(s?"default":b.length){case 3:f=(0,n.Wc)(p.bt("{{ first }}, {{ second }} and {{ last }}", "{{ first }}, {{ second }}, and {{ last }}", "BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.ThreeAvatars", undefined, true),{first:`${b[0]}`,second:`${b[1]}`,last:`${b[2]}`});break;case 2:f=(0,n.Wc)(p.bt("{{ first }} and {{ second }}", "{{ first }} and {{ second }}", "BoardAvatarGroup.AvatarGroup.accessibilityLabel.usernames.TwoAvatars", undefined, true),{first:`${b[0]}`,second:`${b[1]}`});break;default:f=b.join(", ")}let g=s?(0,n.Wc)(p.nbt(["Collaborators: {{ userNames }} and {{ leftCount }} more.", "Collaborators: {{ userNames }} and {{ leftCount }} more."], s, "BoardAvatarGroup.AvatarGroup.accessibilityLabel.aboveTwoCollaborators", true),{userNames:f,leftCount:`${s}`}):(0,n.Wc)(p.bt("Collaborators: {{ userNames }}.", "Collaborators: {{ userNames }}.", "BoardAvatarGroup.AvatarGroup.accessibilityLabel.notAboveTwoCollaborators", undefined, true),{userNames:f}),x=d.length>1?[...d,...s?Array(s).fill({name:""}):[]]:d,v=(d.length>1||0===a)&&u,y=p.bt("Invite collaborators.", "Invite collaborators.", "BoardAvatarGroup.AvatarGroup.accessibilityLabel.inviteCollaborators", undefined, true);return(0,i.jsxs)(o.xu,{"data-test-id":"user-rep-avatar",position:"relative",rounding:"pill",children:[v?(0,i.jsx)(o.xu,{ref:t,height:48,left:m,position:"absolute",right:!m,rounding:"circle",top:!0,width:48}):null,(0,i.jsx)(o.xu,{height:"fit"===_?16:void 0,width:"fit"===_?16:void 0,children:(0,i.jsx)(o.HE,{ref:h,accessibilityLabel:v?`${g} ${y}`:`${g}`,addCollaborators:v,collaborators:x,onClick:c,role:"button",size:_})})]})}},854167:function(e,t,a){a.d(t,{Z:()=>c});var o=a(667294),r=a(20256),n=a(679422),l=a(525839),i=a(896273),s=a(785893);class d extends o.Component{constructor(...e){var t,a,o;super(...e),a={flyoutOpen:!1},(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t="state","string"))?o:o+"")in this?Object.defineProperty(this,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):this[t]=a}render(){let{board:e,bgColor:t="white",children:a,iconColor:n="gray",onCreatePincode:l}=this.props,{flyoutOpen:d}=this.state,c={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url},u=e=>{let{requireAuth:t}=this.props;if(t){e&&e.preventDefault(),t();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},_=a&&a({active:d,onClick:()=>u()})||(0,s.jsx)(r.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n.bt("Send board", "Send Board", "Accessible label for button to send board", undefined, true),bgColor:t,dataTestId:"send-board-button-icon",icon:"share",iconColor:n,onClick:({event:e})=>u(e),selected:d,size:"lg"});return(0,s.jsxs)(o.Fragment,{children:[(0,s.jsx)(r.xu,{ref:e=>{this.anchor=e},children:_}),this.state.flyoutOpen&&(0,s.jsx)(r.mh,{children:(0,s.jsx)(r.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>u(),positionRelativeToAnchor:!1,size:"flexible",children:(0,s.jsx)(i.Z,{component:13216,onCreatePincodeClick:l?()=>{u(),l()}:void 0,onHide:()=>u(),sendType:"board",sharedObject:c,viewType:5})})})]})}}let c=e=>{let t=(0,l.ZP)(),a=(0,n.Z)();return(0,s.jsx)(d,{...e,i18n:t,requireAuth:a,sendBoardButtonRef:e.sendBoardButtonRef})}},558926:function(e,t,a){a.d(t,{Z:()=>k});var o=a(667294),r=a(20256),n=a(355940),l=a(900675),i=a(444185),s=a(947810),d=a(984126),c=a(616550),u=a(825332),_=a(980787),h=a(364843),p=a(821342),m=a(15667),b=a(378888),f=a(341742),g=a(199593),x=a(966269),v=a(975740),y=a(244526),w=a(785893);let j=88,A=30,P=({boardTool:e,boardId:t,boardSectionId:a,iconSize:n=A,index:l,toolSize:i=j})=>{let[s,d]=(0,o.useState)(!1),P=(0,y.$)(),{icon:C,link:k,text:z,tool:S}=e,{section_slug:I}=(0,c.UO)(),B=k.split("/").slice(0,3),T=k.split("/").slice(4),Z=k.split("/")[3]!==I&&a&&I?[...B,I,...T].join("/"):k,{isRTL:E}=(0,m.B)(),{logContextEvent:L}=(0,_.u)(),{owner:R,pin_count:M,section_count:O}=(0,v.gC)()(t)||{},F=(0,p.Z)(),U=F.isAuth?F.id:"",D=R?.id===U?3069:3070,N=0===S,H=e=>{1===S&&L({event_type:e,view_type:a?164:5,view_parameter:D,element:10600,aux_data:{board_id:t,board_pin_count:M,board_section_count:O,board_section_id:a,grid_index:l}}),N&&L({event_type:e,view_type:a?164:5,view_parameter:D,component:14926,element:11990,aux_data:{board_id:t,board_session_id:P}})};(0,f.Z)(()=>{H(120),N&&H(13)});let K=(0,o.useRef)(null),{setGroupBoardMessageButton:q}=(0,x.Z)(),{conversations:{showConversationsDropdown:G},conversationOpen:$,dropdownOpen:V,dropdownClose:W}=(0,g.Z)(),Y=(0,u.TH)(),{conversation_id:J,tab:X}=(0,b.mB)(Y.search),Q=4===S&&!!J&&"inbox"===X;Q&&q(K.current);let ee=(e=>{switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}})(S);return(0,w.jsxs)(o.Fragment,{children:[(0,w.jsx)(r.Tg,{ref:K,accessibilityLabel:z,href:Q?"":Z,onBlur:()=>d(!1),onFocus:()=>d(!0),onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onTap:()=>{Q&&(H(102),G?W():(V(),$(J))),N&&H(101)},rounding:6,children:(0,w.jsxs)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,w.jsx)(r.xu,{alignItems:"center",alignSelf:"center",color:s?"lightWash":"secondary",display:"flex",height:i,justifyContent:"center",rounding:6,width:i,children:(0,w.jsx)(r.JO,{accessibilityLabel:z,color:"default",icon:"text-align-left"===C&&E?"text-align-right":C,size:n})}),(0,w.jsx)(r.xu,{paddingY:1,width:i,children:(0,w.jsx)(r.xv,{align:"center",lineClamp:2,size:"100",weight:"bold",children:z})})]})}),ee&&(0,w.jsxs)(o.Fragment,{children:[(0,w.jsx)(h.cs,{anchors:{[ee]:K.current},placementId:18,positionRelativeToAnchor:!1}),(0,w.jsx)(h.N,{anchors:{[ee]:K.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function C(e){let{boardId:t,sectionId:a,iconSize:o,isBoardEmpty:n,toolSize:i,boardOrSectionToolsRef:d}=e,c=(0,s.Z)(),{data:u}=(0,l.Z)(d);if(!u||!u.length)return null;let _=u.filter(({tool:e})=>!c||2===e).filter(({tool:e})=>!n||2!==e);return _.length?(0,w.jsx)(r.xu,{"data-test-id":"board-tools",children:(0,w.jsx)(r.kC,{alignItems:"start",justifyContent:"center",width:"100%",children:_.map((e,n)=>(0,w.jsx)(r.xu,{"data-test-id":e.text,padding:1,children:(0,w.jsx)(P,{boardId:t,boardSectionId:a,boardTool:e,iconSize:o,index:n,toolSize:i})},e.id))})}):null}function k(e){let{sectionId:t,boardId:a}=e,r=(0,s.Z)(),l=!!t,{ref:c}=(0,i.Z)({name:l?"SectionToolsFeedResource":"BoardToolsFeedResource",options:l?{sectionId:t,orbacSubjectId:r}:{boardId:a,orbacSubjectId:r}});return(0,w.jsx)(n.Z,{name:"BoardToolsContainer_ResourceError",children:(0,w.jsx)(o.Suspense,{fallback:(0,w.jsx)(d.Z,{}),children:(0,w.jsx)(C,{...e,boardOrSectionToolsRef:c})})})}P.displayName="BoardTool"},147403:function(e,t,a){a.d(t,{Z:()=>o});let o=(0,a(667294).createContext)({showAbout:!1,setShowAbout:()=>{}})},889168:function(e,t,a){a.d(t,{Z:()=>s});var o=a(20256),r=a(744862),n=a(525839),l=a(647709),i=a(785893);function s(e){let t=(0,n.ZP)(),a=(0,l.HG)()?"300":"200",{user:s}=e,{full_name:d="",image_medium_url:c,username:u}=s||{};return(0,i.jsxs)(o.kC,{alignItems:"center",dataTestId:"sponsor-avatar-and-name",gap:2,children:[(0,i.jsx)(o.Tg,{href:`/${u}/`,rounding:"circle",children:(0,i.jsx)(r.qE,{name:d,size:"sm",src:c})}),(0,i.jsxs)(o.xu,{children:[(0,i.jsx)(o.xu,{marginBottom:1,children:(0,i.jsx)(o.xv,{size:a,children:t.bt("Featured sponsor", "Featured sponsor", "board.Headers.BoardHeader.BoardHeaderDetails.featuredSponsor", undefined, true)})}),(0,i.jsx)(o.xv,{size:a,weight:"bold",children:(0,i.jsx)(o.rU,{display:"inlineBlock",href:`/${u}/`,underline:"none",children:d})})]})]})}},415245:function(e,t,a){a.d(t,{Z:()=>A});var o=a(667294),r=a(20256),n=a(670622),l=a(525839),i=a(906553),s=a(302148),d=a(15667),c=a(734263),u=a(785893);let _=()=>{let e=(0,l.ZP)();return(0,u.jsxs)(r.kC,{alignItems:"center",direction:"row",gap:1,children:[(0,u.jsx)(r.JO,{accessibilityLabel:e.bt("Pinterest logo", "Pinterest logo", "board.editorialBoardTag.pinterestLogo", undefined, true),color:"error",icon:"pinterest"}),(0,u.jsx)(r.xv,{color:"error",size:"200",children:e.bt("Featured creator", "Featured creator", "board.editorialBoardTag.featuredCreatorText", undefined, true)})]})};var h=a(147403),p=a(980787),m=a(982166),b=a(647709),f=a(291948);function g({showAbout:e,setShowAbout:t}){let a=(0,l.ZP)(),n=(0,b.HG)(),{logContextEvent:i}=(0,p.u)(),[s,d]=(0,o.useState)(!1);if((0,o.useEffect)(()=>{e&&!s&&(d(!0),i({element:16099,event_type:102,view_type:48,view_parameter:4110})),!e&&s&&d(!1)},[s,i,e]),!e)return null;let c=a.bt("About boards made for you", "About boards made for you", "boardHeader.automagicalBoardTag.aboutDrawer.modal.title", undefined, true),_=a.bt("Discover more of the styles you're into with boards made just for you. Check in regularly for curated fresh ideas inspired by what you already love on Pinterest.", "Discover more of the styles you're into with boards made just for you. Check in regularly for curated fresh ideas inspired by what you already love on Pinterest.", "boardHeader.automagicalBoardTag.aboutDrawer.modal.body", undefined, true),h=n?(0,u.jsxs)(r.kC,{justifyContent:"between",children:[(0,u.jsx)(r.xu,{marginTop:2,paddingX:2,children:(0,u.jsx)(r.X6,{accessibilityLevel:1,size:"600",children:c})}),(0,u.jsx)(r.hU,{accessibilityLabel:a.bt("Close", "Close", "profileHeader.aboutDrawer.closeModalButton", undefined, true),icon:"cancel",iconColor:"darkGray",onClick:()=>t(!1),size:"lg"})]}):(0,u.jsx)(r.xu,{marginTop:4,paddingX:4,children:(0,u.jsx)(r.X6,{accessibilityLevel:1,size:"400",children:c})}),g=n?null:(0,u.jsx)(r.xu,{paddingY:6,children:(0,u.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,u.jsx)(r.zx,{color:"gray",onClick:()=>t(!1),size:"lg",text:"Close"})})});return(0,u.jsx)(m.ZP,{accessibilityModalLabel:a.bt("About boards made for you", "About boards made for you", "boardHeader.automagicalBoardTag.aboutDrawer.modal", undefined, true),footer:g,heading:h,layerZIndex:new r.H3([f.Z]),onDismiss:()=>t(!1),size:"sm",children:(0,u.jsx)(r.xu,{marginBottom:8*!!n,paddingX:n?8:4,paddingY:4*!n,children:(0,u.jsx)(r.xv,{size:"300",children:_})})})}function x({size:e="200"}){let t=(0,l.ZP)(),{showAbout:a,setShowAbout:n}=(0,o.useContext)(h.Z);return(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)(r.iP,{accessibilityLabel:t.bt("Expand About boards made for you", "Expand about About boards made for you", "boardHeader.automagicalBoardTag.moreTextAccessibilityLabel", undefined, true),fullWidth:!1,onTap:()=>{n(!0)},children:(0,u.jsxs)(r.kC,{alignItems:"center",direction:"row",gap:1,children:[(0,u.jsx)(r.JO,{accessibilityLabel:t.bt("Pinterest logo", "Pinterest logo", "board.editorialBoardTag.pinterestLogo", undefined, true),color:"brandPrimary",icon:"pinterest"}),(0,u.jsx)(r.xv,{size:e,weight:"bold",children:t.bt("Made for you", "Made for you", "boardHeader.automagicalBoardTag.label", undefined, true)})]})}),(0,u.jsx)(g,{setShowAbout:n,showAbout:a})]})}function v({size:e="200"}){let t=(0,l.ZP)().bt("Featured board", "Featured board", "boardHeader.featuredBoardTag.label", undefined, true);return(0,u.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{display:"inline-flex"}},children:(0,u.jsxs)(r.kC,{alignItems:"center",gap:1,children:[(0,u.jsx)(r.JO,{accessibilityLabel:t,color:"default",icon:"tag"}),(0,u.jsx)(r.xv,{align:"center",color:"default",size:e,children:t})]})})}function y(e){let t=(0,l.ZP)(),{color:a,size:o}=e;return(0,u.jsx)(r.JO,{accessibilityLabel:t.bt("Secret Board", "secret board", "accessible label for secret board icon", undefined, true),color:a,icon:"lock",size:o})}let w=({children:e})=>{let t=e.filter(e=>!!e);return(0,u.jsx)(r.kC,{dataTestId:"board-count-info",children:t.map((e,a)=>(0,u.jsxs)(o.Fragment,{children:[e,a<t.length-1&&(0,u.jsx)(c.Z,{color:"subtle"})]},a))})},j=({size:e,children:t,dataTestId:a})=>(0,u.jsx)(r.xv,{color:"subtle",dataTestId:a,size:e,children:t});function A({fontSize:e,isArchived:t,isAutomagical:a=!1,isFeaturedBoard:o=!1,isSecret:c,lastModified:h,pinCount:p,sectionCount:m,showEditorialBoardTag:b,upcomingUpdateDateText:f}){let g=(0,l.ZP)(),A=(0,i.Z)(),{locale:P}=(0,d.B)(),C=(0,n.Z)();return(0,u.jsxs)(r.kC,{alignItems:"center",dataTestId:"board-summary-container",justifyContent:"start",children:[t&&(0,u.jsxs)(r.kC,{alignItems:"center",dataTestId:"archived-board-icon-label",gap:1,children:[(0,u.jsx)(r.JO,{accessibilityLabel:g.bt("Icon indicating a board that is archived", "Icon indicating a board that is archived", "board.Headers.BoardHeader.BoardHeaderDetails.archived", undefined, true),color:"subtle",icon:"file-box",size:16}),(0,u.jsxs)(r.xv,{color:"subtle",size:e,children:[g.bt("Archived", "Archived", "board.Headers.BoardHeader.BoardHeaderDetails.archived", undefined, true),""]})]}),c&&(0,u.jsxs)(r.kC,{alignItems:"center",dataTestId:"secret-board-icon-label",gap:1,children:[(0,u.jsx)(y,{color:"subtle",size:16}),(0,u.jsxs)(r.xv,{color:"subtle",size:e,children:[g.bt("Secret", "Secret", "board.Headers.BoardHeader.BoardHeaderDetails.secret", undefined, true),""]})]}),(0,u.jsxs)(w,{children:[o&&(0,u.jsx)(v,{}),b&&!o&&(0,u.jsx)(_,{}),a&&(0,u.jsx)(x,{}),(0,u.jsx)(j,{dataTestId:"pin-count",size:e,children:(0,s.nk)(g.nbt(["{{ count }} Pin", "{{ count }} Pins"], p, "board.Headers.BoardHeader.BoardSummary.count", true),{count:A(P,p,{})})}),m>0&&(0,u.jsx)(j,{size:e,children:m>0&&(0,s.nk)(g.nbt(["{{ sectionCount }} section", "{{ sectionCount }} sections"], m, "board.Headers.BoardHeader.BoardSummary.sectionCount", true),{sectionCount:A(P,m,{})})}),a&&f&&(0,u.jsx)(j,{dataTestId:"upcoming-update-date",size:e,children:f}),h&&(0,u.jsx)(j,{dataTestId:"last-updated-date",size:e,children:(0,s.nk)(g.bt("{{ lastModifiedDate }}", "{{ lastModifiedDate }}", "boardPage.header.attribution.lastModified", undefined, true),{lastModifiedDate:C(h,!0)})})]})]})}},441178:function(e,t,a){a.d(t,{Z:()=>l});var o=a(20256),r=a(525839),n=a(785893);function l({boardActions:e,imageUrl:t,imageWidth:a}){let l=(0,r.ZP)();return(0,n.jsx)(o.zd,{height:360,rounding:6,wash:!0,width:a||540,children:(0,n.jsx)(o.Ee,{alt:l.bt("Board header image", "Board Header Image", "save.board.headers.boardHeader.boardHeaderImage", undefined, true),fit:"cover",naturalHeight:360,naturalWidth:a||540,role:"presentation",src:t,children:(0,n.jsx)(o.kC,{justifyContent:"end",children:(0,n.jsx)(o.xu,{"data-test-id":"board-actions",paddingX:4,paddingY:4,children:e})})})})}},600693:function(e,t,a){a.d(t,{Z:()=>_});var o=a(667294),r=a(20256),n=a(980787),l=a(364843),i=a(525839),s=a(25837),d=a(277168),c=a(896273),u=a(785893);function _({board:e,onArchiveClick:t,onCreatePincode:a,onEditBoardClick:_,onEditSectionClick:h,onMergeClick:p,onShowAbout:m,onUnarchiveClick:b,showArchiveOnly:f=!1,showCreatePinCodeOption:g,surface:x,excludeShareOption:v,size:y="sm",bgColor:w="lightGray"}){let j=(0,i.ZP)(),A=(0,o.useRef)(null),{logContextEvent:P}=(0,n.u)(),[C,k]=(0,o.useState)(!1),[z,S]=(0,o.useState)("boardOptions"),I="automagical"===e.layout,B=()=>{k(!1),S("boardOptions")},T={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},Z=()=>{k(e=>!e),S("boardOptions")},E=!!e.archived_by_me_at,L=["section"===x?function({handleClose:e,onEditClick:t,setMenuType:a},o,r){return{items:[{dataTestId:"edit-section-button",text:o.bt("Edit section", "Edit Section", "BoardHeader.getSectionOptionsCategory.EditOption", undefined, true),onClick:()=>{t(),e()}},{text:o.bt("Share", "Share", "BoardHeader.getSectionOptionsCategory.ShareOption", undefined, true),onClick:()=>{(0,d.Z)(r),a("boardShare")}}],label:o.bt("Section options", "Section options", "BoardHeader.getSectionOptionsCategory.OptionsCategory", undefined, true)}}({handleClose:B,onEditClick:h,setMenuType:S},j,P):function({handleClose:e,isArchived:t,isAutomagical:a,onArchiveClick:o,onCreatePincode:r,onEditClick:n,onMergeClick:l,onShowAbout:i,onUnarchiveClick:s,setMenuType:c,showCreatePinCodeOption:u,isAdOnlyPins:_,excludeShareOption:h},p,m,b){let f=[];return a?f.push({dataTestId:"aboutRecommendationsButton",text:p.bt("About boards made for you", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true),onClick:()=>{i?.(),e()}}):(b||f.push({dataTestId:"editBoardButton",text:p.bt("Edit board", "Edit board", "BoardHeader.BoardOptionsFlyout.EditOption", undefined, true),onClick:()=>{n(),e()}}),h||f.push({dataTestId:"shareBoardButton",text:p.bt("Share", "Share", "BoardHeader.BoardOptionsFlyout.ShareOption", undefined, true),onClick:()=>{(0,d.Z)(m),c("boardShare")}}),_||t||f.push({dataTestId:"mergeBoardButton",text:p.bt("Merge", "Merge", "BoardHeader.BoardOptionsFlyout.MergeOption", undefined, true),onClick:()=>{l(),e()}}),t?f.push({dataTestId:"unarchiveBoardButton",text:p.bt("Unarchive", "Unarchive", "BoardHeader.BoardOptionsFlyout.UnarchiveOption", undefined, true),onClick:()=>{s(),e()}}):f.push({dataTestId:"archiveBoardButton",text:p.bt("Archive", "Archive", "BoardHeader.BoardOptionsFlyout.ArchiveOption", undefined, true),onClick:()=>{o(),e()}}),u&&!b&&f.push({dataTestId:"createPinCodeBoardButton",text:p.bt("Create Pincode", "Create Pincode", "BoardHeader.BoardOptionsFlyout.PincodeOption", undefined, true),onClick:()=>{r(),e()}})),{items:f,label:p.bt("Board options", "Board options", "BoardHeader.BoardOptionsFlyout.OptionsCategory", undefined, true)}}({handleClose:B,isArchived:E,isAutomagical:I,onArchiveClick:t,onCreatePincode:a,onEditClick:_,onMergeClick:p,onShowAbout:m,onUnarchiveClick:b,setMenuType:S,showCreatePinCodeOption:g,isAdOnlyPins:e.is_ads_only,excludeShareOption:v},j,P,f)];return(0,u.jsxs)(r.xu,{position:"relative",zIndex:new r.Ry(s.fe-1),children:[(0,u.jsx)(r.xu,{ref:A,"data-test-id":"more-board-options",children:(0,u.jsx)(r.hU,{accessibilityLabel:j.bt("More board options", "More Board options", "BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel", undefined, true),bgColor:w,icon:"ellipsis",iconColor:"darkGray",onClick:Z,selected:C,size:y})}),(0,u.jsx)(l.cs,{anchors:{3001:A.current},onCompleteByAnchor:{3001:Z},placementId:18}),(0,u.jsx)(l.N,{anchors:{3001:A.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),C&&("boardOptions"===z?(0,u.jsx)(r.Lt,{anchor:A.current,disableMobileUI:!0,id:"board_options",onDismiss:B,children:L.map(({items:e,label:t})=>(0,u.jsx)(r.Lt.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:a,text:o})=>(0,u.jsx)(r.Lt.Item,{dataTestId:e,onSelect:a,option:{label:o,value:o},selected:t?{label:o,value:o}:null},o))},t))}):(0,u.jsx)(r.J2,{anchor:A.current,onDismiss:B,size:"flexible",children:(0,u.jsx)(c.Z,{component:13216,onCreatePincodeClick:a,onHide:B,sendType:"board",sharedObject:T,viewType:5})}))]})}},774354:function(e,t,a){a.d(t,{Z:()=>G});var o=a(20256),r=a(476785),n=a(250787),l=a(319227),i=a(667294),s=a(628710),d=a(525839),c=a(103345),u=a(616550),_=a(980787),h=a(355940),p=a(364843),m=a(821342),b=a(821806),f=a(448505),g=a(7872),x=a(161774),v=a(785893);let y=(0,i.lazy)(()=>Promise.resolve().then(a.bind(a,535877)));function w({avatarSize:e,board:t,displayedCollaborators:a,isBoardPreviewMode:r,nonDisplayedCollaboratorCount:n,handleShowCollabAndPermissionsModal:l,showPersonAddIconForInvite:s}){let d,[c,w]=(0,i.useState)(!1),j=(0,m.Z)(),A=(0,i.useRef)(null),P=(0,i.useRef)(void 0),C=(0,u.k6)(),k=(0,f.Z)(),{logContextEvent:z}=(0,_.u)(),S=(0,g.KY)(j,t,k),I=S&&!r,B=(I||t.collaborator_invites_enabled&&t.collaborated_by_me)&&!s,T=(d=()=>C.push(a[0].href??"/"),a[0].is_ads_only_profile&&a[0].ads_only_profile_site&&(d=()=>{z({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorAvatarGroup"}}),window.open(a[0].ads_only_profile_site,"_blank")}),a.length>1&&(d=()=>w(!c)),I&&(S||t.collaborated_by_me)&&(d=l),d),Z=[501003];I&&t.is_collaborative&&Z.push(502335);let E=a.map(({name:e,src:t})=>e&&t?{name:e,src:t.endsWith("/default_75.png")?"":t}:{name:e,src:t});return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:[(0,v.jsx)(x.Z,{ref:A,addButtonRef:P,avatarSize:e,collaboratorCount:t.collaborator_count||0,displayedCollaborators:E,nonDisplayedCollaboratorCount:n,onClick:T,showAddButton:B??!1}),(0,v.jsx)(p.cs,{anchors:{3002:P.current},placementId:18,positionRelativeToAnchor:!1}),(0,v.jsx)(p.Qp,{anchor:P.current,customWrapper:({children:e})=>(0,v.jsx)(o.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:new o.Ry(2),children:e}),experienceIds:Z,idealDirection:"down",placementId:18,positionRelativeToAnchor:!1,showCaret:!0})]}),c&&(0,v.jsx)(h.Z,{name:"SafeSuspense_CollaboratorAvatarGroup_BoardCollabFlyout",children:(0,v.jsx)(b.Z,{children:(0,v.jsx)(y,{anchor:A.current,board:t,onDismiss:()=>{w(!1),A.current&&A.current.focus()}})})})]})}var j=a(558926),A=a(889168),P=a(415245),C=a(606480),k=a(302148),z=a(535877);function S({board:e,collaborators:t,overflowNumber:a}){let r=(0,d.ZP)(),n=(0,i.useRef)(null),{logContextEvent:l}=(0,_.u)(),[s,c]=(0,i.useState)(!1),u=t.map((e,t)=>{if(e.isDim)return null;let a=e.is_ads_only_profile&&e.ads_only_profile_site,r=(a?e.ads_only_profile_site:e.href)||"",n=e.href?e.href:e.name+t;return(0,v.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,v.jsx)(o.rU,{display:"inlineBlock",href:r,onClick:()=>{a&&l({event_type:9371,element:13382,aux_data:{aop_origin:"CollaboratorNames"}})},rel:a?"nofollow":"none",target:a?"blank":null,underline:"none",children:e.name})},n)}).filter(Boolean);return a&&u.push((0,v.jsx)(o.xu,{ref:n,display:"inlineBlock",children:(0,v.jsx)(o.iP,{onTap:()=>c(!0),children:(0,v.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,k.nk)(r.nbt(["{{ overflowNumber }} other", "{{ overflowNumber }} others"], a, "legoBoardPageHeader.collaboratorNames.others", true),{overflowNumber:a})})})},"overflowText")),(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(o.xv,{inline:!0,children:(0,C.F)(u,r)}),s&&(0,v.jsx)(z.default,{anchor:n.current,board:e,onDismiss:()=>c(!1)})]})}var I=a(581722),B=a(679422),T=a(87853),Z=a(415602);function E(e){let t=(0,d.ZP)(),{onClick:a,requested:r,size:n,useAlternateText:l}=e;return(0,v.jsx)(o.zx,{fullWidth:!0,onClick:a,size:n||"md",text:(r?function(e,t){return t?e.bt("Cancel", "Cancel", "BoardPage.BoardJoinButton.cancel", undefined, true):e.bt("Cancel request", "Cancel request", "[Button] Cancel request to join a group board as a collaborator", undefined, true)}:function(e,t){return t?e.bt("Join", "Join", "BoardPage.BoardJoinButton.join", undefined, true):e.bt("Request to join", "Request to join", "[Button] Request to join a group board as a collaborator", undefined, true)})(t,l)})}var L=a(475498);function R(e){let t=(0,d.ZP)(),{boardImage:a,boardName:r,boardUrl:n,onHide:l}=e,i=(0,v.jsx)(o.xv,{children:(0,k.nk)(t.bt("You've cancelled the request to collaborate on {{ boardName }}", "You've cancelled the request to collaborate on {{ boardName }}", "Board.JoinButton.CancelToast", undefined, true),{boardName:(0,v.jsx)(o.xv,{inline:!0,weight:"bold",children:r})})});return(0,v.jsx)(L.Z,{duration:3e3,href:n,imageUrl:a,onHide:l,text:i})}function M(e){let t=(0,d.ZP)(),{boardImage:a,boardName:r,boardUrl:n,onHide:l}=e,i=(0,v.jsx)(o.xv,{children:(0,k.nk)(t.bt("You've requested to join {{ boardName }}", "You've requested to join {{ boardName }}", "Board.JoinButton.RequestToast", undefined, true),{boardName:(0,v.jsx)(o.xv,{inline:!0,weight:"bold",children:r})})});return(0,v.jsx)(L.Z,{href:n,imageUrl:a,onHide:l,text:i})}function O(e){let{boardId:t,boardImage:a,boardName:r,boardUrl:n,isRequestedByMe:l,showPulsar:i,size:s,variant:d}=e,{logContextEvent:c}=(0,_.u)(),u=(0,I.I0)(),h=(0,m.Z)(),p=(0,T.dI)(),b=h.isAuth&&h.id||"",f=(0,B.Z)(),g=(0,Z.tV)(),x=({event:e})=>{e.preventDefault(),e.stopPropagation(),f?f():l?(u((0,Z.GJ)(t,b)),p.showOneToast(({hideToast:e})=>(0,v.jsx)(R,{boardImage:a,boardName:r,boardUrl:n,onHide:e}))):(u(g(t)),p.showOneToast(({hideToast:e})=>(0,v.jsx)(M,{boardImage:a,boardName:r,boardUrl:n,onHide:e})));let{action:o,id:i,logContextEvent:s,url:d}={action:l?"request":"cancel",id:t,logContextEvent:c,url:n};s({event_type:101,component:1,element:"request"===o?7499:7547,object_id_str:i,view_type:4,aux_data:{current_page_url:d}})};return b?(0,v.jsxs)(o.xu,{display:"flex",position:"relative",children:[(0,v.jsx)(E,{onClick:x,requested:l,size:s,useAlternateText:"lego"===d}),i&&(0,v.jsx)(o.iP,{onTap:e=>{x(e)},children:(0,v.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,v.jsx)(o.o3,{paused:l})})})]}):null}function F({board:e,boardName:t,collaborators:a,isArchived:r,isBoardPreviewMode:n,isSecret:l,nonDisplayedCollaboratorCount:u,pinCount:_,sectionCount:h,description:p,showPulsar:m,showJoinButton:b,isOwnerOrCollaborator:f,handleShowCollabAndPermissionsModal:g}){let x=(0,d.ZP)(),{automagical_board_metadata:y,featured_board_metadata:C,featured_in:k,id:z,image_cover_url:I,layout:B,owner:T={},should_show_board_collaborators:Z,url:E,viewer_collaborator_join_requested:L}=e,{curator:R,is_sponsored_content:M}=C||{},{upcoming_update_date_text:F}=y||{},U=M?R:null,D=f&&!n,N="automagical"===B,H=[];R&&!D?H.push((0,s.Z)(R)):Z&&a.length?H.push(...a):T&&H.push((0,s.Z)(T));let K=C?.board_tag;return(0,v.jsxs)(o.kC,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,v.jsxs)(o.kC,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(()=>{let{board_subtitle:e}=C||{};return e?(0,v.jsx)(o.xu,{marginBottom:-1,children:(0,v.jsx)(o.xv,{weight:"bold",children:e})}):null})(),(0,v.jsx)(o.X6,{id:"board-name",size:"700",children:t}),(0,v.jsx)(P.Z,{fontSize:"200",isArchived:r,isAutomagical:N,isFeaturedBoard:"featured_board"===B&&!!k?.includes("FEATURED_BOARDS"),isSecret:l,pinCount:_,sectionCount:h,showEditorialBoardTag:"number"==typeof K&&K>=0,upcomingUpdateDateText:F??""}),!!p&&(0,v.jsx)(c.Z,{description:p})]}),!N&&(0,v.jsxs)(i.Fragment,{children:[D&&(0,v.jsx)(o.xu,{marginBottom:2,children:(0,v.jsx)(o.HE,{accessibilityLabel:H.length>1?x.bt("Board with collaborators. Keep inviting collaborators. Opens a modal.", "Board with collaborators. Keep inviting collaborators. Opens a modal.", "BoardHeaderDetails.AvatarGroup.InviteMoreCollaborators.accessibilityLabel", undefined, true):x.bt("Invite collaborators. Opens a modal.", "Invite collaborators. Opens a modal.", "BoardHeaderDetails.AvatarGroup.InviteCollaborators.accessibilityLabel", undefined, true),addCollaborators:!0,collaborators:H,onClick:g,role:"button",size:"sm"})}),D&&(0,v.jsx)(j.Z,{boardId:z,iconSize:24,isBoardEmpty:!_,toolSize:72}),!D&&U&&(0,v.jsx)(A.Z,{user:U}),!D&&!U&&(0,v.jsxs)(o.kC,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,v.jsx)(w,{avatarSize:"sm",board:e,displayedCollaborators:H,handleShowCollabAndPermissionsModal:()=>{},isBoardPreviewMode:n,nonDisplayedCollaboratorCount:u}),(0,v.jsxs)(o.xv,{children:[x.bt("by ", "by ", "board.Headers.BoardHeader.BoardHeaderDetails.by", undefined, true),(0,v.jsx)(S,{board:e,collaborators:H,overflowNumber:u})]})]})]}),b&&(0,v.jsx)(O,{boardId:z,boardImage:I??"",boardName:t,boardUrl:E,isRequestedByMe:!!L,showPulsar:m,size:"lg",variant:"lego"})]})}var U=a(441178),D=a(932849),N=a(854167),H=a(277168);function K({board:e,handleCreatePincode:t,iconColor:a,isShowShareIcon:r}){let{logContextEvent:n}=(0,_.u)(),l=(0,d.ZP)(),s=(0,B.Z)(),c=(0,i.useRef)(null);return(0,v.jsxs)(i.Fragment,{children:[(0,v.jsx)(N.Z,{ref:c,board:e,iconColor:a,onCreatePincode:t,onOpen:()=>{if(s)return void s();(0,H.Z)(n)},children:r?void 0:({onClick:e})=>(0,v.jsx)(o.xu,{"data-test-id":"board-share-button-auth",children:(0,v.jsx)(o.zx,{ref:c,color:"gray",fullWidth:!0,onClick:e,size:"lg",text:l.bt("Share", "Share", "BoardHeader.SendBoardButton", undefined, true)})})}),(0,v.jsx)(p.N,{anchors:{3018:c.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}var q=a(679269);function G({board:e,boardName:t,collaborators:a,isArchived:i,isBoardPreviewMode:s,isSecret:d,nonDisplayedCollaboratorCount:c,overFlowActionsButton:u,pinCount:_,sectionCount:h,description:p,isOwnerOrCollaborator:m,handleShowCollabAndPermissionsModal:b,onCreatePincode:f,setBoardPreviewMode:g,showPulsar:x,showJoinButton:y}){let{featured_board_metadata:w,layout:j,header:A,owner:P}=e,{isSmallerImage:C,isSmallScreen:k}=(0,q.Z)(),z=(0,l.Z)(P?.id),S="automagical"===j,I=A?.large_image_url||null,B=w?.has_expanded_sections&&z&&g,T=()=>(0,v.jsxs)(o.kC,{dataTestId:"board-actions-container",gap:2,children:[B&&!S&&(0,v.jsx)(D.Z,{isBoardPreviewMode:s,setBoardPreviewMode:g}),!d&&!S&&(0,v.jsx)(K,{board:e,handleCreatePincode:f,iconColor:"darkGray",isShowShareIcon:!0}),u]}),Z=()=>(0,v.jsx)(F,{board:e,boardName:t,collaborators:a,description:p,handleShowCollabAndPermissionsModal:b,isArchived:i,isBoardPreviewMode:s,isOwnerOrCollaborator:m,isSecret:d,nonDisplayedCollaboratorCount:c,pinCount:_,sectionCount:h,showJoinButton:y,showPulsar:x}),E=()=>I?(0,v.jsx)(U.Z,{boardActions:T(),imageUrl:I,imageWidth:C?q.w:void 0}):T();return(0,v.jsx)(r.Z,{isGetServerRenderGridHeaderStyles:!0,maxColumns:n.Sk,children:(0,v.jsxs)(o.kC,{alignItems:k||!I||m&&!s?"start":"center",dataTestId:"board-header-with-image",direction:k&&I?"column":"row",gap:8*!!I,justifyContent:"between",children:[(0,v.jsx)(o.xu,{children:k&&I?E():Z()}),(0,v.jsx)(o.xu,{maxWidth:k?550:void 0,children:k&&I?Z():E()})]})})}},932849:function(e,t,a){a.d(t,{Z:()=>l});var o=a(20256),r=a(525839),n=a(785893);function l({isBoardPreviewMode:e,setBoardPreviewMode:t}){let a=(0,r.ZP)();return(0,n.jsx)(o.hU,{accessibilityLabel:a.bt("Board preview", "Board preview", "boardPreview.iconButton.accessibilityLabel", undefined, true),bgColor:"white",icon:e?"eye-hide":"eye",iconColor:"darkGray",onClick:()=>t(!e),size:"lg"})}},840321:function(e,t,a){a.d(t,{Z:()=>o});let o=({boardCollaboratorCount:e,collaborators:t,showOnlyOwner:a=!1,ownerName:o=""})=>{let r=e?e+1:t.length,n=r>3,l=t.find(e=>e.name===o);!l&&t.length>0&&(l=t[0]);let i=a?[l]:t.slice(0,n?2:3),s=n?r-i.length:0;return{displayedCollaborators:i,nonDisplayedCollaboratorCount:s}}},679269:function(e,t,a){a.d(t,{Z:()=>n,w:()=>r});var o=a(667294);let r=484;function n(){let[e,t]=(0,o.useState)(!1),[a,r]=(0,o.useState)(!1);return(0,o.useEffect)(()=>{let e=()=>{let{innerWidth:e}=window;t(e<780),r(e<1024)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),{isSmallerImage:e,isSmallScreen:a}}},277168:function(e,t,a){a.d(t,{Z:()=>o});function o(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}},522169:function(e,t,a){a.d(t,{D3:()=>p,Iz:()=>m,Rh:()=>u,pW:()=>d,sF:()=>_,tA:()=>c});var o,r=a(167912),n=a(575108),l=a(467221),i=a(721534);let s={FBMessenger:6,WhatsApp:10,Facebook:5,Twitter:9,Email:3,Line:8,Telegram:20,Viber:22,Sms:4,CopyLink:12,ShareVia:11};function d({country:e,isDesktop:t,shouldShowNativeShare:a}){let{FBMessenger:o,WhatsApp:r,Facebook:n,Twitter:l,Email:i,Line:d,Telegram:c,Viber:u,Sms:_,CopyLink:h,ShareVia:p}=s;function m(){switch(e){case"US":return t?[r,n,l,i]:[_,o,r,n,l];case"ID":return t?[r,d,i,n]:[r,c,_,d,i,n];case"JP":case"TH":case"TW":return t?[d,l,i,n]:[d,i,_,l,n];case"GR":return t?[r,n,l,i]:[u,o,r,_,n,l];case"IR":case"IQ":return t?[r,n,l,i]:[r,c,_,o,l];case"UA":case"RU":return t?[r,n,l,i]:[r,u,c,n,o,_,l];default:return t?[r,n,l,i]:[r,o,_,n,l]}}return t?[h,...m()]:[...m(),h,...a?[p]:[]]}function c({invitePath:e,inviteTitle:t,objectType:a,i18n:o,isDesktop:r}){let n=o.bt("A Pin for you", "A Pin for you", "shareMenu.message.title", undefined, true);8===a&&(n=o.bt("Check out this article on Pinterest!", "Check out this article on Pinterest!", "shareMenu.message.title", undefined, true));let i=`mailto:?subject=${encodeURIComponent(n)}&body=${encodeURIComponent(e)}`,s=`fb-messenger://share/?link=${encodeURIComponent(e)}&app_id=${l.GH}`,d=`${t}
${e}`,c=r?`https://twitter.com/intent/tweet?via=pinterest&url=${encodeURIComponent(d)}`:`twitter://post?message=${encodeURIComponent(d)}`,u=r?`https://web.whatsapp.com/send?text=${encodeURIComponent(d)}`:`whatsapp://send?text=${encodeURIComponent(d)}`,_=r?`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(e)}&text=${encodeURIComponent(t)}`:`https://line.me/R/msg/text/?${encodeURIComponent(d)}`,h=`viber://forward?text=${encodeURIComponent(d)}`;return{emailShareLink:i,messengerShareLink:s,twitterShareLink:c,whatsappShareLink:u,lineShareLink:_,telegramShareLink:`tg://msg?text=${encodeURIComponent(d)}`,viberShareLink:h,smsShareLink:`sms:?&body=${encodeURIComponent(d)}`}}function u(e,t,a,o){e&&window.FB&&window.FB.ui&&window.FB.ui({method:"share",mobile_iframe:!0,href:t},e=>{e&&!e.error_message&&o&&o()})}function _(e,t,a,o){if(!a||!t)return;let r=new t(a,{container:a.parentElement,text:()=>e});r.on("success",e=>{o&&o(e)}),r.on("error",()=>{throw Error("<ShareMenu /> error: copy command failed")})}let h=(void 0!==o||(o=a(167666)).hash&&"08ff9e5b3aeff18d0d8d4d9f872bd8ba"!==o.hash&&console.error("The definition of 'AllShareOptionsUtility_CreateExternalInviteGraphQLQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function p(){let e=(()=>{let e=(0,r.useRelayEnvironment)();return async(t,a,o,n)=>{let l={invite_category:t,invite_object:a,invite_channel:o};return await new Promise((t,a)=>(0,r.fetchQuery)(e,h,{inviteType:JSON.stringify(l),objectId:n}).subscribe({next:e=>{e.v3InviteUserExternalQuery&&"data"in e.v3InviteUserExternalQuery&&e.v3InviteUserExternalQuery?.data&&t({inviteCode:e.v3InviteUserExternalQuery?.data?.inviteCode??"",invitePath:e.v3InviteUserExternalQuery?.data?.inviteUrl??"",title:e.v3InviteUserExternalQuery?.data?.title??"",message:e.v3InviteUserExternalQuery?.data?.message??""})},error:e=>a(e)}))}})();return async(t,a,o)=>await e(3,o,t,a)}async function m({inviteChannel:e,inviteCode:t,objectId:a,objectType:o,component:r,clientTrackingParams:l,logContextEvent:s,view_parameter:d,view_type:c,socialShareComponent:u}){let _;s({aux_data:{invite_object:o},object_id_str:a,component:r,clientTrackingParams:l,element:i.cc[e],event_type:102,view_type:c,view_parameter:d}),_=2===o?i.LO:3===o?i.Pu:i.dB,s({event_type:10399,component:14122===r?14312:14123===r?14310:u||r,object_id_str:a,clientTrackingParams:l,view_type:c,view_parameter:d,aux_data:{invite_object:o},element:_[e]}),n.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:3,invite_object:o,invite_channel:e},invite_code:t,object_id:a,client_tracking_params:l}).callCreate()}},671347:function(e,t,a){a.d(t,{Z:()=>i});var o=a(667294),r=a(20256),n=a(785893);function l(e,t,a){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var o=a.call(e,t||"default");if("object"!=typeof o)return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?o:o+"")in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class i extends o.Component{constructor(...e){super(...e),l(this,"setSearchRef",e=>{e&&(this.searchRef=e)}),l(this,"searchRef",null)}componentDidMount(){this.props.autoFocus&&this.searchRef?.focus()}render(){let{accessibilityLabel:e,id:t,onBlur:a,onChange:o,onFocus:l,placeholder:i,value:s}=this.props;return(0,n.jsx)(r.Um,{ref:this.setSearchRef,accessibilityLabel:e,id:t,onBlur:a,onChange:o,onFocus:l,placeholder:i,size:"lg",value:s})}}},872353:function(e,t,a){a.d(t,{j:()=>r});let o=RegExp("^[^A-Za-z--A-Za-z----]*[---]");function r(e){return o.test(e||"")?"rtl":"ltr"}},291948:function(e,t,a){a.d(t,{Z:()=>o});let o=a(435561).$A},434671:function(e,t,a){a.d(t,{Z:()=>d});var o=a(667294),r=a(825332),n=a(506662),l=a(579275),i=a(886981),s=a(936371);let d=e=>{let t=(0,s.uH)(),a=(0,r.TH)(),[d]=(0,o.useState)(a),c=a.pathname===d.pathname&&a.search===d.search&&((0,n.ey)(a)&&((0,n.fY)(a)&&"pin"||(0,n.am)(a)&&"board"||(0,l.Z)(a)&&"profile")||null)||null,[u,_]=(0,o.useState)(null),{isLoaded:h,data:p}=(0,i.Z)(!e&&t&&c?{name:"InviteCodeMetadataResource",options:{invite_code:t}}:null);return(0,o.useEffect)(()=>{h&&p&&_(p??null)},[h,p]),t&&c?{invite:u,pageType:c}:null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/40231.en_IN-5e3439a225117055.mjs.map