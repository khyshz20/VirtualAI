(self.modernJsonp=self.modernJsonp||[]).push([["80976"],{667835:function(e,t,i){i.d(t,{F6:()=>f,Hs:()=>v,N$:()=>h,OW:()=>u,Ov:()=>p,Yc:()=>g,k7:()=>d,t4:()=>m,vs:()=>b});var n=i(667294),s=i(111330),r=i(15667),o=i(753143),a=i(941404),c=i(647709);let l="dark",d="rgba(17, 17, 17, 1)",u="rgba(17, 17, 17, 0)",h="rgb(43, 43, 43)",p="#767676",m="rgba(0,0,0, 0.8)",g=()=>(0,o.M0)().getItem(s.wg)===l;function b(){let e=(0,c.ml)(),{theme:t,isAuthenticated:i,referrerFromCookie:s}=(0,r.B)(),o=e&&t===l,[a,d]=(0,n.useState)(o);return(0,n.useEffect)(()=>{let e=o||i&&g();e&&(document.body.style.backgroundColor="#111111"),d(e)},[d,e,o,i,s]),a}let v=()=>{(0,o.M0)().setItem(s.wg,l),(0,a.My)("mweb.dark_mode.enable"),window.location.reload()},f=()=>{(0,o.M0)().removeItem(s.wg),(0,a.My)("mweb.dark_mode.disable"),window.location.reload()}},211079:function(e,t,i){i.d(t,{U:()=>a,Z:()=>c});var n=i(97776),s=i(531014);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let o={start:["active","paused","end"],active:["active","end","paused"],paused:["resumed","paused","end"],resumed:["active","end","paused"],end:[],unknown:["start"]},a=(e,t)=>`${e}->${t}`;class c{constructor(e,t,i,o,c,l=null,d=[],u=null){r(this,"inView",!1),r(this,"state","unknown"),r(this,"lastInitiator",null),r(this,"endReason",null),r(this,"intersectionTrigger",([e])=>{let t=this.inView;(0,n.q4)(()=>{e?.isIntersecting?this.inView=!0:this.inView=!1,this.addTimeStamp("IntersectionObserver",this.inView,0===this.timeline.length?"start":"active"),s.ck.log(`[Experience Sessions] - ${this.inView?"👁️ In View":"❌ Out of View"}`)},"IntersectionObserver",void 0,this.id,()=>{this.inView=t})()}),r(this,"handleTransitionEdgeCases",(e,t,i,n)=>{let r=a(e,t);return"paused->active"===r&&"IntersectionObserver"===i&&(this.addTimeStamp("IntersectionObserver",n,"paused",0),s.ck.warn(`[Experience Sessions] - ⚠️ ${r} transition detected with initiator ${i}. Switching to 'paused' state instead.`),!0)}),this.id=e,this.experienceId=t,this.placementId=i,this.location=o,this.endOnSurfaceChange=c,this.observer=l,this.timeline=d,this.elementNode=u,u&&this.initiateObserver(u)}restart(){(0,n.q4)(()=>{this.timeline=[],s.ck.log("[Experience Sessions] - Restarting timeline for experience ",this.id)},"restart",void 0,this.id)}disconnect(){(0,n.q4)(()=>{if(!this.observer)throw new n.ar({placedExperienceId:this.id,customMessage:"disconnect() - Attempted to disconnect observer, but it has not been initiated yet."});this.observer.disconnect(),this.observer=null},"ExperienceInSession.disconnect",void 0,this.id)()}initiateObserver(e){if(e&&!this.observer)this.observer=new IntersectionObserver(this.intersectionTrigger,{root:null,rootMargin:"0px",threshold:.1}),this.elementNode=e,this.observer.observe(e);else{if(e?.isEqualNode(this.elementNode)){this.observer?.observe(e),this.elementNode=e,s.ck.log(`[Experience Sessions] - Resuming experience ${this.id}.`,e);return}s.ck.warn("[Experience Sessions] - Attempted to initiate observer with a null node or an existing observer. Node:",e)}}hasInitiated(){return null!==this.observer&&null!==this.elementNode}addTimeStamp(e,t,i="unknown",r){if(!this.hasInitiated())throw new n.EO({placedExperienceId:this.id});let a=this.getLastTimeStamp()?.state||"unknown";if(!o[a].includes(i)){if(this.handleTransitionEdgeCases(a,i,e,t))return!0;throw new n.iL({placedExperienceId:this.id,currentState:a,newState:i})}return this.timeline.push({time:r||(0,s.dg)(),initiator:e,inView:t,state:i}),this.state=i,this.inView=t,this.lastInitiator=e,"end"===i&&"blur"!==e&&"focus"!==e&&"IntersectionObserver"!==e&&"restart"!==e&&(this.endReason=e),!0}setEndReason(e){this.endReason=e}isInView(){return this.inView}getSessionState(){return this.timeline?.[this.timeline.length-1]?.state??"unknown"}getLastTimeStamp(){return this.timeline.length>0?this.timeline[this.timeline.length-1]:void 0}getTimeStampBeforePause(){let e=this.timeline[0];for(let t=1;t<this.timeline.length;t+=1){let i=this.timeline[t];if(i?.state==="paused")return e;e=i}}getStateToResumeTo(){let e=[...this.timeline].reverse().find(e=>"paused"===e.state&&"IntersectionObserver"===e.initiator);return e?e.inView:this.getTimeStampBeforePause()?.inView??!1}getState(){return{inView:this.inView,state:this.state,lastInitiator:this.lastInitiator,endReason:this.endReason}}getTimelineDeepCopy(){return this.timeline.map(e=>({...e}))}getId(){return this.id}getExperienceId(){return this.experienceId}getPlacementId(){return this.placementId}getLocation(){return this.location}getEndOnSurfaceChange(){return this.endOnSurfaceChange}getElementNode(){return this.elementNode}getObserver(){return this.observer}getTimeline(){return this.timeline}getLength(){return this.timeline.length}}},108572:function(e,t,i){i.d(t,{$I:()=>r,K2:()=>s,eF:()=>n});let n=[{placementId:12,endOnSurfaceChange:!0},{placementId:11,endOnSurfaceChange:!1},{placementId:1000088,endOnSurfaceChange:!0},{placementId:1000468,endOnSurfaceChange:!0},{placementId:1000168,endOnSurfaceChange:!0},{placementId:1000264,endOnSurfaceChange:!0}],s=[{placementId:11,endOnSurfaceChange:!1},{placementId:40001,endOnSurfaceChange:!0},{placementId:29,endOnSurfaceChange:!1}],r=[506124,506436,504943,505226,505111,505801,507575,502535,500331,506046,506879,507502,505933,506791,502669,506234,505047,505471,505420,506234,505974,505201,502407,505541,506473,506921,502157,502004,506469,506930]},97776:function(e,t,i){i.d(t,{AS:()=>p,D6:()=>h,EO:()=>d,Gw:()=>b,PI:()=>v,VV:()=>f,ar:()=>l,iL:()=>u,jQ:()=>g,q4:()=>E,z0:()=>m,zD:()=>w});var n=i(533363),s=i(211079),r=i(531014),o=i(603316);class a{constructor({name:e,placedExperienceId:t,message:i}){this.name=e,this.placedExperienceId=t,this.message=i}log(){r.ck.warn(`[ExperienceSessions] - Warning: ${this.name} for experience ${this.placedExperienceId} - ${this.message}`,{placedExperienceId:this.placedExperienceId})}}class c extends Error{constructor({name:e,placedExperienceId:t,customMessage:i}){super(i),this.name=e,this.placedExperienceId=t,Object.setPrototypeOf(this,c.prototype)}}class l extends c{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Error occurred while creating an IntersectionObserver for experience with id ${e}.`,name:"IntersectionObserver",placedExperienceId:e})}}class d extends c{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to create a timestamp without an observer for experience with id ${e}.`,name:"TimeStampNoObserver",placedExperienceId:e})}}class u extends c{constructor({placedExperienceId:e,customMessage:t,currentState:i,newState:n}){super({customMessage:t??`Invalid time stamp state transition: ${(0,s.U)(i,n)}.
Dropping time stamp.`,name:"InvalidStateTransition",placedExperienceId:e}),(0,o.nP)("experience_sessions_invalid_state_transition",{sampleRate:1,tags:{placedExperienceId:e,transition:(0,s.U)(i,n)}})}}class h extends c{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to remove an experience with id ${e} from an empty session map.`,name:"RemoveOnEmptySessionMap",placedExperienceId:e})}}class p extends c{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Attempted to remove a non-existent experience with id ${e}.`,name:"RemoveOnMissingExperience",placedExperienceId:e})}}class m extends c{constructor(e,t,i,n){let s=[{value:e,name:"Placed Experience ID"},{value:t,name:"Experience ID"},{value:i,name:"Placement ID"}].filter(e=>!e.value).map(e=>e.name);super({customMessage:s.length>0?`${s.join(" and ")} ${s.length>1?"are":"is"} required for this operation.`:n??"",name:"InvalidIdError",placedExperienceId:e||""})}}class g extends c{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`No start state found in the timeline for experience with id ${e}.`,name:"NoStart",placedExperienceId:e})}}class b extends c{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Total duration calculated is negative for experience with id ${e}.`,name:"NegativeTotal",placedExperienceId:e})}}class v extends c{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Timeline ended without an end state for experience with id ${e}.`,name:"NoEnd",placedExperienceId:e})}}class f extends c{constructor({placedExperienceId:e,customMessage:t}){super({customMessage:t??`Total duration calculated is not a valid number for experience with id ${e}.`,name:"InvalidTotal",placedExperienceId:e})}}class w extends a{constructor({placedExperienceId:e,customMessage:t}){super({message:t??`Attempted to resume without a pause timestamp for experience with id ${e}. Was the session started before app focus?`,name:"TimeStampNoPause",placedExperienceId:e})}}let x=[h,p,m,g,b,v,f];function E(e,t,i,s,o){return(...a)=>{try{return e(...a)}catch(e){if(e instanceof Error){let i=(x.some(t=>e instanceof t)?e.placedExperienceId:s)||"0:unknown";r.ck.error(`[Experience Session] - ${t} - ${e.name}:${e.message}`),(0,n.sW)(t,e.name,i,Number(i.split(":")[0]))}else{let i=String(e);r.ck.error(`[Experience Session] - ${t} - Error: ${i}`),(0,n.AC)(e,t)}return o&&o(),i}}}},564325:function(e,t,i){i.d(t,{Z:()=>r,r:()=>n});let{Provider:n,get:s}=(0,i(729434).Z)("ExperienceSessionContext"),r=s},873651:function(e,t,i){i.d(t,{Z:()=>r});var n=i(108572),s=i(274320);function r(e,t={}){let{rollout_experiment:i}=t,{checkExperiment:o}=(0,s.r)(),a=!1,c=!1;if(i){if(1===i){let t=n.eF.find(t=>t.placementId===e);a=o("web_experience_framework_sessions_rollout_1").anyEnabled&&!!t,c=t?.endOnSurfaceChange??!1}return{enableExperienceSession:a,endOnSurfaceChange:c}}let l=o("web_experience_framework_view_duration_trial_run").anyEnabled,d=n.K2.find(t=>t.placementId===e);return{enableExperienceSession:a=l&&!!d,endOnSurfaceChange:c=d?.endOnSurfaceChange??!1}}},894199:function(e,t,i){i.d(t,{GF:()=>p,jQ:()=>v.Z,vG:()=>f,KF:()=>b,NQ:()=>g.Z});var n=i(667294),s=i(825332),r=i(877956),o=i(97776);let{Provider:a,get:c,useMaybeHook:l}=(0,i(729434).Z)("ExperienceSessionManagerContext");var d=i(531014),u=i(341742),h=i(785893);function p({children:e}){let t=(0,n.useRef)({}),i=(0,s.TH)(),c=()=>0===Object.values(t.current).length||0===Object.keys(t.current).length,l=e=>{if(e)return t.current[e]},p=(0,n.useCallback)(e=>{let i=e.getId();return t.current[i]=e,d.ck.log(`[Experience Sessions] - Added experience with id ${i} to experiences in session map.
View ExperienceInSession object added: `,t.current[i]),t.current[i]},[]),m=(0,n.useCallback)((e,i="unknown")=>{(0,o.q4)(()=>{if(0===Object.values(t.current).length)throw new o.D6({placedExperienceId:e});if(!t.current[e])throw new o.AS({placedExperienceId:e});t.current[e].addTimeStamp(i,!1,"end"),t.current[e].disconnect(),d.ck.log(`[Experience Session] - Ended experience with id ${e} to experiences in session map with reason '${i}'.
View time stamps for experience: `,t.current[e].getTimeline(),`
Full experience in session object: `,t.current[e]),(0,r.Th)({placedExperienceId:e,experienceId:t.current[e].getExperienceId(),placementId:t.current[e].getPlacementId(),timeline:t.current[e].getTimelineDeepCopy(),endReason:i}),delete t.current[e]},"removeExperience",void 0,e)()},[]),g=e=>{c()||Object.values(t.current).forEach(e=>{(0,o.q4)(()=>{m(e.id,"page-unload")},"endOnPageLeave",void 0,e.id)()})},b=(0,n.useCallback)(()=>{c()||Object.values(t.current).forEach(e=>{(0,o.q4)(()=>{e.getLocation()!==i.pathname&&e.getEndOnSurfaceChange()&&m(e.getId(),"surface-exit")},"endOnSurfaceChange",void 0,e.getId())()})},[i,m]),v=()=>{!c()&&(document.activeElement&&"IFRAME"===document.activeElement.tagName&&(d.ck.warn("[Experience Session] - Ignoring pauseOnPageBlur event in iframe"),1)||Object.values(t.current).forEach(e=>{(0,o.q4)(()=>{e.addTimeStamp("blur",!1,"paused"),d.ck.log(`[Experience Session] - Pausing experience ${e.getId()} session.`)},"pauseOnPageBlur",void 0,e.getId())()}))},f=()=>{c()||Object.values(t.current).forEach(e=>{(0,o.q4)(()=>{if(e.getTimeline().length<2)new o.zD({placedExperienceId:e.id}).log(),e.restart();else{let t=e.getStateToResumeTo();e.addTimeStamp("focus",t,"resumed"),d.ck.log(`[Experience Session] - Resuming experience ${e.getId()} session from paused state with inView status: ${t}.`)}},"resumeOnPageFocus",void 0,e.getId())()})};(0,n.useEffect)(()=>{b()},[i,b]),(0,u.Z)(()=>(d.ck.log("[Experience Sessions] - ✨ Debug enabled!"),window.addEventListener("beforeunload",g),window.addEventListener("blur",v),window.addEventListener("focus",f),()=>{window.removeEventListener("beforeunload",g),window.removeEventListener("blur",v),window.removeEventListener("focus",f)}));let w=(0,n.useMemo)(()=>({experiencesInSession:t.current,getExperience:l,addExperience:p,removeExperience:m}),[t,p,m]);return(0,h.jsx)(a,{value:w,children:e})}var m=i(211079),g=i(564325);function b({children:e,id:t,experienceId:i,placementId:r,enable:a=!0,endOnSurfaceChange:c=!0}){let d=l(),u=!a||!d,{getExperience:p,addExperience:b,removeExperience:v}=d||{getExperience:()=>void 0,addExperience:()=>void 0,removeExperience:()=>void 0},f=(0,n.useRef)(p(t)??null),w=(0,n.useRef)(null),x=(0,s.TH)(),E=(0,n.useCallback)(()=>{(0,o.q4)(()=>{if(!u){if(!t||!i||!r)throw new o.z0(t,i,r);f.current||(f.current=new m.Z(t,i,r,x.pathname,c,null,void 0,w.current),b(f.current))}},"startSession",void 0,t)()},[t,i,r,f,b,u,x,c]),I=(0,n.useCallback)(e=>{(0,o.q4)(()=>{if(!u){if(!t||!i||!r)throw new o.z0(t,i,r);f.current?.hasInitiated()&&v(t,e)}},"endView",void 0,t)()},[t,i,r,f,v,u]),O=(0,n.useCallback)(e=>{(0,o.q4)(()=>{u||(f.current?f.current.initiateObserver(e):w.current=e)},"setObserverRef",void 0,t)()},[f,u,t]),y=(0,n.useMemo)(()=>({startSession:E,endSession:I,experienceInView:f.current,setObserverRef:O}),[E,I,f,O]);return(0,h.jsx)(g.r,{value:y,children:e})}var v=i(873651);function f(e,t){let i,n=t.findIndex(e=>"start"===e.state);if(-1===n)throw new o.jQ({placedExperienceId:e});let s=e=>{if(void 0===i)return i=e.inView,!1;let t=i===e.inView;return i=e.inView,t},r=!0,a=0;for(let e of t.slice(n)){let t=e.inView?-e.time:e.time;if("end"===e.state){s(e)||(a+=t),r=!1;break}"resumed"===e.state&&(r=!0),r&&(s(e)||(a+=t),"paused"===e.state&&(r=!1))}if(r)throw new o.PI({placedExperienceId:e});if(a<0)throw new o.Gw({placedExperienceId:e});if("number"!=typeof a||Number.isNaN(a))throw new o.VV({placedExperienceId:e});return a}},533363:function(e,t,i){let n;i.d(t,{AC:()=>k,Af:()=>p,Al:()=>v,Am:()=>I,Ig:()=>x,N:()=>_,NW:()=>b,Sd:()=>O,Th:()=>R,YX:()=>S,be:()=>E,fO:()=>g,kd:()=>y,pz:()=>f,sW:()=>C,x4:()=>m});var s=i(667294),r=i(575108),o=i(521009),a=i(894199),c=i(97776),l=i(9139),d=i(531014),u=i(686319),h=i(603316);let p=e=>{n=e},m=(e,t)=>r.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet(),g=(e,t)=>i=>r.Z.create("UserExperiencePlatformResource",t?{extra_context:e,targeting:t}:{extra_context:e}).callGet().then(e=>e.resource_response?i((0,l.OD)(e.resource_response.data)):void 0),b=e=>t=>r.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t((0,l.xF)(e.resource_response.data)):void 0),v=(e,t,i,s)=>t?Promise.resolve():(s&&(n=s),r.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:s}).callGet()),f=(e,t,i,s)=>(o,a)=>{if(t)return Promise.resolve();if(s&&(n=s),1===e.length){let t=e[0],n=a().experiences[t];if(JSON.stringify(n?.extraContext||null)===JSON.stringify(i)||(0,d.E3)(n)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return r.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:s}).callGet().then(e=>e.resource_response?o((0,l.cL)(e.resource_response.data)):void 0)},w=(e,t,i,s)=>(o,a,c,d=!1,u,h)=>(p,m)=>{let{experiences:b,experiencesMulti:v}=m(),f=null,w=!0;if(d||(f=(w=!!b[o]&&b[o].experience_id===a)?b[o]:Array.isArray(v[o])&&v[o]?.find(e=>e.experience_id===a)),f&&f.experience_id===a||d&&o&&a){let d=r.Z.create(e,{placed_experience_id:`${o}%3A${a}`,extra_context:u??{},targeting:h}),m=w?l.Yb:l.xW;switch(t){case"dismissed":return d.callDelete().then(()=>{p(m(o,a,t)),p(g(void 0,n)),i&&s&&i({event_type:s,object_id_str:a.toString()})});case"completed":return d.callUpdate().then(()=>{!c&&(p(m(o,a,t)),p(g(void 0,n)),i&&s&&i({event_type:s,object_id_str:a.toString()}))});case"viewed":return p(m(o,a,t)),d.callUpdate().then(()=>{1000162===o&&p(g()),i&&s&&i({event_type:s,object_id_str:a.toString()})});case"completedWithoutHomefeed":return d.callUpdate().then(()=>{c||p(m(o,a,t)),i&&s&&i({event_type:s,object_id_str:a.toString()})})}}return Promise.resolve()},x=()=>{let e=(0,o.Z)();return(0,s.useCallback)(w("UserExperienceViewedResource","viewed",e,4503),[e])},E=()=>{let e=(0,o.Z)();return(0,s.useCallback)(w("UserExperienceCompletedResource","completed",e,6567),[e])},I=()=>{let e=(0,o.Z)();return(0,s.useCallback)(w("UserExperienceResource","dismissed",e,6568),[e])},O=()=>{let e=(0,o.Z)();return(0,s.useCallback)(w("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e])},y=(e,t)=>(i,n)=>{let{experiences:s}=n(),r=s[e];r&&r.triggerable_placed_exps&&r.triggerable_placed_exps.length&&r.triggerable_placed_exps.forEach(i=>{let[,n]=i.split(":"),s=t,o=r?.metadata?.[n];o&&(s={...t,..."object"==typeof o?o:{}}),(0,u.Z)({url:`/v3/experiences/${i.replace(":","%3A")}/trigger/`,method:"PUT",data:s?{extra_context:JSON.stringify(s,null,1)}:{}}).then(()=>{((e,t,i={})=>(0,h.nP)(`${e}.${t}`,{sampleRate:1,tags:i}))("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:n})})})},S=e=>(t,i)=>{t(y(e));let{experiences:n}=i();return n[e]},_=(e,t,i)=>s=>{i&&(n=i),s(y(e,t)),t&&Object.keys(t).length>0&&s(f([e],!1,t,i))},C=async(e,t,i,n)=>{(0,h.nP)("experience_framework.view_duration.error",{sampleRate:1,tags:{func:e,type:t,experience_id:i,placement_id:n}})},k=async(e,t)=>{let i=e instanceof Error?e.message:String(e);(0,h.nP)("experience_framework.view_duration.unknown_error",{sampleRate:1,tags:{function:t,error:i}})},R=e=>{let{placedExperienceId:t,experienceId:i,placementId:n,endReason:s,timeline:r}=e;(0,c.q4)(()=>{let e=(0,a.vG)(t,r);d.ck.log(`[Experience Sessions] ✨ Total duration for experience ${t} is ${e}ms - Sending to statsboard with end reason: ${s}`),(0,h.LY)("experience_framework.view_duration",e,{sampleRate:.2,tags:{placement_id:n,experience_id:i,end_reason:s}})},"calculateTotalDuration",void 0,t,()=>{d.ck.error(`[Experience Sessions] ❌ Error calculating total duration for experience ${t} due to previous error`)})()}},877956:function(e,t,i){i.d(t,{kd:()=>n.kd,Tl:()=>o,CF:()=>a,Ig:()=>n.Ig,x4:()=>n.x4,be:()=>n.be,N:()=>n.N,Sd:()=>n.Sd,YX:()=>n.YX,NW:()=>n.NW,Am:()=>n.Am,dy:()=>c,fO:()=>n.fO,Th:()=>n.Th,pz:()=>n.pz});var n=i(533363),s=i(575108);let r=(e,t,i,r)=>(o,a)=>c=>{if(o&&o.id){let l=s.Z.create(e,{placed_experience_id:o.id,extra_context:{}});switch(t){case"dismissed":l.callDelete().then(()=>{c((0,n.fO)()),i&&r&&i({event_type:r,object_id_str:o.id.toString()})});break;case"completed":l.callUpdate().then(()=>{a||c((0,n.fO)()),i&&r&&i({event_type:r,object_id_str:o.id.toString()})});break;case"viewed":l.callUpdate().then(()=>{i&&r&&i({event_type:r,object_id_str:o.id.toString()})})}}},o=e=>r("UserExperienceCompletedResource","completed",e,6567),a=r("UserExperienceResource","dismissed"),c=e=>r("UserExperienceViewedResource","viewed",e,4503)},9139:function(e,t,i){i.d(t,{OD:()=>a,Yb:()=>o,cL:()=>c,xF:()=>s,xW:()=>r});var n=i(854237);let s=e=>({type:n.$S,payload:{experiencesMulti:e}}),r=(e,t,i)=>({type:n.V$,payload:{placementId:e,experienceId:t,status:i}}),o=(e,t,i)=>({type:n.iY,payload:{placementId:e,experienceId:t,status:i}}),a=e=>({type:n._4,payload:{experiences:e}}),c=e=>({type:n.mR,payload:{experiences:e}})},531014:function(e,t,i){i.d(t,{dg:()=>E,A0:()=>g,E3:()=>h,wQ:()=>x,MQ:()=>m,Qs:()=>I,ck:()=>O,nR:()=>p,Cv:()=>b});var n=i(667294),s=i(20256),r=i(503246),o=i(506662);let a=[11,1000168],c={1:{id:1,route:"/",onRoute:o.HV,placements:[11,1000541,1000503,40001]},13:{id:13,route:"/business/hub/",onRoute:o.h3,placements:[1000168]}};var l=i(510928),d=i(47426),u=i(785893);function h(e){return!!e&&0!==e.type}let p=(e,t,i,n,s,r=!0)=>{let o="existingExperience";return n?h(n)?i&&(o="placementInSurface",!i.placements.includes(e))?{shouldRefresh:!0,refreshReasoning:"placementNotInSurface"}:s?(o="inSSRPlacement",a.includes(e)?{shouldRefresh:!1,refreshReasoning:o}:{shouldRefresh:!0,refreshReasoning:"notAnSSRPlacement"}):!r||(o="placementMounted",t.mountedPlacements[e]||t.registeredAfterActionPlacements[e])?{shouldRefresh:!1,refreshReasoning:o}:{shouldRefresh:!0,refreshReasoning:"placementNotMounted"}:{shouldRefresh:!0,refreshReasoning:"experienceNotRenderable"}:{shouldRefresh:!0,refreshReasoning:"noExistingExperience"}},m=(e,t,i)=>{let n=e[i];return t[i]&&h(n)?n:null};function g(e){return e.display_data?.anchor}function b(e){return Object.values(c).find(t=>t.onRoute?t.onRoute(e):t.route===e.pathname)}let v=/<(\w+)\s*([^>]*)>([^<]*)<\/\1>/gim,f=/(?:href)=["']?([^"'>\s\\]*)["']?/im,w=/(?:target)=["']?([^"'>\s\\]*)["']?/im,x=e=>{let t=function(e){let t=[],i=0;for(let n of Array.from(e.matchAll(v))){if(n.index>i){let s=e.slice(i,n.index);s&&t.push({type:"text",content:s})}let[s,r,o,a]=n;switch(r){case"a":t.push({type:"link",content:a||"",attrs:o||""});break;case"b":t.push({type:"bold",content:a||""});break;default:t.push({type:"text",content:s})}i=n.index+s.length}if(i<e.length){let n=e.slice(i);n&&t.push({type:"text",content:n})}return t}(e);return(0,u.jsx)(s.xv,{inline:!0,children:t.map(({type:e,content:t,attrs:i},r)=>{switch(e){case"text":return(t?.split(`
`)||[]).map((e,i)=>(0,u.jsxs)(n.Fragment,{children:[i>0&&(0,u.jsx)("br",{}),(0,u.jsx)(s.xv,{inline:!0,children:e})]},`${t}-${i}`));case"bold":return(0,u.jsx)(s.xv,{inline:!0,weight:"bold",children:t},`${t}-${r}`);case"link":let o=i?.match(f),a=o&&o.length>1?o[1]:void 0,c=i?.match(w),l=c&&c.length>1?c[1]:void 0;if(!a)return(0,u.jsx)(s.xv,{inline:!0,children:t},`${t}-${r}`);let h=!1;return h=(0,d.Z)({url:a}),(0,u.jsx)(s.rU,{display:"inline",externalLinkIcon:h?"default":"none",href:a,rel:h?"nofollow":"none",target:"_blank"===l?"blank":void 0,children:t},`${a}-${r}`);default:return null}})})},E=()=>"undefined"!=typeof window&&performance&&performance.now?Math.floor(performance.now()):Math.floor(Date.now()),I=(e,t,i)=>{let n=e&&e[i]?e[i]:void 0,s=t&&Object.keys(t).length>0,o=(0,r.Z1)(n?.extraContext||{},t||{},3),a=h(n)&&!s,c={currentExperienceInPlacement:!!n,hasExtraContext:!!s,sameContext:o,experienceRenderable:a};return n&&o||a?{shouldFetch:!1,logValues:c}:{shouldFetch:!0,logValues:c}},O=(0,l.Z)()&&(0,l.Z)().debug_experience_session?console:{log:(...e)=>{},error:(...e)=>{},warn:(...e)=>{}}},93966:function(e,t,i){i.d(t,{$H:()=>a,$q:()=>x,$u:()=>s,Az:()=>u,Cw:()=>S,D6:()=>d,GZ:()=>y,KN:()=>I,Ke:()=>w,Lo:()=>r,P2:()=>b,TS:()=>O,Wv:()=>E,ZZ:()=>p,g5:()=>m,jC:()=>c,lX:()=>g,oX:()=>v,qG:()=>f,tG:()=>o,yF:()=>n,yc:()=>h,yt:()=>l});let n=236,s=270,r=157.33333333333334,o=175,a=24,c=4,l=8,d=2,u=8,h=2,p=14,m=16,g=16,b=24,v=16,f=-1,w=2,x=(e=!1,t=!1)=>e?t?g:12:b,E=({defaultItemWidth:e,contentVisibleItemCount:t,gap:i,moduleWidth:n})=>t||n?(n-((Math.ceil(t)+1)*i+8))/t:e,I=(e,t,i,n,s=p)=>{let r=e+s;return`
@media (min-width: ${t*r}px) and (max-width: ${(i+1)*r-1}px) {
  ${n}
}
`},O=(e,t,i)=>{let s=i?3:2,r=t?5:s,a=t?n:o,c=t?v:l,d=a*r+c*r-(t||!t&&i?12:6);if(!e)return d;for(let t=r;t>=2;t-=1)if(e>d)break;else d=a*t+c*t;return d},y=e=>{let t=Object.values(e.videos?.video_list??{}).find(e=>"number"==typeof e.width&&"number"==typeof e.height);return t?{width:t.width,height:t.height}:{width:0,height:0}},S=e=>!!(e&&"is_premiere"in e&&e.is_premiere&&"videos"in e&&e.videos)},809295:function(e,t,i){function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>u,ZP:()=>p,LU:()=>h});let s=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,r={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},o={},a={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${o[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[r.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[r.exit]:a,[r.stopped]:a,[r.paused]:a,[r.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class l{constructor(e){n(this,"lastIntersectionChange",null),n(this,"setMutationObserver",e=>(this.mutationObserver=e,this)),n(this,"startMutationObserver",e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)}),n(this,"stopMutationObserver",()=>{this.mutationObserver&&this.mutationObserver.disconnect()}),n(this,"handleIntersectionVisibilityChange",(e,t)=>{this.lastIntersectionChange=e,[{type:1,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.top>=143&&e.boundingClientRect.top<t},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.top<143||e.boundingClientRect.top>=t}},{type:50,isVisible:e=>e.intersectionRatio>=.5,isHidden:e=>e.intersectionRatio<.5},{type:80,isVisible:e=>e.intersectionRatio>=.8,isHidden:e=>e.intersectionRatio<.8},{type:2,isVisible:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return e.isIntersecting&&e.boundingClientRect.bottom<=t&&e.boundingClientRect.bottom>=143},isHidden:e=>{let t=e.rootBounds?.bottom??window.innerHeight;return!e.isIntersecting||e.boundingClientRect.bottom<143||e.boundingClientRect.bottom>t}}].forEach(({type:i,isVisible:n,isHidden:s})=>{n(e)?this.lastLoggedVisibleEvent[i]||(this.addVisibleEvent(i,t),this.lastLoggedVisibleEvent[i]=!0):s(e)&&this.lastLoggedVisibleEvent[i]&&(this.addHiddenEvent(i,t),this.lastLoggedVisibleEvent[i]=!1)})}),n(this,"handleIntersectionChange",e=>{let t=e.intersectionRatio>0||e.isIntersecting,i=Date.now();this.handleIntersectionVisibilityChange(e,i),t&&!this.inViewport?(this.startTime=i,this.pinCellWidth=this.node.offsetWidth,this.pinCellHeight=this.node.offsetHeight,this._debug(r.enter,{startTime:i,node:this.node}),this.enterCallbacks.forEach(e=>e())):!t&&this.inViewport&&(this._debug(r.exit,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this.inViewport=t}),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId="",this.pinCellWidth=0,this.pinCellHeight=0,this.visibleEvents=new Map,this.hiddenEvents=new Map,this.lastLoggedVisibleEvent={1:!1,50:!1,80:!1,2:!1}}addVisibleEvent(e,t){let i=this.visibleEvents.get(e)||[];i.push(1e6*t),this.visibleEvents.set(e,i)}addHiddenEvent(e,t){let i=this.hiddenEvents.get(e)||[];i.push(1e6*t),this.hiddenEvents.set(e,i)}hasVisibleEvent(e){return this.visibleEvents.has(e)}hasHiddenEvent(e){return this.hiddenEvents.has(e)}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,s&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this.addHiddenEvent(102,Date.now()),this._debug(r.paused,!0),this.exitCallbacks.forEach(e=>e(this.toJSON()))),this}resume(){if(this.inViewport){let e=Date.now();this._debug(r.resumed,{startTime:e}),this.startTime=e,this.addVisibleEvent(102,e),Object.keys(this.lastLoggedVisibleEvent).forEach(e=>{this.lastLoggedVisibleEvent[e]=!1}),this.lastIntersectionChange&&this.handleIntersectionVisibilityChange(this.lastIntersectionChange,e)}return this}stop(e){return this.inViewport&&(this._debug(r.stopped,!0),this.exitCallbacks.forEach(t=>t(this.toJSON(e)))),this}toJSON(e=""){return{startTime:1e6*this.startTime,endTime:1e6*Date.now(),forcedExit:e,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight,visibleEvents:this.visibleEvents,hiddenEvents:this.hiddenEvents}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:`${(Date.now()-this.startTime)/1e3} seconds`,pinCellWidth:this.pinCellWidth,pinCellHeight:this.pinCellHeight}}_debug(e,t){if(s)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case r.flushed:case r.paused:case r.exit:o[this.debugId]=!0}}}function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:n+"")in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u=!0,h=!1;class p{constructor(){d(this,"_delegateChange",e=>{e.forEach(e=>{let t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)})}),d(this,"_handleMutations",(e,t)=>{let i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")}),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=h,this.observer=new window.IntersectionObserver(this._delegateChange),window.Cypress&&!window.activeImpressions&&(window.activeImpressions=new Map),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){let i=this.activeImpressions.get(e);i&&(i.stop(t),i.mutationObserver&&this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),window.activeImpressions?.delete(e),this.observer?.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new l(e),this.activeImpressions.set(e,t),window.activeImpressions?.set(e,t),this.observer?.observe(e);let i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),t.mutationObserver&&this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=u){this.paused||(Array.from(this.activeImpressions.values()).forEach(e=>e.pause()),this.paused=!0,this.pausePriority===h&&(this.pausePriority=e))}resume(e=u){(e!==h||this.pausePriority!==u)&&this.paused&&(Array.from(this.activeImpressions.values()).forEach(e=>e.resume()),this.paused=!1,this.pausePriority=h)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){let e=Array.from(this.topObstructions).reduce((e,t)=>{let{bottom:i}=t.getBoundingClientRect();return i>e?i:e},0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce((e,t)=>{let{top:i}=t.getBoundingClientRect();return i<e?i:e},window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){let i={rootMargin:`${-e}px 0px ${-t}px`,threshold:[0,.5,.8,1]};this.observer?.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach(e=>this.observer?.observe(e.node)),this.topHeight=e,this.bottomHeight=t}}}},816358:function(e,t,i){i.d(t,{Z:()=>n});let n=new(i(809295)).ZP},47426:function(e,t,i){i.d(t,{Z:()=>s});var n=i(233624);let s=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,n.Z)(e))}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/80976-9a2ad764f4158e63.mjs.map